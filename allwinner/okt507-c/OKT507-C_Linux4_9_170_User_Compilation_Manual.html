

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux4.9.170_User’s Compilation Manual_V1.2 &mdash; Forlinx Embedded T507 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/allwinner/okt507-c/OKT507-C_Linux4_9_170_User_Compilation_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Linux4.9.170_User’s Manual_V1.3" href="OKT507-C_Linux4_9_170_User_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OKT507-C_User_Hardware_Manual.html">User’s Hardware Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OKT507-C_Linux4_9_170_User_Manual.html">Linux4.9.170_User’s Manual_V1.3</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux4.9.170_User’s Compilation Manual_V1.2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vmware-virtual-machine-software-installation">1. VMware Virtual Machine Software Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-downloads-and-purchase">1.1 VMware Software Downloads and Purchase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-installation">1.2 VMware Software Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#loading-the-existing-ubuntu-development-environment">2. Loading the Existing Ubuntu Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#new-ubuntu-development-environment-setup">3. New Ubuntu Development Environment Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu-system-setup">3.1 Ubuntu System Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-virtual-machine-setup">3.1.1 Ubuntu Virtual Machine Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-installation">3.1.2 System Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-basic-configuration">3.1.3 Ubuntu Basic Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-settings-for-virtual-machines">3.1.4 Network Settings for Virtual Machines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#toolkit-installation">3.2 Toolkit Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qt-creator-installation">3.3 Qt Creator Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solutions-to-vmware-errors">3.4 Solutions to VMware Errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linux-compilation">4. Linux Compilation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-compilation">4.1 Preparation Before Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#versions">4.1.1 Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-code-copy-and-release">4.1.2 Source Code Copy and Release</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-file-paths-for-source-code">4.1.3 Common File Paths for Source Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#source-code-compilation">4.2 Source Code Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#full-compilation-test">4.2.1 Full Compilation Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-kernel-separately">4.2.2 Compiling Kernel Separately</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-the-test-program-separately">4.2.3 Compiling the Test Program Separately</a></li>
<li class="toctree-l4"><a class="reference internal" href="#okt507-linux-sdk20-clean">4.2.4 OKT507-LINUX-SDK20 Clean</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qt-configuration-and-use">4.3 Qt Configuration and Use</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#okt507-linux-sdk20-installation">4.3.1 OKT507-LINUX-SDK20 Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-creator-environment-configuration">4.3.2 Qt Creator Environment Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-creator-development-examples">4.3.3 Qt Creator Development Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded T507 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux4.9.170_User’s Compilation Manual_V1.2</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux4-9-170-user-s-compilation-manual-v1-2">
<h1>Linux4.9.170_User’s Compilation Manual_V1.2<a class="headerlink" href="#linux4-9-170-user-s-compilation-manual-v1-2" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading"></a></h2>
<p>This software manual is applicable to the<font style="color:rgb(0,0,0);">OKT507-C platform Linux4.9.170 operating system of Forlinx.</font></p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head text-center"><p>User Manual Version</p></th>
<th class="head"><p>Revision History</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>05/06/2024</p></td>
<td class="text-center"><p>V1.0</p></td>
<td><p>SDK2.0 User’s Compilation Manual Initial Version</p></td>
</tr>
<tr class="row-odd"><td><p>20240619</p></td>
<td class="text-center"><p>V1.1</p></td>
<td><p>1. Replacing some pictures in the manual;<br /> 2. Correcting the layout of the manual.</p></td>
</tr>
<tr class="row-even"><td><p>09/07/2025</p></td>
<td class="text-center"><p>V1.2</p></td>
<td><p>Improving the source code and releasing part of the content.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p><font style="color:#333333;">This manual is designed to enable you to quickly understand the </font><font style="color:#333333;">compilation process</font><font style="color:#333333;">of the products and familiarize yourselves with the </font><font style="color:#333333;">compilation </font><font style="color:#333333;">methods </font><font style="color:#333333;">of</font> <font style="color:#333333;">Forlinx</font><font style="color:#333333;"> products. The application needs to be cross-compiled on an </font><font style="color:#333333;">ubuntu </font><font style="color:#333333;">host before it can run on the development board. </font>By following the methods provided in the compilation manual and performing practical operations, you will be able to successfully compile your own software code.</p>
<p>The manual will provide instructions for setting up the environment but there may be some unforeseen issues during the environment setup process. For beginners, it is recommended to use the pre-configured development environment provided by us. This will allow you to quickly get started and reduce development time.</p>
<p>Linux systems are typically installed in three ways: dual system on a real machine, single system on a real machine, and virtual machine. Different installation methods have their advantages and disadvantages. This manual only provides methods to build ubuntu in a virtual machine.</p>
<p>Hardware Requirements: It is recommended to have at least 16GB memory or above. It allows for allocating a sufficient memory to the virtual machine (recommended to allocate 10GB or above), while still leaving enough resources for other operations on Windows. Insufficient memory allocation may result in slower performance on Windows.</p>
<p>The manual is mainly divided into five chapters:</p>
<p>Chapter 1. is about the installation of virtual machine software, providing a brief introduction to the download and installation of VMware software.</p>
<p>Chapter 2. offers the loading of the Ubuntu system;</p>
<p>Chapter 3. is about the setup, configuration and installation of necessary tools for the Ubuntu system, as well as common issues related to the development environment;</p>
<p>Chapter 4. is the data and compilation method required for the compilation of the source code of the product;</p>
<p>Chapter 5. is the configuration of QT compiling environment and the method of program compiling.</p>
</section>
<section id="vmware-virtual-machine-software-installation">
<h2>1. VMware Virtual Machine Software Installation<a class="headerlink" href="#vmware-virtual-machine-software-installation" title="Link to this heading"></a></h2>
<p>This chapter mainly introduces the installation of VMware virtual machines, using VMware Workstation 15 Pro v15.1.0 as an example to demonstrate the installation and configuration process of the operating system.</p>
<section id="vmware-software-downloads-and-purchase">
<h3>1.1 VMware Software Downloads and Purchase<a class="headerlink" href="#vmware-software-downloads-and-purchase" title="Link to this heading"></a></h3>
<p>Visit Vmware official website <a class="reference external" href="https://www.vmware.com/cn.html">https://www.vmware.com/cn.html</a> for downloading Workstation Pro and obtaining the product key. VMware is a paid software that requires purchasing, or you can choose to use a trial version.</p>
<p><img alt="Image" src="_images/1718937089880_2e0f66e8_0186_4acc_922d_e73d2bbc63e5.png" /></p>
<p>After the download is complete, double-click the installation file to start the installation program.</p>
</section>
<section id="vmware-software-installation">
<h3>1.2 VMware Software Installation<a class="headerlink" href="#vmware-software-installation" title="Link to this heading"></a></h3>
<p>Double-click the startup program to enter the installation wizard.</p>
<p><img alt="Image" src="_images/1718937090071_cdc762f7_7e9f_4414_affd_8d52a5993322.png" /></p>
<p>Click on “Next”.</p>
<p><img alt="Image" src="_images/1718937090354_27da07fe_52e3_4fe1_aef5_52c93dfa7f3f.png" /></p>
<p>Check the terms in the license agreement that I accept, then click “Next”.</p>
<p><img alt="Image" src="_images/1718937090534_5d065eea_f58a_420c_9f17_75ec64668456.png" /></p>
<p>Modify the installation location to the partition where you want to install the software on your computer, then click “Next”.</p>
<p><img alt="Image" src="_images/1718937090750_d965db68_ff03_45ac_9e8c_6135db5be6b8.png" /></p>
<p>Check and click on “Next”.</p>
<p><img alt="Image" src="_images/1718937090936_318dc091_a88b_4d9a_84be_b1a5aca06595.png" /></p>
<p>Check the box to add a shortcut, then click “Next”.</p>
<p><img alt="Image" src="_images/1718937091182_032230f8_b3b4_4c71_9482_994a9865483a.png" /></p>
<p>Click “Installation”.</p>
<p><img alt="Image" src="_images/1718937091378_75d3fd2f_b5c1_4680_b0a5_87fe8628230f.png" /></p>
<p>Wait for the installation to complete.</p>
<p><img alt="Image" src="_images/1718937091595_3069f476_0def_4633_82ed_377918bdbf91.png" /></p>
<p>Click “Finish” to try it out. If users need to use it for a long time, they need to buy it from the official and fill in the license.</p>
</section>
</section>
<section id="loading-the-existing-ubuntu-development-environment">
<h2>2. Loading the Existing Ubuntu Development Environment<a class="headerlink" href="#loading-the-existing-ubuntu-development-environment" title="Link to this heading"></a></h2>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>It is recommended for beginners to directly use the pre-built virtual machine environment provided by Forlinx, which already includes installed cross-compiler and Qt environment. After understanding this chapter, you can directly jump to the compilation chapter for further study；</strong></p></li>
<li><p><strong>The development environment provided for general users is: forlinx (username), forlinx (password). The superuser is: root (username), root (password).</strong></p></li>
</ul>
<p>There are two ways to use a virtual machine environment in VMware: one is to directly load an existing environment, and the other is to create a new environment.</p>
<p>First, download the development environment provided by Forlinx. In the development environment documentation, there should be an MD5 checksum file. After downloading the development environment, you should verify the integrity of the compressed package using the MD5 checksum. (You can use an on-line MD5 checksum tool or download a specific MD5 checksum tool for this purpose). To check if the checksum in the verification file matches the checksum of the file itself. If they match, the file download is successful. If they don’t match, it suggests that the file may be corrupt, and you should consider downloading it again.</p>
<p><img alt="Image" src="_images/1718937095380_31a6be59_0091_41f9_becd_84f56b4c55ee.png" /></p>
<p>Select all compressed files, right-click and extract to the current folder or your own directory:</p>
<p><img alt="Image" src="_images/1718937095604_9f918a3d_2705_43bd_802a_a64c922fad07.png" /></p>
<p>After the extraction is complete, you will obtain the development environment OKT507-VM15.1.0-ubuntu18.04.</p>
<p>The file “t507development environment.vmx” in the OKT507-VM15.1.0-ubuntu18.04 folder is the file that you need to open to access the virtual machine.</p>
<p>Open the installed virtual machine.</p>
<p><img alt="Image" src="_images/1718937095790_abdfb21b_2192_42d1_b259_24e87f98d56c.png" /></p>
<p>Navigate to the directory where the recently extracted OKT507-VM15.1.0-ubuntu18.04 virtual machine file is located, and double-click on the startup file to open it.</p>
<p>Turn on this virtual machine after loading is complete to run it and enter the system’s interface.</p>
<p>The default login account for automatic login in the development environment is “forlinx”.</p>
<p><img alt="Image" src="_images/1718937096582_1384fc63_3256_485f_914b_c8d1cb87f91a.png" /></p>
</section>
<section id="new-ubuntu-development-environment-setup">
<h2>3. New Ubuntu Development Environment Setup<a class="headerlink" href="#new-ubuntu-development-environment-setup" title="Link to this heading"></a></h2>
<p><strong>Note: Beginners are not recommended to set up a system on their own. It is recommended to use an existing virtual machine environment. If you do not need to set up the environment, you can skip this section.</strong></p>
<p>This chapter mainly explains the process of setting up the Ubuntu system and installing Qt Creator. If the user is not using Qt, the installation of Qt Creator can be ignored.</p>
<section id="ubuntu-system-setup">
<h3>3.1 Ubuntu System Setup<a class="headerlink" href="#ubuntu-system-setup" title="Link to this heading"></a></h3>
<section id="ubuntu-virtual-machine-setup">
<h4>3.1.1 Ubuntu Virtual Machine Setup<a class="headerlink" href="#ubuntu-virtual-machine-setup" title="Link to this heading"></a></h4>
<p>Step 1: Open the VMware software and click [File]/ [New Virtual Machine]. Enter the following interface</p>
<p><img alt="Image" src="_images/1718937103373_51b62e84_9619_4d62_ab3c_745095a342af.png" /></p>
<p>Step 2: Select Custom and click “Next”.</p>
<p><img alt="Image" src="_images/1718937103579_781d12a6_5cbd_401e_a8b1_e4684957f946.png" /></p>
<p>Select the compatibility with the corresponding version of VMware, which can be found in Help-&gt;About VMware Workstation, and click “Next”.</p>
<p><img alt="Image" src="_images/1718937103853_a953ed62_cfd5_4c38_b46c_6cd657e88785.png" /></p>
<p>Select Install the operating system later and click “Next”.</p>
<p><img alt="Image" src="_images/1718937104872_995344f4_2a33_4888_aad0_3dfaf69ba66c.png" /></p>
<p>Keep the default settings and click “Next”.</p>
<p><img alt="Image" src="_images/1718937105082_79c51863_75ee_4d15_aee4_b8de24ddeb29.png" /></p>
<p>Modify the name and installation location of your virtual machine, and click “Next”.</p>
<p><img alt="Image" src="_images/1718937105321_8386a4b9_f7f4_40bf_8101_e91e34e7d43b.png" /></p>
<p>Configure the number of CPU based on your computer’s actual specifications.</p>
<p><img alt="Image" src="_images/1718937105566_0c51906d_1c75_486c_8c4b_f538e0c20f0e.png" /></p>
<p>Set the memory size according to your actual specifications. (For Linux kernel compilation, a memory size of 4GB is sufficient, while Android source code compilation requires higher memory requirements).</p>
<p><img alt="Image" src="_images/1718937105771_31799739_5262_45ae_95e8_82f25f317933.png" /></p>
<p>Set the network type, default to NAT mode then click “Next”. Keep the default values for the remaining steps until you reach the step to specify the disk capacity.</p>
<p><img alt="Image" src="_images/1718937105969_748da745_cc09_4475_95f8_9b11776a95a4.png" /></p>
<p>The default selection for the IO controller type here is LSI.</p>
<p><img alt="Image" src="_images/1718937106197_27aff854_dfab_4f1f_871c_d7302611bf5c.png" /></p>
<p>The default selection here is also SCSI.</p>
<p><img alt="Image" src="_images/1718937106435_d0280914_1204_4497_a936_736fbee368e8.png" /></p>
<p>Choose to create a new virtual disk here.</p>
<p><img alt="Image" src="_images/1718937106707_9ac8f6b5_9b7e_4ec5_acfd_6ff84f906795.png" /></p>
<p>Set the disk size to 500G, select the disk provisioning format, and then click “Next”.</p>
<p><img alt="Image" src="_images/1718937107372_b533d0b8_2b2d_418f_818e_1b19835ba3e0.png" /></p>
<p>Specify the disk file, the default one here is fine</p>
<p><img alt="Image" src="_images/1718937107592_3a647f4d_fa1f_4ed1_a3b0_520e4b901984.png" /></p>
<p>Click “Finish” by default.</p>
<p><img alt="Image" src="_images/1718937107850_72199073_b61d_49b9_8596_1c0fe2e266ae.png" /></p>
<p>The virtual machine creation is now complete.</p>
</section>
<section id="system-installation">
<h4>3.1.2 System Installation<a class="headerlink" href="#system-installation" title="Link to this heading"></a></h4>
<p>In the previous section, a virtual machine has been created, but the operating system hasn’t been installed yet, so the virtual machine cannot be started. Next, the Ubuntu operating system will be installed in the newly created virtual machine.</p>
<p>Step 1: Go to the Ubuntu official website to obtain the Ubuntu 18.04 image. The download address for Ubuntu 18.04 is:</p>
<p><a class="reference external" href="https://www.ubuntu.com/download/desktop">https://www.ubuntu.com/download/desktop</a></p>
<p>The installed Ubuntu version is 18.04. One of the reasons for choosing 18.04 is that all the source code compilation operations have been compiled and verified on Ubuntu 18.04. There may be slight differences when performing these operations on different Ubuntu system versions.</p>
<p>Download address: <a class="reference external" href="http://releases.ubuntu.com/18.04/">http://releases.ubuntu.com/18.04/</a></p>
<p><img alt="Image" src="_images/1718937108079_b2848c5c_4fce_404d_828a_5a5252ec9acf.png" /></p>
<p>Download “ubuntu-18.04.5-desktop-amd64.iso”</p>
<p>After downloading the mirror image, you can proceed with the system installation operation.</p>
<p>Right-click on the created virtual machine name and select “Settings” from the pop-up menu</p>
<p><img alt="Image" src="_images/1718937108310_a8eb1773_98e3_40ad_b459_c65d8177c3a9.png" /></p>
<p>The “Virtual Machine Settings” menu will pop up.</p>
<p><img alt="Image" src="_images/1718937108541_486b5424_b2f1_478e_9984_32e5f0f21239.png" /></p>
<p>Click on CD/DVD (SATA), select “Use ISO image file,” browse and choose the previously downloaded Ubuntu image, then click “OK” to confirm.</p>
<p><img alt="Image" src="_images/1718937108735_5a25b6f8_2670_4292_b30b_1a15557fecc2.png" /></p>
<p>After setting up the image, ensure that the network is available. Then, start the virtual machine and proceed with the installation of the Ubuntu image.</p>
<p><img alt="Image" src="_images/1718937108967_f7cd3932_9289_43ed_b928_f66e215e4fc2.png" /></p>
<p>After starting the virtual machine, wait for the installation interface to appear as shown below.</p>
<p><img alt="Image" src="_images/1718937109231_b4f21e8f_5425_4ace_8ad4_d48196cecc35.png" /></p>
<p>After selecting the language on the left side as shown in the image, click “Install Ubuntu”, and the language selection interface will pop up. The default language of Ubuntu is English, but of course, you can also choose Others.</p>
<p><img alt="Image" src="_images/1718937109445_980dfa72_5c52_40d7_b7c3_98cfcc7dd7cb.png" /></p>
<p>The default selected language can also be reset at a later stage, after the selection is complete continue.</p>
<p><img alt="Image" src="_images/1718937109919_302e558a_0880_4fe8_a487_c4ce4c6650bc.png" /></p>
<p>Next, select “Continue” as the default option to proceed with the installation. The installation process might be slow. Then, click “Continue” again.</p>
<p><img alt="Image" src="_images/1718937110147_17997601_2f07_42b3_ac05_7b4b9cea348f.png" /></p>
<p>By default, when you click on “Install Now”, a dialog box will appear as shown in the image. Simply click “Continue” to proceed.</p>
<p><img alt="Image" src="_images/1718937110336_bc2dd9d7_85a3_42a9_b362_fe5714e9d832.png" /></p>
<p>Next, select the timezone. You can either click on the Shanghai timezone or enter “Shanghai” (or choose the appropriate timezone based on your location). Then, click “Continue” to proceed. Finally, set your username and password. You can choose either automatic login or login with a username and password. Click “Continue” to start the automatic installation.</p>
<p><img alt="Image" src="_images/1718937110561_9324ea31_699d_4d67_9f7e_989274dc5075.png" /></p>
<p>If the internet connection is poor, you can Skip without affecting the installation process.</p>
<p><img alt="Image" src="_images/1718937110778_994ede34_0a66_444f_a974_140a79dfac63.png" /></p>
<p>Click “Restart” Now to reboot.</p>
<p><img alt="Image" src="_images/1718937111090_db1a4f43_9962_427f_85f5_e8ef0fb77224.png" /></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>![Image](./images/OKT507-C_Linux4_9_170_User_Compilation_Manual/1718937111390_0361b083_b278_45af_bba3_42e9b07cab02.png)
</pre></div>
</div>
<p>The system interface after the reboot is complete</p>
<p><img alt="Image" src="_images/1718937111949_6afb901e_eb9e_4866_8f6f_24c012607197.png" /></p>
<p>The ubuntu system installation is complete.</p>
</section>
<section id="ubuntu-basic-configuration">
<h4>3.1.3 Ubuntu Basic Configuration<a class="headerlink" href="#ubuntu-basic-configuration" title="Link to this heading"></a></h4>
<p>After installing the Ubuntu 18.04 operating system, there are a few configurations to make.</p>
<p>VMware Tools Installation:</p>
<p>Next, install VMware Tools. Without installing this tool, you won’t be able to copy and paste and drag file between the Windows host and the virtual machine. First click on “Virtual Machine” on the VMware navigation bar, then click “Install VMware Tools” in the drop-down box.</p>
<p><img alt="Image" src="_images/1718937112312_6ed68b2f_e7bb_409a_b722_cadb277c8039.png" /></p>
<p>Once done, enter Ubuntu and the VMware Tools CD will appear on your desktop and click into it</p>
<p><img alt="Image" src="_images/1718937112688_2bf40287_b303_46d0_bf8c_d2a131ba5f40.png" /></p>
<p>Enter and see a compressed file VMwareTools-10.3.10-12406962 (it may be different for different VM versions); copy the file under the home directory (i.e. the directory with the home personal username)</p>
<p><img alt="Image" src="_images/1718937112921_a50a0514_a813_4917_8f68_26164c985513.png" /></p>
<p>Press [Ctrl+Alt+T] to bring up the Terminal Command Interface and enter the command:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo tar xvf VMwareTools-10.3.10-12406962.tar.gz
</pre></div>
</div>
<p><img alt="Image" src="_images/1718937113183_d3b12647_be1d_425c_bddf_1052d65b63b0.png" /></p>
<p>After the extraction is complete, a file named “vmware-tools-distrib” will appear.</p>
<p><img alt="Image" src="_images/1718937113409_4b2dbe89_0b19_4fb9_b123_06ed4927151f.png" /></p>
<p>Go back to the terminal and type: cd vmware-tools-distrib to enter the directory.</p>
<p>Enter: sudo ./vmware-install.pl followed by pressing Enter. Then, enter your password and the installation process will begin. When prompted, you can input “yes” and press Enter to proceed. For any other inquiries, simply press Enter to go with the default installation settings.</p>
<p><img alt="Image" src="_images/1718937113642_2f75f7c5_7820_4235_a20a_166ce6ee8195.png" /></p>
<p>Once the VMware tools is complete, we can implement file copy and paste between Windows and Ubuntu.</p>
<p>The virtual machine is displayed full screen:</p>
<p>If the virtual machine is not able to be displayed in full screen, you can resolve this issue by clicking on “View” and selecting “Autofit Guest.” This will adjust the display to fit the screen automatically, enabling you to have a full-screen experience in the virtual machine</p>
<p><img alt="Image" src="_images/1718937113833_7ec5298d_1a6e_4ca3_be4d_5780b1e1651d.png" /></p>
<p>Make most of the system settings in the location shown. A lot of the setup requirements on Ubuntu can be done here.</p>
<p><img alt="Image" src="_images/1718937114124_750fbc57_3818_4cbb_8321_4f1a685bac9f.png" /></p>
<p>Virtual machine hibernation settings:</p>
<p>Also, the default hibernation is 5min, if you don’t want to set hibernation, just set it to Never by setting Power-&gt;Blank screen.</p>
<p><img alt="Image" src="_images/1718937114367_e9f15d64_ad3c_4a30_adda_cfad8a6a0672.png" /></p>
</section>
<section id="network-settings-for-virtual-machines">
<h4>3.1.4 Network Settings for Virtual Machines<a class="headerlink" href="#network-settings-for-virtual-machines" title="Link to this heading"></a></h4>
<section id="nat-connection-method">
<h5>3.1.4.1 NAT Connection Method<a class="headerlink" href="#nat-connection-method" title="Link to this heading"></a></h5>
<p>By default, after the virtual machine is installed, the network connection method is set to NAT, which shares the host machine’s IP address. This configuration does not need to be changed when performing tasks like installing dependencies or compiling code.</p>
<p>When the VMware virtual NIC is set to NAT mode in a virtual machine, the network in the Ubuntu environment can be set to dynamic IP. In this mode the virtual NAT device and the host NIC are connected to communicate for Internet access. This is the most common way for our VM to access the external network.</p>
<p><img alt="Image" src="_images/1718937114672_e10dc559_17c7_47c9_b2a2_7bd9eb443571.png" /></p>
</section>
<section id="connections-for-bridges">
<h5>3.1.4.2 Connections for Bridges<a class="headerlink" href="#connections-for-bridges" title="Link to this heading"></a></h5>
<p>When the VMware virtual NIC device is in bridge mode, the host NIC and the virtual machine NIC communicate through the virtual bridge, and the network IP and the host need to be set in the same network segment in the Ubuntu environment. If accessing an external network, you need to set the DNS to be consistent with the host NIC. If TFTP, SFTP and other servers are used, the network contact mode of the virtual machine needs to be set as the bridge mode.</p>
<p><img alt="Image" src="_images/1718937114917_9a09a8e1_f7fe_4e40_92b1_ece668ea23c2.png" /></p>
</section>
</section>
</section>
<section id="toolkit-installation">
<h3>3.2 Toolkit Installation<a class="headerlink" href="#toolkit-installation" title="Link to this heading"></a></h3>
<p>Before compiling, execute the following commands to install the necessary toolkits.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo apt-get update
forlinx@ubuntu:~$ sudo apt-get install openssh-server vim git fakeroot
forlinx@ubuntu:~$ sudo apt-get install git-core gitk git-gui gcc-arm-linux-gnueabihf u-boot-tools device-tree-compiler gcc-aarch64-linux-gnu mtools parted libudev-dev libusb-1.0-0-dev python-linaro-image-tools linaro-image-tools autoconf autotools-dev libsigsegv2 m4 intltool libdrm-dev curl sed make binutils build-essential gcc g++ bash patch gzip bzip2 perl tar cpio python unzip rsync file bc wget libncurses5 libqt4-dev libglib2.0-dev libgtk2.0-dev libglade2-dev cvs git mercurial rsync openssh-client subversion asciidoc w3m dblatex graphviz python-matplotlib libssl-dev texinfo liblz4-tool genext2fs busybox
forlinx@ubuntu:~$ sudo dpkg --add-architecture i386
forlinx@ubuntu:~$ sudo apt-get update
forlinx@ubuntu:~$ sudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386 libc6:i386
</pre></div>
</div>
<p>The above commands are required to compile directly using an Ubuntu virtual machine or Linux host.</p>
</section>
<section id="qt-creator-installation">
<h3>3.3 Qt Creator Installation<a class="headerlink" href="#qt-creator-installation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Path: OKT507-C（Linux）User’s Manual\Linux\source code \qt-creator-opensource-linux-x86_64-4.7.0.zip</p></li>
</ul>
<p>Extract qt-creator-opensource-linux-x86_64-4.7.0.run from qt-creator-opensource-linux-x86_64-4.7.0.zip and copy to the current user’s home directory and execute it:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ ./qt-creator-opensource-linux-x86_64-4.7.0.run
</pre></div>
</div>
<p>The following screen will pop up, click “Next” to proceed to the next step:</p>
<p><img alt="Image" src="_images/1718937115148_fb602c7c_f1f6_4051_be8d_8f0a8709fd92.png" /></p>
<p>In the following screen, register or log in to your account and click “Next” to proceed to the next step:</p>
<p><img alt="Image" src="_images/1718937115369_e20e2f87_54b8_41b9_9197_fe81cb284c98.png" /></p>
<p>In the following screen, click “Next” to proceed to the next step:</p>
<p><img alt="Image" src="_images/1718937115610_d3ec1b32_2853_460f_94e7_06bf759353ca.png" /></p>
<p>In the following interface, click “Browse…” to select the installation path of Qtcreator, after the selection is complete, click “Next” to enter the next step:</p>
<p><img alt="Image" src="_images/1718937116081_a7148579_d3e3_4874_958a_223f0bfe3e5e.png" /></p>
<p>In the following screen, check the first item and click “Next” to proceed to the next step:</p>
<p><img alt="Image" src="_images/1718937116405_9cd8ffe3_9d72_4977_9b83_93cc71e7ae33.png" /></p>
<p>Select the radio box “I have read and agree to the terms contained in the license agreement” button in the following screen, before clicking “Next”:</p>
<p><img alt="Image" src="_images/1718937116650_fc78b1d2_f3d8_41d2_85d7_f1ad05d10eac.png" /></p>
<p>In the following screen, click “Install” to install Qt.</p>
<p><img alt="Image" src="_images/1718937116897_c7da1f3f_6207_41d5_9b7b_91a584fae808.png" /></p>
<p>After the installation is complete, the following interface will be displayed, uncheck the option “Launch Qt Creator” and click “Finish” to complete the installation of Qtcreator:</p>
<p><img alt="Image" src="_images/1718937117131_383036b6_d1d5_44b9_af20_a66b4b292bc3.png" /></p>
<p>Open the software to execute it:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/qtcreator-4.7.0 /bin
forlinx@ubuntu:~$ ./qtcreator
</pre></div>
</div>
</section>
<section id="solutions-to-vmware-errors">
<h3>3.4 Solutions to VMware Errors<a class="headerlink" href="#solutions-to-vmware-errors" title="Link to this heading"></a></h3>
<p>Error 1: Unable to connect to MKS. Too many socket connection attempts; giving up.</p>
<p><img alt="Image" src="_images/1718937117478_8354756a_d891_47b4_ad07_032bec9791b0.png" /></p>
<p>Solution:</p>
<p>My Computer -&gt; Right click -&gt; Management -&gt; Services and Applications -&gt; Services: turn on all the services about</p>
<p><img alt="Image" src="_images/1718937117704_69cc6e1f_5f1a_41b7_831f_f2a9e311ca73.png" /></p>
<p>After the service starts successfully, restart the virtual machine; or hang the virtual machine first, and when the service starts, continue to run the hung virtual machine;</p>
<p>Error 2: Internal error</p>
<p><img alt="Image" src="_images/1718937118015_2a014d8f_d725_42bc_914d_95e5c6ee271a.png" /></p>
<p>Solution: Refer to solution 1</p>
<p>Error 3: Unable to install service VMware Authorization Service (VMAuthdService)</p>
<p><img alt="Image" src="_images/1718937118252_3a0db7ec_e171_48a2_9e42_8b209b8aa1f7.png" /></p>
<p>Solution:</p>
<p>win+R</p>
<p>Enter services.msc</p>
<p><img alt="Image" src="_images/1718937118449_e2d02e6f_08db_40b0_bd31_25f34b3bef55.png" /></p>
<p>Then find the service and start it up as an authorization and authentication service for starting and accessing virtual machines.</p>
<p><img alt="Image" src="_images/1718937118680_cb7b48be_1cdb_412a_a7a4_94ecb4b74ab9.png" /></p>
<p>WMI must be started first:</p>
<p><img alt="Image" src="_images/1718937119008_02dd03ac_e062_4cf8_84de_32a7edbcbddb.png" /></p>
<p>Error 4：Failed to install the hcmon driver</p>
<p><img alt="Image" src="_images/1718937119349_231d50e1_1f73_4311_ad94_69f91eb4426c.png" /></p>
<p>Solution: Delete C:\Windows\System32\drivers\hcmon.sys, then install again.</p>
<p>Error 5: Intel VT-x in disabled state</p>
<p><img alt="Image" src="_images/1718937119558_3053390a_81d9_4fcb_851d_cb2a187defef.png" /></p>
<p>Solution:</p>
<p>①Enter the BIOS screen while booting (F2 or F12)</p>
<p>②configuration–》intel virtual technology–》–“change disabled to enabled–“save the setting, exit and reboot.</p>
<p>③Reopen VMware and turn on the virtual machine.</p>
<p>If that doesn’t work, just turn the firewall off and reopen the VM. (varies by machine)</p>
<p>Error 6: The virtual machine appears to be in use… Acquiring Ownership (T)</p>
<p><img alt="Image" src="_images/1718937119772_b56edfc6_1ec0_4f52_992c_4289dda3b423.png" /></p>
<p>Solution:</p>
<p>①Shut down the virtual machine</p>
<p>② Enter the storage directory of the virtual machine and delete the *.lck file, where lck represents the locked file.</p>
<p>③ Open the Windows Task Manager and kill the VMware process</p>
<p><img alt="Image" src="_images/1718937119997_37618ff2_3bbd_4c07_ad3e_91c53df0caf0.png" /></p>
<p>④Reopen the virtual machine</p>
<p>Error 7: Failed to lock file</p>
<p><img alt="Image" src="_images/1718937120251_fb447b5b_39ad_4588_8847_8d735c4d2153.png" /></p>
<p>Solution:</p>
<p>①Go to the virtual machine’s storage directory</p>
<p>②Delete.vmem.lck，.vmdk.lck，*.vmx.lck</p>
<p>③Reopen the VM, you can enter the VM normally</p>
<p>Error 8：The virtual machine could not be started because there was not enough memory available on the host.</p>
<p>Solution:</p>
<p>The virtual machine does not have enough memory to run the image’s maximum requirements； increase the virtual machine’s memory and reboot the virtual machine</p>
<p><img alt="Image" src="_images/1718937120595_af781b48_3f4a_49c8_a687_68b32ff50b6e.png" /></p>
</section>
</section>
<section id="linux-compilation">
<h2>4. Linux Compilation<a class="headerlink" href="#linux-compilation" title="Link to this heading"></a></h2>
<p><strong>Note: Please do not skip this paragraph.</strong></p>
<p>The development environment is the hardware and software platform that developers need during the development process. Development environment is not a fixed style . In the previous article, it is explained in detail how to build an embedded Linux development environment. If you already know a lot about embedded development, you can build the environment according to your needs. If you encounter some problems, you can search for related information from some big Linux forums and websites to solve them. The operations mentioned in this section are performed on the development environment provided by us, which has been tested by Forlinx. If you are not very familiar with embedded development, we recommend you to use the environment provided by us. <strong>The development environment provided for general users is: forlinx (username), forlinx (password). The superuser is: root (username), root (password).</strong></p>
<section id="preparation-before-compilation">
<h3>4.1 Preparation Before Compilation<a class="headerlink" href="#preparation-before-compilation" title="Link to this heading"></a></h3>
<section id="versions">
<h4>4.1.1 Versions<a class="headerlink" href="#versions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Virtual Machine Software: Vmware 15.1.0</p></li>
<li><p>Recommended OS: Ubuntu 18.04 64-bit</p></li>
<li><p>Cross-toolchain: aarch64-linux-gnu</p></li>
<li><p>Bootloader version: u-boot-2018.05</p></li>
<li><p>Kernel version: linux-4.9</p></li>
<li><p>Development board QT version: qt5.12.5</p></li>
</ul>
</section>
<section id="source-code-copy-and-release">
<h4>4.1.2 Source Code Copy and Release<a class="headerlink" href="#source-code-copy-and-release" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Kernel Source Code Path: User Profile\Linux\Source Code\OKT507-linux-sdk20.tar.bz2</strong></p></li>
</ul>
<p>1. Copy Source Code</p>
<p>Forlinx OKT507-linux-sdk.tar.bz2 includes toolchain, user sdk, Linux kernel, file system, test program source code and some tools etc.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ mkdir /home/forlinx/work							//Create working directory
</pre></div>
</div>
<p>Copy the source package to the/home/forlinx/work directory of the virtual machine</p>
<p>You can directly drag the source code package from your computer to the folder on the virtual machine’s desktop, or you can use commands to copy them using the shared folder feature. Here, the emphasis is on the use of shared folders.</p>
<p>There are many kinds of file transfers between ubuntu and Windows hosts. After installing VMware Tools, you can set up a virtual machine shared folder to mount the file directory of the Windows host to ubuntu for file sharing.</p>
<p>Click “Virtual Machine” in the menu bar and select “Settings”.</p>
<p><img alt="Image" src="_images/1718937126837_f0c13f43_b36a_410a_8be9_699a5182e244.png" /></p>
<p>Click “Options”, enable “Shared Folders”, set the shared directory on the Windows host, and click “OK”.</p>
<p><img alt="Image" src="_images/1718937127124_d59c9a74_8eaf_4813_8bc6_711b7d5dd09e.png" /></p>
<p>After the file sharing setup of the virtual machine is complete, put the source package OKT507-linux-sdk.tar.bz2 into the shared folder of the Windows host；here we name it share.</p>
<p>The shared folder is in the mount directory /mnt/hgfs/share in ubuntu；view the files in the mount directory</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ ls /mnt/hgfs/share/                                //Viwed the files in the shared directory
OKT507-linux-sdk20.tar.bz2
</pre></div>
</div>
<p>Copy the source code from the shared folder to ubuntu/home/forlinx/work.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo cp /mnt/hgfs/share/OKT507-linux-sdk20.tar.bz2 /home/forlinx/work/      
[sudo] password for forlinx: 
forlinx@ubuntu:~$ cd /home/forlinx/work
forlinx@ubuntu:~/work$ tar xvf OKT507-linux-sdk20.tar.bz2
</pre></div>
</div>
<p>If there are multiple packages in the data version you are using, please use the following command to extract them.</p>
<p><img alt="Image" src="_images/1752025042398_ad32dab8_10c9_457b_8729_c601e1f3ecb0.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ cat OKT507-linux-sdk20.tar.bz2.0* | tar jxv
</pre></div>
</div>
<p>2. Modification of file groups</p>
<p>When compiling using a regular account, you need to change the group ownership of the source code files to the current account.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/$ ls –l // View the attributes of the source code files
drwxr-xr-x 4 root root 4096 Apr 19 10:50 OKT507-linux-sdk
forlinx@ubuntu:~/work/$ id // View the ID of the current account
uid=1000(forlinx) gid=1000(forlinx) uid=1000(forlinx) gid=1000(forlinx) groups=1000(forlinx),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),116(lpadmin),126(sambashare),999(docker)
forlinx@ubuntu:~/work/$ sudo chown 1000:1000 -R OKT507-linux-source20 // Modify the file ownership and group
forlinx@ubuntu:~/work/$ ls -l
drwxr-xr-x 4 forlinx forlinx 4096 Apr 19 10:50 OKT507-linux-source20
</pre></div>
</div>
</section>
<section id="common-file-paths-for-source-code">
<h4>4.1.3 Common File Paths for Source Code<a class="headerlink" href="#common-file-paths-for-source-code" title="Link to this heading"></a></h4>
<p>OKT507-C platform, the software configuration file path (starting under the SDK source code OKT507-linux-sdk path) is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>File</p></th>
<th class="head"><p>Path</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Kernel configuration file</p></td>
<td><p>kernel/linux-4.9/arch/arm64/configs/sun50iw9p1smp_longan_defconfig</p></td>
</tr>
<tr class="row-odd"><td><p>Device tree file</p></td>
<td><p>kernel/linux-4.9/arch/arm64/boot/dts/sunxi/sun50iw9p1.dtsi</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>kernel/linux-4.9/arch/arm64/boot/dts/sunxi/sun50iw9p1-pinctrl.dtsi</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>kernel/linux-4.9/arch/arm64/boot/dts/sunxi/OKT507-C-Common.dtsi</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>kernel/linux-4.9/arch/arm64/boot/dts/sunxi/OKT507-C-Linux.dts</p></td>
</tr>
<tr class="row-odd"><td><p>sysconfig.fex</p></td>
<td><p>device/config/chips/t507/configs/okt507/sys_config.fex</p></td>
</tr>
<tr class="row-even"><td><p>File system source files</p></td>
<td><p>platform/framework/auto/rootfs/<br/>out/t507/okt507/longan/buildroot/target/&lt;br/                                                                              In the process of packaging, the file in rootfs will overwrite the file of the same name in the same path in target, and you can operate in the relevant directory when modifying the file system.</p></td>
</tr>
<tr class="row-odd"><td><p>Uboot environment variable setup file</p></td>
<td><p><font style="color:rgb(0, 0, 0);">device/config/chips/t507/configs/okt507/longan/env.cfg</font><br/>You can modify this file if you need to modify or add default environment variables.</p></td>
</tr>
<tr class="row-even"><td><p>Test program path</p></td>
<td><p>platform/framework/auto/fltest_cmd_demo      Command line test program source code directory<br/>platform/framework/auto/fltest_qt_demo       Qt test program source code directory</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="source-code-compilation">
<h3>4.2 Source Code Compilation<a class="headerlink" href="#source-code-compilation" title="Link to this heading"></a></h3>
<section id="full-compilation-test">
<h4>4.2.1 Full Compilation Test<a class="headerlink" href="#full-compilation-test" title="Link to this heading"></a></h4>
<p>Full compilation refers to the unified compilation of source code, including kernel source code, library files, applications, file system packaging, and so on.</p>
<p>First select the configuration:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/work/OKT507-linux-sdk20			//Enter the source code path
forlinx@ubuntu:~/work/OKT507-linux-sdk20$ ./build.sh config			//Execute the configuration command
</pre></div>
</div>
<p>Select 1 Linux, select 0 board model okt507, select 1 default</p>
<p><img alt="Image" src="_images/1718937127504_de9247e3_d7bb_48b7_b225_457ee7db74ec.png" /></p>
<p>Run the compilation script for full compilation:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OKT507-linux-sdk20$ ./build.sh
</pre></div>
</div>
<p>After the source code is compiled you need to generate an image to package the various files and configuration files generated by the compilation.</p>
<p>Execute the pack command to generate the image file:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OKT507-linux-sdk20$ ./build.sh pack
</pre></div>
</div>
<p>Image file: out/t507_linux_okt507_uart0.img</p>
</section>
<section id="compiling-kernel-separately">
<h4>4.2.2 Compiling Kernel Separately<a class="headerlink" href="#compiling-kernel-separately" title="Link to this heading"></a></h4>
<p>Compiling the kernel separately only modifies the source code, affecting drivers and device trees, and is suitable for situations where only the kernel needs modification.</p>
<p>After selecting the configuration according to the previous method:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/work/OKT507-linux-sdk20
forlinx@ubuntu:~/work/OKT507-linux-sdk20$ ./build.sh kernel			//Execute compile kernel command
</pre></div>
</div>
</section>
<section id="compiling-the-test-program-separately">
<h4>4.2.3 Compiling the Test Program Separately<a class="headerlink" href="#compiling-the-test-program-separately" title="Link to this heading"></a></h4>
<p>When modifying the test program separately, you can compile only the test program to reduce the amount of compilation.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/work/OKT507-linux-sdk20
forlinx@ubuntu:~/work/OKT507-linux-sdk20$ source .buildconfig		//Configuration before compilation
</pre></div>
</div>
<p>Compile the command line test program:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OKT507-linux-sdk20$ make -C platform/framework/auto/fltest_cmd_demo
</pre></div>
</div>
<p>Compile the QT test program:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OKT507-linux-sdk20$ make -C platform/framework/auto/fltest_qt_demo
</pre></div>
</div>
</section>
<section id="okt507-linux-sdk20-clean">
<h4>4.2.4 OKT507-LINUX-SDK20 Clean<a class="headerlink" href="#okt507-linux-sdk20-clean" title="Link to this heading"></a></h4>
<p>This operation clears all intermediate files. However, it does not affect the source files, including those that have already had changes made to them.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/work/OKT507-linux-sdk20
forlinx@ubuntu:~/work/OKT507-linux-sdk20$ ./build.sh clean			//Execute the clean command
</pre></div>
</div>
<p><img alt="Image" src="_images/1718937127721_23195f38_4516_4849_9ce7_8a4ec315764b.png" /></p>
</section>
</section>
<section id="qt-configuration-and-use">
<h3>4.3 Qt Configuration and Use<a class="headerlink" href="#qt-configuration-and-use" title="Link to this heading"></a></h3>
<p>Forlinx provides OKT507-LINUX-SDK20.tar.bz2, which includes Qt5.12.5 (a complete development dependency environment), our development environment has been installed Qt Creator4.7.0, users can also follow the previous method to build their own!</p>
<section id="okt507-linux-sdk20-installation">
<h4>4.3.1 OKT507-LINUX-SDK20 Installation<a class="headerlink" href="#okt507-linux-sdk20-installation" title="Link to this heading"></a></h4>
<p>Please refer to the previous article for SDK installation and full compilation first.</p>
</section>
<section id="qt-creator-environment-configuration">
<h4>4.3.2 Qt Creator Environment Configuration<a class="headerlink" href="#qt-creator-environment-configuration" title="Link to this heading"></a></h4>
<p>First open the Qt Creator software</p>
<p>Execute:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/qtcreator-4.7.0/bin
forlinx@ubuntu:~/qtcreator-4.7.0/bin$ ./qtcreator
</pre></div>
</div>
<p>Start the Qt Creator program and click on the Tools-&gt;option:</p>
<p><img alt="Image" src="_images/1718937128015_299dd973_8985_4d23_b354_0772ef983da6.png" /></p>
<p>Enter the Options interface, click “Kits” on the left side, then click the “Compilers” tab in the upper center, and click “Add-&gt;GCC-&gt;C++” on the right side, as shown in the figure:</p>
<p><img alt="Image" src="_images/1718937128260_8c072f0e_2531_4191_b2dd_c7af645c97a5.png" /></p>
<p>Find “aarch64-linux-gnu-g++” under /home/forlinx/work/OKT507-linux-sdk/out/t507/okt507/longan/buildroot/host/bin/, select it, click Open, and change the Name to “ARM-G++”.</p>
<p>Follow the same method to add GCC compiler and click “Add-&gt;GCC-&gt;C” on the right side; as shown in the figure:</p>
<p><img alt="Image" src="_images/1718937128537_5e8260b9_8506_4b67_86df_25636207837a.png" /></p>
<p>Find “aarch64-linux-gnu-gcc” in the directory /home/forlinx/work/OKT507-linux-sdk/out/t507/okt507/longan/buildroot/host/bin, then select it, click Open, and change the Name to “ARM-GCC”.</p>
<p>Click on the Qt Versions tab and click on “Add”:</p>
<p><img alt="Image" src="_images/1718937128785_c67b42f1_703a_43a0_98dd_eff1594ca606.png" /></p>
<p>In the directory /home/forlinx/work/OKT507-linux-release/OKT507-linux-sdk/out/t507/okt507/longan/buildroot/host/bin, locate qmake, select it, and then click Open. After adding it, the display should appear as follows. Click “Apply”.</p>
<p>Click on the Kits tab and click Add on the right to add a new Kits; modify the content according to the figure below and click “Apply”.</p>
<p><img alt="Image" src="_images/1718937129111_f5ec8ef3_3065_4009_8917_31ae2033256b.png" /></p>
</section>
<section id="qt-creator-development-examples">
<h4>4.3.3 Qt Creator Development Examples<a class="headerlink" href="#qt-creator-development-examples" title="Link to this heading"></a></h4>
<p>Open the Qt Creator software</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/qtcreator-4.7.0/bin
forlinx@ubuntu:~/qtcreator-4.7.0/bin$ ./qtcreator
</pre></div>
</div>
<p>Start the Qt Creator program, enter the qtcreator interface and click “New Project” to create a new project:</p>
<p><img alt="Image" src="_images/1718937129385_a6943ec6_19c3_488d_a1bb_25dafdcda050.png" /></p>
<p>Select “Application”-&gt;”Qt Widgets Application”, then click “Choose” in the lower right corner:</p>
<p><img alt="Image" src="_images/1718937129717_d796c989_8c61_45a9_bf0f_4a418bcdd292.png" /></p>
<p>In the following interface, change the name of the new project to “HelloWorld”, select the installation path /home/forlinx, and then click “Next”:</p>
<p><img alt="Image" src="_images/1718937130011_66e036ec_12a1_4c69_bdde_26a3f029cb5c.png" /></p>
<p>In the following screen, select “OKT507” as the kit of the current project, and then click “Next”:</p>
<p><img alt="Image" src="_images/1718937130226_92cab07d_9064_4f75_9407_165e7877504f.png" /></p>
<p>In the following interface, change the “Class Name” to “HelloWorld”, select the “Base class” as Qwidget, and then click “Next”:</p>
<p><img alt="Image" src="_images/1718937130473_e04f85b9_1dd6_43c7_b1f8_d7c5b6cfc9aa.png" /></p>
<p><img alt="Image" src="_images/1718937130709_3c51388d_e8ca_4a21_8da8_b1d3ea14092a.png" /></p>
<p>In the following interface, click “Finish” to complete the new project:</p>
<p><img alt="Image" src="_images/1718937131164_13ae6601_4306_4618_962a_93ffb33709b0.png" /></p>
<p>When the creation of the new project is complete, the following window can be displayed:</p>
<p><img alt="Image" src="_images/1718937131470_aec96f4c_c9d6_43ae_b7ed_2843aa80f346.png" /></p>
<p>When the program is written, click the hammer icon in the lower left corner to cross-compile and copy the compiled executable program HelloWorld to the development board to test the application. The path to the executable file is as follows:</p>
<p><img alt="Image" src="_images/1718937131766_7756da8c_ccb9_41b4_879b_6926783c917a.png" /></p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>