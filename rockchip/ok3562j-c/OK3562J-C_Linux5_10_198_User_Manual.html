

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux5.10.198_User‚Äôs Manual_V1.1 &mdash; Forlinx Embedded RK3562 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok3562j-c/OK3562J-C_Linux5_10_198_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Linux5.10.198_User‚Äôs Compilation Manual_V1.0" href="OK3562J-C_Linux5_10_198_User_Compilation_Manual.html" />
    <link rel="prev" title="User‚Äôs Hardware Manual_V1.2" href="OK3562J-C_User_Hardware_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_User_Hardware_Manual.html">User‚Äôs Hardware Manual_V1.2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux5.10.198_User‚Äôs Manual_V1.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-c-development-board-description">1. OK3562-C Development Board Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-linux-5-10-198-system-software-resources">1.1 Introduction to Linux 5.10.198 System Software Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emmc-memory-partition-table"><strong>1.2 EMMC Memory Partition Table</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fast-startup">2. Fast Startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-startup">2.1 Preparation Before Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-driver-installation">2.2 Related Driver Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-login">2.3 Serial Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-connection-settings">2.3.1 Serial Port Connection Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-login-common-problems">2.3.2 Serial Login Common Problems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-login-methods">2.4 Network Login Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#network-connection-test">2.4.1 Network Connection Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssh-server">2.4.2 SSH server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ftp-and-sftp">2.4.3  FTP and SFTP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screen-switching">2.5 Screen Switching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-control-of-uboot-menu">2.5.1 Dynamic Control of uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-device-tree-specification">2.5.2 Kernel Device Tree Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-uboot-menu-application-control">2.5.3 QT Uboot Menu Application Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-shutdown">2.6 System Shutdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-platform-interface-function-use-and-test">3. OK3562 Platform Interface Function Use and Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#desktop-function-test">3.1 Desktop Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-interface-function">3.1.1 Introduction to Interface Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hardware-decoding">3.1.2 Hardware Decoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opengl-test">3.1.3 OpenGL Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#music-play-test">3.1.4 Music Play Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g-test">3.1.5 4G Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-test">3.1.6 WIFI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-configuration-test">3.1.7 Network Configuration Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ping-test">3.1.8 Ping Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#browser-test">3.1.9 Browser Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#watchdog-test">3.1.10 Watchdog Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-test">3.1.11 Key Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtc-test">3.1.12 RTC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-test">3.1.13 Camera Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uart-test">3.1.14 UART Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database-test">3.1.15 Database Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#backlight-test">3.1.16 Backlight Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uboot-menu">3.1.17 Uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#web-services">3.1.18 Web Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adc-test">3.1.19 ADC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tftp-upgrading-system">3.1.20 TFTP Upgrading System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cpu-frequency-configuration-test">3.1.21 CPU Frequency Configuration Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#record-test">3.1.22 Record Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spi-test">3.1.23 SPI Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-command-line-function-test">4. OK3562 Command Line Function Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-function-test">4.1 Command Line Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-information-queries">4.1.1 System Information Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fm-test">4.1.2 FM Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temperature-test">4.1.3 Temperature Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ddr-test">4.1.4 DDR Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">4.1.5 Watchdog Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtc-function-test">4.1.6 RTC Function Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">4.1.7 Key Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">4.1.8 UART Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">4.1.9 ADC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tf-card-test">4.1.10 TF Card Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#emmc-test">4.1.11 EMMC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-mouse-test">4.1.12 USB Mouse Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb2-0">4.1.13 USB2.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-to-four-serial-port-test">4.1.14  USB to Four Serial Port Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb3-0-usb-otg-test">4.1.15 USB3.0 / USB OTG Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pcie-test">4.1.16 PCIE Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ethernet-configuration">4.1.17 Ethernet Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">4.1.18  WIFI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bluetooth-test">4.1.19 Bluetooth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g">4.1.20 4G</a></li>
<li class="toctree-l4"><a class="reference internal" href="#play-record-test">4.1.21 Play/Record Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lcd-backlight-adjustment">4.1.22 LCD Backlight Adjustment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#can-test">4.1.23 CAN Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sleep-wake-test">4.1.24 Sleep-wake Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mcu-test">4.1.25 MCU Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sqlite3-test">4.1.26  SQLite3 Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">4.1.27 SPI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-boot-auto-start-script">4.1.28  Adding Boot Auto-start Script</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">4.1.29  Uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#npu-test">4.1.30 NPU Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-platform-multimedia-test">5. OK3562 Platform Multimedia Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-and-video-playback">5.1 Audio and Video Playback</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-and-video-with-gst-play">5.1.1 Playing Audio and Video With Gst-play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-with-gst-launch">5.1.2 Playing Video With Gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-with-gst-launch">5.1.3 Playing Audio With Gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-and-audio-with-gst-launch">5.1.4 Playing Video and Audio With Gst-launch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-encoding">5.2 Video Hardware Encoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-264">5.2.1 Video Hardware Encoding H.264</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-decoding">5.3 Video Hardware Decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h264-format-video">5.3.1 Decoding and Playing H264 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h264-format-video-with-audio">5.3.2 Decoding and Playing H264 Format Video With Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h265-format-video">5.3.3 Decoding and Playing H265 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h265-format-video-with-audio">5.3.4 Decoding and Playing H265 Format Video With Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video">5.3.5 Decoding and Playing VP9 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video-with-audio">5.3.6 Decoding and Playing VP9 Format Video With Audio</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id8">5.4 Camera Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uvc-camera-test">5.4.1 UVC Camera Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ov13855-test">5.4.2 OV13855 Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9"><strong>5.4.2.1 Camera Recognition Detection and Format Support Queries</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-previews"><strong>5.4.2.2 Camera Previews</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-to-take-pictures"><strong>5.4.2.3 Camera to Take Pictures</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#recording-h264-format-video"><strong>5.4.2.4 Recording H264 Format Video</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-h264-format-video"><strong>5.4.2.5 Playing H264 Format Video</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov5645-test">5.4.3 OV5645 Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gst-point-test">5.5 Gst Point Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gpu-test">5.6 GPU Test</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-flashing">6. System Flashing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#otg-flashing-system">6.1 OTG Flashing System</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otg-driver-installation">6.1.1 OTG Driver Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-full-flashing-test">6.1.2 OTG Full Flashing Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-step-flashing-test">6.1.3 OTG Step Flashing Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tf-card-flashing">6.2 TF Card Flashing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Linux5_10_198_User_Compilation_Manual.html">Linux5.10.198_User‚Äôs Compilation Manual_V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Forlinx_Desktop22_04_User_Manual.html">Forlinx Desktop 22.04_User‚Äôs Manual_V1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Forlinx_Desktop22_04_User_Compilation_Manual.html">Forlinx Desktop 22.04_User‚Äôs Compilation Manual_V1.0</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/index.html">RK Development Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RK3562 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux5.10.198_User‚Äôs Manual_V1.1</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux5-10-198-users-manual-v1-1">
<h1>Linux5.10.198_User‚Äôs Manual_V1.1<a class="headerlink" href="#linux5-10-198-users-manual-v1-1" title="Link to this heading">ÔÉÅ</a></h1>
<p>Document classification: ‚ñ° Top secret ‚ñ° Secret ‚ñ° Internal information ‚ñ† Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading">ÔÉÅ</a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading">ÔÉÅ</a></h2>
<p>OK3562-C development board currently provides the relevant data of the Linux system. This manual describes the relevant functional tests of the Linux 5.10.198 system. Please select the data consistent with the image in the development board for operation. You can access the documentation and source code of the software and hardware through the web link provided by our company.</p>
<p>Please ask your sales representative for the download link.</p>
<p><strong>Note: Please refer to the OK3562-C Linux User Documentation for detailed information. The directory mentioned in this document is based on the OK3562-C Linux User Documentation as the root directory.</strong></p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading">ÔÉÅ</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Date</strong></p></th>
<th class="head text-center"><p><strong>User Manual Version</strong></p></th>
<th class="head text-center"><p><strong><font style="color:#000000;">SoM Version</font></strong></p></th>
<th class="head text-center"><p><strong><font style="color:#000000;">Carrier Board Version</font></strong></p></th>
<th class="head"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>24/052024</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0 and Above</p></td>
<td><p>OK3562-C Linux Software Manual Initial Version</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>21/06/2025</p></td>
<td class="text-center"><p>V1.1</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0 and Above</p></td>
<td><p>Modifying the description in CAN and NPU test</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">ÔÉÅ</a></h2>
<p>This manual is designed to help you quickly familiarize yourselves with the product, and understand the interface functions and testing methods. It primarily covers the testing of interface functions on the development board, the methods for flashing images, and troubleshooting procedures for common issues encountered in use. In the process of testing, some commands are annotated to facilitate you understanding, mainly for practical use. Please refer to ‚ÄúOK3562-C_Linux_User‚Äôs Compilation Manual‚Äù provided by Forlinx for kernel compilation, related application compilation methods and development environment construction.</p>
<p>The main contents of this manual are as follows:</p>
<ul class="simple">
<li><p>Chapter 1. provides an overview of the product, briefly introducing the interface resources of the development board, the relevant driver paths in the kernel source code, supported flashing and booting methods, as well as explanations of key sections in the documentation;</p></li>
<li><p>Chapter 2. is the fast boot/startup of the product, which can adopt two ways of serial port login and network login;</p></li>
<li><p>Chapter 3. includes desktop and QT interface functionality testing for the product, with functional testing conducted via command-line operations;</p></li>
<li><p>Chapter 4. includes multimedia testing for the product, which involves camera playback testing and video hardware codec testing;</p></li>
<li><p>Chapter 5. is the image update of the product, which mainly describes the method of updating the image to the storage device. The user can select the corresponding flashing mode according to the actual situation.</p></li>
</ul>
<p>A description of some of the symbols and formats associated with this manual:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Note</strong></p></td>
<td><p>Note or information that requires special attention, be sure to read carefully.</p></td>
</tr>
<tr class="row-odd"><td><p>üìö</p></td>
<td><p>Relevant notes on the test chapters</p></td>
</tr>
<tr class="row-even"><td><p>üõ§Ô∏è</p></td>
<td><p>Indicates the related path</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:blue;">Blue font on gray background</font></p></td>
<td><p>Refers to commands entered at the command line (Manual input required).</p></td>
</tr>
<tr class="row-even"><td><p>Black font</p></td>
<td><p>Serial port output message after entering a command</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Bold black</strong></p></td>
<td><p>Key information in the serial port output message</p></td>
</tr>
<tr class="row-even"><td><p><font style="color:#000000;">//</font></p></td>
<td><p>Interpretation of input instructions or output information</p></td>
</tr>
<tr class="row-odd"><td><p>Username&#64;Hostname</p></td>
<td><p>root&#64;ok3562: Development board serial port login account information;<br />forlinx&#64;ok3562: development board remote login account information;<br />forlinx &#64; Linux: development environment Linux account information.<br />You can determine the environment for function operation through this information.</p></td>
</tr>
</tbody>
</table>
<p>Example: Check the loading status of the 6221A-SRC module driver:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~$ lsmod                                  //List the files in this directory
Module                  Size  Used by
8821cs               2793472  0
</pre></div>
</div>
<ul class="simple">
<li><p>root&#64;ok3562Ôºöuser name: rootÔºåhost name: forlinx, meaning root user is used on the development board.</p></li>
<li><p>// : Interpretation of command operations or printed information without input.</p></li>
<li><p><font style="color:#0000FF;"><font style="color:blue;background-color:#e5e5e5;">ls</font></font>: Blue font on a gray background indicates relevant commands that need to be entered manually.</p></li>
<li><p><strong>8821cs  2793472  0</strong>: The black font on gray background is the output information after the input command; bold text is crucial information; here, it means that the 6221A module driver is loaded.</p></li>
</ul>
</section>
<section id="ok3562-c-development-board-description">
<h2>1. OK3562-C Development Board Description<a class="headerlink" href="#ok3562-c-development-board-description" title="Link to this heading">ÔÉÅ</a></h2>
<p>RK3562J is a low-power, high-performance processor based on the ARM64 architecture. It includes 4 Cortex-A53 cores and 1 Cortex-M0 core, along with an independent NEON coprocessor. It can be used in computers, mobile phones, personal mobile internet devices, and digital multimedia devices.<br />
The connection between SoM and the carrier board is board-to-board, and the main interfaces are shown as follows:</p>
<p><img alt="Image" src="_images/1720418437155_411d3da0_4c0d_4d73_a18a_c2bfac3554cc1.jpeg" /></p>
<p><strong>Front</strong></p>
<p><img alt="Image" src="_images/1720418437554_c4288f3d_892a_4c80_b8de_0bde8c3862651.png" /></p>
<p><strong>Back</strong></p>
<p>The hardware parameters are not described in this software manual. Before referring to this manual for software development, please read ‚ÄúOK3562-C _ Hardware Manual‚Äù under the path of ‚Äú02-User Data \ 03-Hardware Data \ 02-Manual‚Äù to understand the product naming rules and the hardware configuration information of the product you use, which is helpful for you to use this product.</p>
<section id="introduction-to-linux-5-10-198-system-software-resources">
<h3>1.1 Introduction to Linux 5.10.198 System Software Resources<a class="headerlink" href="#introduction-to-linux-5-10-198-system-software-resources" title="Link to this heading">ÔÉÅ</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Device</p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p>Device Name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p>/sys/class/backlight</p></td>
</tr>
<tr class="row-odd"><td><p>USB interface U disk</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>USB mouse</p></td>
<td><p>drivers/hid/usbhid/</p></td>
<td><p>/dev/input/mice</p></td>
</tr>
<tr class="row-odd"><td><p>Ethernet</p></td>
<td><p>drivers/net/ethernet/stmicro/stmmac</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SD/micro TF card driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk1pX</p></td>
</tr>
<tr class="row-odd"><td><p>EMMC driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk2pX</p></td>
</tr>
<tr class="row-even"><td><p>Camera</p></td>
<td><p>drivers/media/i2c/ov13855.c   drivers/media/i2c/ov5645.c</p></td>
<td><p>/dev/videoX</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Controller</p></td>
<td><p>drivers/gpu/drm/rockchip/rockchip_drm_vop.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>MIPI CSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-mipi-rx.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>MIPI DSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LCD Touch Driver</p></td>
<td><p>drivers/input/touchscreen/goodix.c   drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-odd"><td><p>RTC driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c   drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>Serial port</p></td>
<td><p>drivers/tty/serial/8250/8250_dw.c</p></td>
<td><p>/dev/ttySX</p></td>
</tr>
<tr class="row-odd"><td><p>Key Driver</p></td>
<td><p>drivers/input/keyboard/adc-keys.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-even"><td><p>LED</p></td>
<td><p>drivers/leds/leds-gpio.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>I2S</p></td>
<td><p>sound/soc/rockchip/rockchip_i2s.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>PMIC</p></td>
<td><p>drivers/mfd/rk808.c   drivers/regulator/rk808-regulator.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>PCIE</p></td>
<td><p>drivers/pci/controller/pcie-rockchip.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Watchdog</p></td>
<td><p>drivers/watchdog/dw_wdt.c</p></td>
<td><p>/dev/watchdog</p></td>
</tr>
<tr class="row-odd"><td><p>SPI</p></td>
<td><p>drivers/spi/spi-rockchip.c</p></td>
<td><p>/dev/spidev2.0</p></td>
</tr>
<tr class="row-even"><td><p>PWM</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc-memory-partition-table">
<h3><strong>1.2 EMMC Memory Partition Table</strong><a class="headerlink" href="#emmc-memory-partition-table" title="Link to this heading">ÔÉÅ</a></h3>
<p>The following table shows the eMMC memory partition information for the Linux operating system (calculated with a block size of 512bit):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Partition Index</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p><strong>Offset / Block</strong></p></th>
<th class="head"><p><strong>Size / Block</strong></p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>N/A</p></td>
<td><p>security</p></td>
<td><p>0x00000000</p></td>
<td><p>0x00004000</p></td>
<td><p>MiniLoaderAll.bin</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>uboot</p></td>
<td><p>0x00004000</p></td>
<td><p>0x00002000</p></td>
<td><p>uboot.img</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>misc</p></td>
<td><p>0x00006000</p></td>
<td><p>0x00002000</p></td>
<td><p>misc.img</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">3</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">boot</font></p></td>
<td><p>0x00008000</p></td>
<td><p>0x00020000</p></td>
<td><p>boot.img</p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">4</font></p></td>
<td><p>recovery</p></td>
<td><p>0x00028000</p></td>
<td><p>0x00040000</p></td>
<td><p>recovery.img</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">5</font></p></td>
<td><p>backup</p></td>
<td><p>0x00068000</p></td>
<td><p>0x00010000</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">6</font></p></td>
<td><p>rootfs</p></td>
<td><p>0x00078000</p></td>
<td><p>0x00c00000</p></td>
<td><p>rootfs.img</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">7</font></p></td>
<td><p>oem</p></td>
<td><p>0x00c78000</p></td>
<td><p>0x00040000</p></td>
<td><p>oem.img</p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">8</font></p></td>
<td><p>amp</p></td>
<td><p>0x00cb8000</p></td>
<td><p>0x00002000</p></td>
<td><p>amp.img</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">9</font></p></td>
<td><p>userdata</p></td>
<td><p>0x00cba000</p></td>
<td><p></p></td>
<td><p>userdata.img</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading">ÔÉÅ</a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 development board has two system login methods, serial and network login.</p>
<p>Hardware preparation before system startup:</p>
<ul class="simple">
<li><p>12V3A DC power</p></li>
<li><p>Debugging serial cable (serial login use)</p></li>
</ul>
<p>The debug serial port on the development board is a Type-C USB jack, so users can use a USB to Type-C cable to connect the development board to a PC and then check the board‚Äôs status.</p>
<ul class="simple">
<li><p>Network cable (for network login)</p></li>
<li><p>According to the development board interface to connect the screen (Based on display needs).</p></li>
</ul>
<p><img alt="Image" src="_images/1730773402955_b39ed59a_e86f_4f98_a7e1_ae880aedc5b41.png" /></p>
<p><strong>Note: The debug serial port marked in the diagram actually shares a Type-C interface between UART0 and UART9. UART9 serves as the debug serial port for the bare core when AMP (Asymmetric Multi-Processing) function is enabled (switch S4 needs to be set to UART mode).</strong></p>
</section>
<section id="related-driver-installation">
<h3>2.2 Related Driver Installation<a class="headerlink" href="#related-driver-installation" title="Link to this heading">ÔÉÅ</a></h3>
<ul class="simple">
<li><p>Use 02-User Data\01-Software Data\04-Tools\DriverAssistant_v5.1.1.zip to install the Rockchip driver.</p></li>
<li><p>Run DriverInstall.exe directly after the unzipping is completed; in order to ensure the driver is the latest version, please unstall the driver first, then install again.</p></li>
<li><p>Use 02-User Data\01-Software Data\04-Tools\CH343SER.EXE to install the serial port driver.</p></li>
</ul>
</section>
<section id="serial-login">
<h3>2.3 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading">ÔÉÅ</a></h3>
<p>The debugging serial port of the OK3562-C - C platform uses a Type - C interface. There is an on - board USB to UART chip, so there‚Äôs no need to purchase a USB to serial port debugging tool. It is extremely simple and convenient to use.</p>
<section id="serial-port-connection-settings">
<h4>2.3.1 Serial Port Connection Settings<a class="headerlink" href="#serial-port-connection-settings" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Serial port settings: baud rate 115200, data bit 8, stop bit 1, no parity bit, no flow control</strong>;</p></li>
<li><p><strong>Serial port terminal login without account</strong>;</p></li>
<li><p><strong>Software Requirement: The Windows system on the PC end needs to install serial port terminal software. There are multiple options available, and users can choose the software they are familiar with for installation.</strong></p></li>
</ul>
<p>Take putty as an example to introduce the login method of serial port:</p>
<p>Step 1: Connect the serial port number of the computer‚Äîcheck the serial port number from the device manager ( Based on the port actually recognized by the computer );</p>
<p><img alt="Image" src="_images/1720417652369_c946e9c8_f6b4_450a_a2d9_c9cd0527ed2f1.png" /></p>
<p>Step 2: Open and set up putty, then set the‚Äú line according to the COM port of the computer used, baud rate 115200;</p>
<p><img alt="Image" src="_images/1720417652635_c2ca3610_6708_4704_ac4a_90416d6b9c761.png" /></p>
<p>Step 3: After the setting, input the COM port used by the computer in Saved Sessions. The following figure takes COM24 as an example, save the settings, open the serial port again later, and click on the saved port number;</p>
<p><img alt="Image" src="_images/1720417652851_8f35def3_7095_4026_b2c3_e32f6294f73b1.png" /></p>
<p>Step 4: Turn on the power switch of the development board, then there will be a print message output from the serial port (no need to login).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>input-event-daemon: Adding device: /dev/input/event9...
input-event-daemon: Start listening on 12 devices...
done
root@ok3562:/# [   37.424104] vbus5v0_typec0: disabling
[   37.424151] vbus5v0_typec1: disabling
</pre></div>
</div>
</section>
<section id="serial-login-common-problems">
<h4>2.3.2 Serial Login Common Problems<a class="headerlink" href="#serial-login-common-problems" title="Link to this heading">ÔÉÅ</a></h4>
<p>USB to Serial Port Requires Driver Installation (02-User Information\01-Software Information\04-Tools\CP210x_Windows_Drivers.zip)</p>
<p>It is better to use a good quality cable to avoid error codes.</p>
</section>
</section>
<section id="network-login-methods">
<h3>2.4 Network Login Methods<a class="headerlink" href="#network-login-methods" title="Link to this heading">ÔÉÅ</a></h3>
<section id="network-connection-test">
<h4>2.4.1 Network Connection Test<a class="headerlink" href="#network-connection-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The factory default configuration of the card is static IP; the IP address is 192.168.0.232. Please refer to ‚Äú3.2.17 Ethernet Configuration‚Äù chapter for the static IP changing method;</strong></p></li>
<li><p><strong>The computer and board should be on the same network segment for testing.</strong></p></li>
</ul>
<p>Before logging into the network, ensure that the direct network connection between the computer and the development board is functioning properly. You can test the connection status via pin command. The specific method is as follows:</p>
<p>1. Connect the development board‚Äôs eth0 interface to the computer using an Ethernet cable. Power on the board and boot the kernel. Confirm the blue heartbeat LED is blinking. Check the network card connection, ensuring its LED flashes rapidly. Once confirmed, proceed with testing the network connection;</p>
<p>2. Close the computer firewall (General computer operations, not described here in detail), then open the computer‚Äôs run command;</p>
<p>3. Use cmd to open the administrator interface , and the ping command to test the network connection status of the computer and the development board.</p>
<p><img alt="Image" src="_images/1720417653045_77232463_9341_42e0_99fd_fff6c8c185f31.png" /></p>
<p><img alt="Image" src="_images/1720417653364_4f5e0630_f435_4a4d_9c88_23a027ea9bcb.png" /></p>
<p>A data return indicates a normal network connection.</p>
</section>
<section id="ssh-server">
<h4>2.4.2 SSH server<a class="headerlink" href="#ssh-server" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The factory default configuration of the card is static IP; the IP address is 192.168.0.232. Please refer to ‚Äú3.2.17 Ethernet Configuration‚Äù chapter for the static IP changing method;</strong></p></li>
<li><p><strong>Users: forlinx, Password: forlinx;</strong></p></li>
<li><p><strong>User: root user; password: root</strong>0</p></li>
</ul>
<p>1. Use ssh to log in the development board</p>
<p><img alt="Image" src="_images/1720417653640_cd0cf583_62bc_4715_824a_58f2939f6143.png" /></p>
<p>Click ‚ÄúOpen‚Äù, the following dialog box will appear, click ‚ÄúYes‚Äù to enter the login screen.</p>
<p><img alt="Image" src="_images/1720417654059_94355051_1e28_4cfd_8a4b_f559d4ff136a1.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Login asÔºöforlinx
forlinx@192.168.0.232&#39;s password:               //Follow the prompts to enter the password forlinx for the board&#39;s forlinx account
forlinx@ok3562:~#
</pre></div>
</div>
</section>
<section id="ftp-and-sftp">
<h4>2.4.3  FTP and SFTP<a class="headerlink" href="#ftp-and-sftp" title="Link to this heading">ÔÉÅ</a></h4>
<p>Path: OK3562-C (Linux) user profile\tool\FileZilla*</p>
<p>OK3562 development board supports FTP and SFTP services, which are automatically enabled upon startup. Once the IP address is configured, it can function as an SFTP server.</p>
<p>The following is an example of how to use SFTP to transfer files using the filezilla tool.</p>
<p>Install the FileZilla tool on Windows and follow the steps shown in the image below to configure it. Use ‚Äúforlinx‚Äù as both the username and password.</p>
<p>Open the FileZilla tool, click on File and select Site Manager.</p>
<p><img alt="Image" src="_images/1720417654405_e51665a5_81c7_4442_a2ae_e8cc99e78fff1.png" /></p>
<p>After successful login, you can upload and download.</p>
<p><img alt="Image" src="_images/1720417654928_2b604387_bb81_4ac6_a13d_02437d5c08001.png" /></p>
</section>
</section>
<section id="screen-switching">
<h3>2.5 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports MIPI DSI and LVDS screen interfaces, and can only support display on one screen. There are currently three screen switching control methods: dynamic control via uboot menu, specification via kernel device tree, and control through the QT UbootMenu application.</p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.5.1 Dynamic Control of uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading">ÔÉÅ</a></h4>
<p>This method allows switching without recompiling and burn-in of existing supported screens.</p>
<p>During the uboot self-boot process, press the space bar at the serial terminal to bring up the control options:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>Enter 2 in the terminal to switch screens. Refer to 4.2.29 Uboot Menu</p>
</section>
<section id="kernel-device-tree-specification">
<h4>2.5.2 Kernel Device Tree Specification<a class="headerlink" href="#kernel-device-tree-specification" title="Link to this heading">ÔÉÅ</a></h4>
<p>The method doesn‚Äôt require a serial port terminal connection. The system image defaults to the desired configuration, making it suitable for mass production. However, we need to modify the device tree and regenerate the system image once again.</p>
<p><strong>Note: This method has higher priority than the uboot screen selection, and the uboot selection will not take effect after the device tree is modified.</strong></p>
<p>Device tree path: kernel/arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi</p>
<p>In the kernel source code, open the device dtsi file and find the forlinx-control node as follows:</p>
<p><img alt="Image" src="_images/1720417655244_cf68dda2_b8e9_41e7_af19_85b8fea65d801.png" /></p>
<p>The node has a default disabled state and needs to be changed to an okay enabled node. Change according to screen requirements.</p>
<p><strong>Parameter Description:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head text-center"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>status</p></td>
<td class="text-center"><p>Describe the node state: disabled is for off, okay is for on</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>disp_type</p></td>
<td class="text-center"><p>Specify the mipi or lvds screen display.</p></td>
</tr>
</tbody>
</table>
<p>Please change the setting parameters as required. After saving, it is necessary to recompile and generate an image.</p>
<p><strong>Examples</strong>:</p>
<p>Use the LVDS screen display.</p>
<p><img alt="Image" src="_images/1720417655456_cb2ffa1e_8431_4ab1_a170_b82bfb1dcdf91.png" /></p>
<p>After saving, recompile to generate the image.</p>
</section>
<section id="qt-uboot-menu-application-control">
<h4>2.5.3 QT Uboot Menu Application Control<a class="headerlink" href="#qt-uboot-menu-application-control" title="Link to this heading">ÔÉÅ</a></h4>
<p>Refer to <a class="reference external" href="https://forlinx-book.yuque.com/rh74yu/ok3562/hdfeyd97du7gi8n2#xPyoC">3.1.17 Uboot Menu</a></p>
</section>
</section>
<section id="system-shutdown">
<h3>2.6 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading">ÔÉÅ</a></h3>
<p>In general, you can simply turn off the power. However, if you‚Äôre working with data storage or using specific functions, avoid unplugging the power to prevent potential irreversible file damage. To ensure the data is completely written, enter the sync command to synchronize the data before turning off the power.</p>
<p>Note: For products designed based on the SoM, if there are scenarios where accidental power loss causes the system to shut down unexpectedly, measures such as adding power-loss protection can be incorporated into the design.</p>
</section>
</section>
<section id="ok3562-platform-interface-function-use-and-test">
<h2>3. OK3562 Platform Interface Function Use and Test<a class="headerlink" href="#ok3562-platform-interface-function-use-and-test" title="Link to this heading">ÔÉÅ</a></h2>
<p>OK3562 platform has excellent support for Qt, especially for multimedia-related classes, such as video decoding and playback, camera, video recording, etc. can all be combined with hardware codecs and OpenGL to achieve the best results.</p>
<section id="desktop-function-test">
<h3>3.1 Desktop Function Test<a class="headerlink" href="#desktop-function-test" title="Link to this heading">ÔÉÅ</a></h3>
<section id="introduction-to-interface-function">
<h4>3.1.1 Introduction to Interface Function<a class="headerlink" href="#introduction-to-interface-function" title="Link to this heading">ÔÉÅ</a></h4>
<p>The desktop is displayed as follows after the board is booted</p>
<p><img alt="Image" src="_images/1720417666181_97e8edf0_a899_44c8_a864_e5e77c6f2276.png" /></p>
</section>
<section id="hardware-decoding">
<h4>3.1.2 Hardware Decoding<a class="headerlink" href="#hardware-decoding" title="Link to this heading">ÔÉÅ</a></h4>
<p>Click the desktop icon to open the video player.</p>
<p><img alt="Image" src="_images/1720417666490_b1592cbf_8e29_4d12_bdb1_8fad5e6947ee.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417666946_d492a7d7_638a_4d45_916e_53f5a6d86da1.png" /></p>
<p><strong>Note: The test video file is located in the/userdata/media*. mp4**</strong></p>
</section>
<section id="opengl-test">
<h4>3.1.3 OpenGL Test<a class="headerlink" href="#opengl-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 supports OpenGL ES3.2; click the desktop icon for OpenGL test.</p>
<p><img alt="Image" src="_images/1720417667252_b669ae1a_e4b1_4d6e_9375_3d551571ea04.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417667643_205cee09_c967_46fa_910a_e6f5507c97cc.jpeg" /></p>
</section>
<section id="music-play-test">
<h4>3.1.4 Music Play Test<a class="headerlink" href="#music-play-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚Äúmusic player‚Äù is a simple audio test application that can be used to test the function of the sound card or as a simple audio player.</p>
<p><img alt="Image" src="_images/1720417667864_988c35ee_7595_49ff_8c34_bcbd534ab54f.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417668047_619205fa_d4bb_4973_9442_0f2ec7c83d4c.jpeg" /></p>
<p>Application Interfaces</p>
<p>Click the button in the lower left corner and select test audio /userdata/media/test.mp3</p>
</section>
<section id="g-test">
<h4>3.1.5 4G Test<a class="headerlink" href="#g-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: This test requires inserting a SIM card that has internet access. For detailed instructions, please refer to the Command Line Function Testing 4G section in this manual.</strong></p>
<p>Test supports 4G module (EC20). Insert the 4G module and SIM card while the power is off. After powering on, open the testing application.</p>
<p><img alt="Image" src="_images/1720417668348_585760c6_d57a_4312_a9f8_286595ed0d0f.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417668538_6c3dab1c_2eff_4bec_8297_5e79bb4855bf.png" /></p>
<p>Click the connect button, the program will automatically enter the dial-up process and get IP to set DNS, etc.</p>
<p><img alt="Image" src="_images/1720417668807_5dbde941_f04f_42a2_af8d_3af71f8867b7.png" /></p>
<p>Click the ping to test.</p>
<p><img alt="Image" src="_images/1720417669155_ecacded0_2bcd_408b_9a47_cbcff79124f3.png" /></p>
</section>
<section id="wifi-test">
<h4>3.1.6 WIFI Test<a class="headerlink" href="#wifi-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚ÄúWIFI‚Äù is a tool for configuring wifi. The OK3562 platform has a 6221A-SRC (RTL8821CS) module onboard by default. The wifi module exists in the system as a mean node, and this test corresponds to wlan0 (other corresponding nodes are used for multiple devices):</p>
<p><img alt="Image" src="_images/1720417669341_739a22d7_ace1_4f5b_9db5_e21cb35038ce.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417669543_7bf02243_16fd_46ff_9d95_9f0c739d236f.jpeg" /></p>
<p>Application Interfaces</p>
<p>Select wlan0, enter the router name(the one connected to wifi) in the SSID column, enter the router password in the PAWD column, click CONNECT to the router via wifi, enter a valid ip in the IP column, and then click ping to see if the currently used wifi network is smooth.</p>
<p>Open the Wifi Test app, enter the correct network name and password, and click CONNECT.</p>
<p><img alt="Image" src="_images/1720417669771_5248f8d6_f1ab_49b2_9066_18d500f6f775.png" /></p>
<p>Click ping to test the network after a successful connection.</p>
<p><img alt="Image" src="_images/1720417670021_fcfbdedf_2532_401d_9c7b_f5156d545203.png" /></p>
</section>
<section id="network-configuration-test">
<h4>3.1.7 Network Configuration Test<a class="headerlink" href="#network-configuration-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Upon startup, eth0 on OK3562 defaults to static configuration. You can select between DHCP and static modes using the ‚ÄúNetwork‚Äù configuration application. In static mode, you can configure the IP address, subnet mask, gateway, and DNS.</p>
<p><img alt="Image" src="_images/1720417670236_95f31c04_1439_4dae_bd45_8cb27d6a5717.png" /></p>
<p>Application Icons</p>
<p>The DHCP mode interface is as follows:</p>
<p><img alt="Image" src="_images/1720417670841_cdf93cc4_07a3_4d22_92d3_bfe765899391.jpeg" /></p>
<p>Check DHCP, select the NIC device needing to be configured, and click Apply and Restart Network at the bottom of the interface to restart the network and get the ip automatically.</p>
<p>The static mode interface is as follows:</p>
<p><img alt="Image" src="_images/1720417671088_cd701fbb_b498_49fe_a689_bb0f128f8a8d.jpeg" /></p>
<p>Select the NIC device to be configured in the interface, and enter the ip to be set in the ip field, enter the subnet mask in the netmask field, the gateway in the geteway field, and DNS in the dns field.</p>
<p><strong>Note: Information such as ip set in STATIC mode is saved to the relevant configuration file of the system so each reboot will use the network information set this time; network information configured in DHCP mode, on the other hand, does not need to care about this; ip addresses are dynamically assigned every reboot.</strong></p>
</section>
<section id="ping-test">
<h4>3.1.8 Ping Test<a class="headerlink" href="#ping-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚ÄúPing‚Äù is an interface application of the common network testing command ping.</p>
<p><img alt="Image" src="_images/1720417671316_6cd27dc4_35ea_4210_a228_3f9e3bd4cf24.png" /></p>
<p>Write the target IP address in the ‚Äúhostname‚Äù column. Click the ‚Äúping‚Äù button, and the ‚Äúresult‚Äù column will display the ping outcome. Click ‚Äústop‚Äù to end the ping test, and ‚Äúclear‚Äù to erase the information in the ‚Äúresult‚Äù column.</p>
<p><img alt="Image" src="_images/1720417671577_2a67d0ff_3784_490d_b011_185caee8256a.png" /></p>
</section>
<section id="browser-test">
<h4>3.1.9 Browser Test<a class="headerlink" href="#browser-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚ÄúDemoBrowser‚Äù is a simple and practical web browser. When using it, please make sure that the network is smooth, and make sure that the dns is available before accessing the external network; when the browser starts, it will visit the official website of Forlinx Embedded by default, and the interface is as follows:</p>
<p>Note: If the development board time is abnormal, it will cause certificate <strong>problems. Do not shut down the power immediately after using the browser or the sync command at the command line. Otherwise, it may cause the browser to exit abnormally and not work properly, and can only be solved by re-burning.</strong></p>
<p><img alt="Image" src="_images/1720417671857_74ed84ea_6805_42e5_989d_474e1c4e91aa.png" /></p>
<p>Exit this browser via the upper navigation bar File-&gt;Quit.</p>
</section>
<section id="watchdog-test">
<h4>3.1.10 Watchdog Test<a class="headerlink" href="#watchdog-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚ÄúWatchDog‚Äù is an application used to test the watchdog status.</p>
<p><img alt="Image" src="_images/1720417672177_e78efff9_8460_476b_bc51_217d84bb258a.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417672436_3e31ca5e_1b33_4d74_a750_5b8b2eb5f815.jpeg" /></p>
<p>Application Interfaces</p>
<p>Check feed dog and click the open watchdog key, then the watchdog will be activated, the program will carry out the feeding operation, and the system will not reboot under normal circumstances; when unchecking feed dog and clicking open watchdog key, the watchdog function will be activated, the program will not carry out the feeding operation, and the system enters into a reboot after the watchdog is activated for about 10s, which indicates that the watchdog function is normal.</p>
</section>
<section id="key-test">
<h4>3.1.11 Key Test<a class="headerlink" href="#key-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The ‚ÄúKeypad‚Äù is used to test whether the platform‚Äôs own keys are available:</p>
<p><img alt="Image" src="_images/1720417672658_04c01b7c_a3a7_4ca1_88fc_38f2858709de.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417672897_d2c36032_e7fc_48b6_aeab_a0896895c358.jpeg" /></p>
<p>Application Interfaces</p>
<p>By default, OK3562 platform configures the four physical buttons V+, V-, Home, and ESC as the Volume + and Volume - keys, Home, and Return keys, respectively. The corresponding key in the test application will turn blue when pressing the key, indicating that the key is in normal status.</p>
<p>‚ÄúExit‚Äù the current routine and returns to the system desktop.</p>
</section>
<section id="rtc-test">
<h4>3.1.12 RTC Test<a class="headerlink" href="#rtc-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The ‚ÄúRTC‚Äù application allows you to view and set the current system time:</p>
<p><img alt="Image" src="_images/1720417673244_81838d8f_0c72_47e6_b63b_6ac8d9e821d6.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417673493_22d3d302_ed26_4b4d_b7fc_4a50a3764fa3.jpeg" /></p>
<p>Application Interfaces</p>
<p>After Set, you can set the time and click Save to finish the setting.</p>
<p>With the RTC backup battery installed, power down and restart the development board to confirm that the RTC clock is set successfully.</p>
</section>
<section id="camera-test">
<h4>3.1.13 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Click the desktop icon to open the Camera; the test program supports a USB Camera, which also supports OV13855 and OV5645. Plug in a USB Camera, using the RMONCAM 720P as an example.</p>
<p><strong>Note: The app needs to be connected to the camera before opening.</strong></p>
<p><img alt="Image" src="_images/1720417673759_9cf0f95f_7979_491a_b458_d5517100e3bd.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417673981_ab8ce1a2_a069_4571_8d99_cda8fa26f30c.jpeg" /></p>
<p>After opening the application, click UVC Camera to start the camera preview.</p>
<p><img alt="Image" src="_images/1722218411300_e4824847_5eeb_40e7_9ea6_6d8d8cf9c669.png" /></p>
<p>In Video Mode, you can click the record button to record, and click the recording button to stop recording. The generated video file is located in /userdata/VIDEO0.MOV.</p>
<p>Playback tests can be performed using the gst-play-1.0/userdata/VIDEO0.mov command.</p>
<p>Click the Video Mode button to switch to the photo mode, and click Capture to take a photo.</p>
<p><img alt="Image" src="_images/1722218425115_0b9f51f2_5300_463e_99de_3688a456611a.png" /></p>
<p>The generated file is /userdata/PIC0.jpg.</p>
<p><img alt="Image" src="_images/1720417675235_d9e50c99_9ff6_4a35_8468_6c5fee72c104.png" /></p>
</section>
<section id="uart-test">
<h4>3.1.14 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><img alt="Image" src="_images/1720417675445_75a88339_39db_44d0_8e0b_fa22bbfb8f74.png" /></p>
<p>Application Icons</p>
<p>The serial port test is carried out by short-circuiting two RS485 serial ports on the development board.</p>
<p>1. Click the UART test icon to enter the following interface to set the serial port parameters:</p>
<p><img alt="Image" src="_images/1720417675669_65b7392d_6502_4a9c_b25d_5b378d404585.jpeg" /></p>
<p>2. Click the Setup button in the upper left corner<img alt="Image" src="_images/1720417675867_bfe209ce_4016_402c_aefe_3b47d8a828e0.png" />to set the serial port parameters to be consistent with the parameters of the serial port tool on the computer side, as shown below:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Relevant Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Select Serial Port</p></td>
<td><p>Setting the serial port (select UART2, i.e. ttyS2)</p></td>
</tr>
<tr class="row-odd"><td><p>BaudRate</p></td>
<td><p>Set baud rate (115200)</p></td>
</tr>
<tr class="row-even"><td><p>Data bits</p></td>
<td><p>Set data bits (8 bits)</p></td>
</tr>
<tr class="row-odd"><td><p>Parity</p></td>
<td><p>Set parity bit (no parity)</p></td>
</tr>
<tr class="row-even"><td><p>Stop bits</p></td>
<td><p>Set stop bit (1 bit)</p></td>
</tr>
<tr class="row-odd"><td><p>Flow control</p></td>
<td><p>Set flow control (no flow control)</p></td>
</tr>
</tbody>
</table>
<p><img alt="Image" src="_images/1720417676095_db8cc4ef_3eee_45ab_ac14_31a911477ebe.jpeg" /></p>
<p>3. After setting the serial port parameters, click the connection button ‚Äú<img alt="Image" src="_images/1720417676339_c215e626_a2a3_46e5_b010_e2225245daad.png" />‚Äù in the upper left corner. At this time, the test program can carry out the data receiving and sending test;</p>
<p>4. Run the fltest _ uarttest at the command line terminal. At this time, the screen will display the data received by the serial port.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -w
tx_0: iz2Fu9DzFoR5YnMUtJUcxtJmH88LASWr
root@ok3562:/#
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417676596_de370248_1b87_4f70_9619_4a1f9b125a72.jpeg" /></p>
<p>5. Run ‚Äúfltest_uarttest‚Äù in the command line terminal. Clicking the middle of the black screen in the test interface will bring up the virtual keyboard. After entering 32 characters consecutively, the information printed in the command line terminal represents the data sent by Qt.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -r
rx_0: 12345678901234567890123456789012
root@ok3562:/#
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417676808_2c1e6291_ef9b_4eac_8bba_58b3b71374d0.jpeg" /></p>
</section>
<section id="database-test">
<h4>3.1.15 Database Test<a class="headerlink" href="#database-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>After clicking the desktop icon, the Sqlite test database will be ready.</p>
<p><img alt="Image" src="_images/1720417676999_a26c436c_2b6b_43a5_ac34_061022a7b9ea.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417677226_5613cd21_0ac5_4fee_9c03_7c5281487fe0.png" /></p>
</section>
<section id="backlight-test">
<h4>3.1.16 Backlight Test<a class="headerlink" href="#backlight-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>‚ÄúBackLight‚Äù is the lcd backlight adjustment application:</p>
<p><img alt="Image" src="_images/1720417677503_ce25fa41_3c86_4b58_8a69_b97342e9b73d.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1720417677716_64116b20_28e6_407b_b818_94daa5ac90a1.png" /></p>
<p>Adjust the brightness of the LCD backlight by sliding the slider in the interface; level 0 is the lowest brightness, and level 255 is the highest brightness.</p>
<p>This test procedure limits the minimum brightness, and the minimum value can be set to 1 on the QT interface. If the backlight needs to be turned off, refer to ‚Äú3.2.20 LCD Backlight Adjustment‚Äù, and set the backlight brightness to 0.</p>
</section>
<section id="uboot-menu">
<h4>3.1.17 Uboot Menu<a class="headerlink" href="#uboot-menu" title="Link to this heading">ÔÉÅ</a></h4>
<p>Click on the desktop icon<img alt="Image" src="_images/1720417677943_fb582525_076e_45bc_a77c_8cebe5ad2667.png" />to configure the Uboot menu.</p>
<p>In the ‚Äúdisp_type‚Äù tab, you can select the screen display.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>noneÔºöDo not turn on the screen display

mipiÔºöEnable mipi 1024 * 600 screen display

lvdsÔºöEnable LVDS 1280 * 800 screen display
</pre></div>
</div>
<p>In the ‚Äúamp_start‚Äù tab, you can choose whether to enable amp.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>offÔºöOff

onÔºöOn
</pre></div>
</div>
<p>In the ‚Äúcombphy_type‚Äù tab, you can choose the USB and PCIe multiplexing function.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>noneÔºöClose combphy

usbÔºöcombphy multiplexed as USB function

pcieÔºöcombphy multiplexed as pcie function
</pre></div>
</div>
<p>After successfully making the changes, please ensure to save the settings and restart the development board to apply the configuration.</p>
<p><img alt="Image" src="_images/1720417678199_c414e37a_20b6_497c_bc0b_a8c857634b75.jpeg" /></p>
<p><img alt="Image" src="_images/1720417678430_81a084f5_0d93_419a_9b4a_8bb02bf23f01.jpeg" /></p>
<p><img alt="Image" src="_images/1720417678632_ac754c47_2928_45b0_96d8_2546590bc321.jpeg" /></p>
</section>
<section id="web-services">
<h4>3.1.18 Web Services<a class="headerlink" href="#web-services" title="Link to this heading">ÔÉÅ</a></h4>
<p>The OK3562 development board comes with the lighttpd web server pre-installed, and the lighttpd service has been automatically started at system startup. Enter the IP address of the board into the PC browser to view the web pages in the board‚Äôs webserver, as shown in the following figure:</p>
<p><img alt="Image" src="_images/1720417679107_12d1f44a_8fba_4165_a4fe_ba2b015f28a7.png" /></p>
<p><strong>Note: To use this function properly, the network IP of the development board needs to be the same network segment as the network IP of the PC, or the PC is under the subnet of the network where the development board is located.</strong></p>
</section>
<section id="adc-test">
<h4>3.1.19 ADC Test<a class="headerlink" href="#adc-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C development board is equipped with 13 x ADC, each channel can connect an adjustable resistor. For testing, select channel saradc0_in5. The hardware diagram of the ADC pin is as follows: input voltage at pin 1 of P11. The current chip uses a 1.8V reference voltage corresponding to a 10-bit ADC maximum of 1024.</p>
<p><img alt="Image" src="_images/1720417679386_5ec56abe_ddc8_45a2_a3e6_a78456bf9912.png" /></p>
<p>Run the QT ADC<img alt="Image" src="_images/1720417679554_156d7ae2_e065_46d6_9c57_64c76b6bfc6f.png" />program to display the results.</p>
<p><img alt="Image" src="_images/1720417679774_4094d713_9cbd_4e75_8a0e_2a14d00ad253.png" /></p>
</section>
<section id="tftp-upgrading-system">
<h4>3.1.20 TFTP Upgrading System<a class="headerlink" href="#tftp-upgrading-system" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The current version does not support MiniLoaderAll. bin upgrades;</strong></p></li>
<li><p><strong>Use tftp udp mode to transmit, port number is 69;</strong></p></li>
<li><p><strong>Install the tftpd server tool Tftpd64.4.64.exe.</strong></p></li>
</ul>
<p><strong>Path: OK3562-C-Linux User‚Äôs Manual/Tools/Tftpd64.4.64.exe</strong></p>
<ol class="arabic simple">
<li><p>Install Tftpd64.4.64.exe;</p></li>
<li><p>Open Tftpd64.4.64.exe and run the test;</p></li>
</ol>
<p><img alt="Image" src="_images/1720417679978_d7fe01c5_7320_4e80_99cf_77b53dc1772d.png" /></p>
<p>CurrentDirectory: Select the OK3562-C partition firmware storage path.</p>
<p>Server interfaces: Select the local IP address.</p>
<p><strong>Note: Please close the window firewall and verify the tftp download file test by yourself.</strong></p>
<ol class="arabic simple" start="3">
<li><p>Open the desktop Tftp Update icon<img alt="Image" src="_images/1720417680230_85b319c8_f19d_4966_9000_aaacc308263b.png" /></p></li>
</ol>
<p><img alt="Image" src="_images/1720417680441_fabc1d48_0621_4c0a_9800_b1bbfa3f7ba1.jpeg" /></p>
<p>Please fill in the form according to the actual situation. Select the firmware to update.</p>
<p>Click Tftp: Off to Tftp: On; reboot the board.</p>
<p>The serial port printing information is as follows:</p>
<p><img alt="Image" src="_images/1720417680673_7b21e433_6173_4ed2_ba79_62d3d45120c3.png" /></p>
</section>
<section id="cpu-frequency-configuration-test">
<h4>3.1.21 CPU Frequency Configuration Test<a class="headerlink" href="#cpu-frequency-configuration-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The current interface is only configured with A53 core.</strong></p>
<p>Click the desktop icon to enter the next menu:</p>
<p><img alt="Image" src="_images/1720417681023_ee7bea0e_f25f_4ec2_be12_3580bff6f6e7.png" /><strong>-&gt;</strong><img alt="Image" src="_images/1720417681224_3d726585_e187_49e3_9e1a_06953e06559c.png" /></p>
<p>Application Icons</p>
<p>The maximum CPU clock frequency of OK3562 is 2.0 GHz. By default, the CPU dynamically adjusts the clock frequency according to the load. It is also possible to set a fixed CPU clock frequency.</p>
<p>Click the ‚ÄúPower‚Äù icon on the desktop to enter the CPU clock frequency setting page.</p>
<p><img alt="Image" src="_images/1720417681462_a08c0939_ae79_4034_8ea4_4da675d8f09b.jpeg" /></p>
<p>Set the CPU frequency in the user space.</p>
<p>Set FrequencyCPU0-3ÔºöSet frequency</p>
<p>Taking setting the CPU frequency as an example, if you need to set a fixed frequency, first click ‚ÄúSet Userspace Governor‚Äù, then click ‚Äúrun‚Äù. After that, return to the operation interface in the above figure and click ‚ÄúSet Frequency CPU0 - 3‚Äù to make the setting.</p>
<p><img alt="Image" src="_images/1720417681695_f3a43e8f_34e2_4593_a70f_87260bd357e8.jpeg" /></p>
<p>Select the corresponding frequency for setting based on your requirements.</p>
</section>
<section id="record-test">
<h4>3.1.22 Record Test<a class="headerlink" href="#record-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>IconÔºö<img alt="Image" src="_images/1720417681925_8a69aa3a_5bf4_4727_87c2_035e69ef3ce5.png" /></p>
<p>Before conducting the audio recording test, please insert the prepared microphone into the mic port. Click the icon to enter the recording test application, which can be used to check if the sound card recording function is working properly.</p>
<p>Choose where to save the recording file. Click ‚ÄúStart‚Äù to begin recording and ‚ÄúStop‚Äù to end.</p>
<p>Click the Input Device radio box to select ‚Äúalsa: sysdefault: CARD = rockchiprk809‚Äù, click the Channels radio box to select ‚Äú2‚Äù, and the interface is as follows:</p>
<p><img alt="Image" src="_images/1720417682239_d0793e27_2ace_4398_bb45_1ee1ca099016.jpeg" /></p>
<p>Click the Record button to test the recording. The recording file is saved in the root directory as /clip_XXXX.avi.</p>
</section>
<section id="spi-test">
<h4>3.1.23 SPI Test<a class="headerlink" href="#spi-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>IconÔºö<img alt="Image" src="_images/1720417682440_b869fc6d_7106_4ff7_b299_c35c55dc0c37.png" /></p>
<p>Click on the icon to enter the SPI testing interface. Short-circuit the SPI2_MOSI_M0 and SPI2_MISO_M0 pins, then click ‚Äúsend‚Äù below to receive the data sent out and complete the test.</p>
<p><img alt="Image" src="_images/1720417682692_9a531955_6bdb_4c5f_beec_1e2c0d5d078f.png" /></p>
</section>
</section>
</section>
<section id="ok3562-command-line-function-test">
<h2>4. OK3562 Command Line Function Test<a class="headerlink" href="#ok3562-command-line-function-test" title="Link to this heading">ÔÉÅ</a></h2>
<section id="command-line-function-test">
<h3>4.1 Command Line Function Test<a class="headerlink" href="#command-line-function-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 platform has various built-in command line tools available to users.</p>
<section id="system-information-queries">
<h4>4.1.1 System Information Queries<a class="headerlink" href="#system-information-queries" title="Link to this heading">ÔÉÅ</a></h4>
<p>View kernel:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# uname -a
Linux ok3562 5.10.198 #12 SMP Wed Apr 3 14:22:58 CST 2024 aarch64 GNU/Linux
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# env | sort
ADBD_SHELL=/bin/bash
AUTOAUDIOSINK_PREFERRED=pulsesink
CHROMIUM_FLAGS=--enable-wayland-ime
DBUS_SESSION_BUS_ADDRESS=unix:path=/var/run/dbus/system_bus_socket
EDITOR=/bin/vi
GST_DEBUG_NO_COLOR=1
GST_INSPECT_NO_COLORS=1
GST_V4L2SRC_DEFAULT_DEVICE=/dev/video-camera0
GST_V4L2SRC_MAX_RESOLUTION=3840x2160
GST_V4L2SRC_RK_DEVICES=_mainpath:_selfpath:_bypass:_scale
GST_V4L2_PREFERRED_FOURCC=NV12:YU12:NV16:YUY2
GST_V4L2_USE_LIBV4L2=1
GST_VIDEO_CONVERT_PREFERRED_FORMAT=NV12:NV16:I420:YUY2
GST_VIDEO_CONVERT_USE_RGA=1
GST_VIDEO_DECODER_QOS=0
GST_VIDEO_FLIP_USE_RGA=1
HOME=/
LANG=en_US.UTF-8
PATH=/usr/bin:/usr/sbin
PIXMAN_USE_RGA=1
PLAYBIN2_PREFERRED_AUDIOSINK=pulsesink
PULSE_HOME=/userdata/.pulse
PWD=/
QT_QPA_FONTDIR=/usr/share/fonts
QT_QPA_PLATFORM=wayland-egl
QT_QPA_PLATFORM_PLUGIN_PATH=/usr/lib/qt/plugins
RUNLEVEL=#f-04/13/2024
SHELL=/bin/sh
SHLVL=0
TERM=vt102
UMS_FILE=/userdata/ums_shared.img
UMS_FSTYPE=vfat
UMS_MOUNT=0
UMS_MOUNTPOINT=/mnt/ums
UMS_RO=0
UMS_SIZE=256M
USB_FUNCS=adb
USER=root
WAYLANDSINK_FORCE_DMABUF=1
WESTON_DISABLE_ATOMIC=1
WESTON_DRM_KEEP_RATIO=1
WESTON_DRM_MIN_BUFFERS=2
WESTON_DRM_MIRROR=1
WESTON_FREEZE_DISPLAY=/tmp/.freeze_weston
WL_OUTPUT_VERSION=3
XDG_RUNTIME_DIR=/var/run
_=/usr/bin/env
storagemedia=emmc
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="fm-test">
<h4>4.1.2 FM Test<a class="headerlink" href="#fm-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The quad-core A53 is cpu0, cpu1, cpu2, and cpu3. This process takes cpu0 as an example, and the actual process of cpu1, cpu2, and cpu3 will change at the same time.</strong></p>
<ol class="arabic simple">
<li><p>All cpufreq governor types supported in the current kernel:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
interactive  conservative  ondemand  userspace  powersave  performance  schedutil
</pre></div>
</div>
<p>‚Äúuserspace‚Äù refers to user mode, in which user programs are allowed to adjust the CPU frequency.</p>
<ol class="arabic simple" start="2">
<li><p>View the current CPU supported frequency level.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
408000  600000  816000  1008000  1200000  1416000  1608000  1800000  2016000
//Ê≥® Â∑•‰∏öÁ∫ßCPUÈ¢ëÁéáÊúÄÈ´òÊîØÊåÅ1.2GHZ
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set to user mode and modify the frequency to 1200000Ôºö</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@ok3562:~# echo 1200000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>View the modified current frequency:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
1200000
</pre></div>
</div>
</section>
<section id="temperature-test">
<h4>4.1.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>View the temperature value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/thermal/thermal_zone0/temp
45307
</pre></div>
</div>
<p>The temperature value is 45.3¬∞C.</p>
</section>
<section id="ddr-test">
<h4>4.1.4 DDR Test<a class="headerlink" href="#ddr-test" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_memory_bandwidth.sh
L1 cache bandwidth rd test with # process
0.008192 9531.99
0.008192 9527.23
0.008192 9531.81
0.008192 9528.35
0.008192 9530.08
L2 cache bandwidth rd test
0.131072 7504.40
0.131072 7682.14
0.131072 7650.60
0.131072 7676.25
0.131072 7609.79
Main mem bandwidth rd test
52.43 3004.34
52.43 3011.42
52.43 3026.72
52.43 3011.59
52.43 3018.35
L1 cache bandwidth wr test with # process
0.008192 15139.01
0.008192 15141.75
0.008192 15139.01
0.008192 15147.22
0.008192 15139.49
L2 cache bandwidth wr test
0.131072 8190.42
0.131072 8724.72
0.131072 8671.11
0.131072 8689.86
0.131072 8733.35
Main mem bandwidth wr test
52.43 1889.05
52.43 1886.74
52.43 1895.13
52.43 1891.37
52.43 1877.35
</pre></div>
</div>
<p>The OK3562-C has a LPDDR4 write bandwidth of about 1877M/s and a read bandwidth of about 3004M/s.</p>
</section>
<section id="id1">
<h4>4.1.5 Watchdog Test<a class="headerlink" href="#id1" title="Link to this heading">ÔÉÅ</a></h4>
<p>Watchdog is a function often used in embedded systems. The device node of watchdog in OK3562 is /dev/watchdog.</p>
<p>Start the watchdog, set the reset time for 10s, and feed the dog regularly. The system will not restart.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -t 10 -c
Watchdog Ticking Away!
</pre></div>
</div>
<p>When using ctrl+c to end the test program, kicking the dog is stopped, the watchdog is on, and the system is reset after 10s.</p>
<p>If you do not want to reset, enter the shutdown watchdog command within 10s after finishing the program:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -d
</pre></div>
</div>
<p>Start the watchdog, set the reset time for 10s, but do not feed the dog, the system will restart after 10 seconds.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -t 10
[  532.133075] watchdog: watchdog0: watchdog did not stop!
Watchdog Ticking Away!
</pre></div>
</div>
</section>
<section id="rtc-function-test">
<h4>4.1.6 RTC Function Test<a class="headerlink" href="#rtc-function-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: Ensure that button cell batteries are installed on the board and the battery voltage is normal.</strong></p>
<p>RTC test: The main way to set the software and hardware time is by using the date and hwclock utilities. When performing the board power-down and power-up test, the software clock reads whether the RTC clock is synchronized or not.</p>
<p>Time settings:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# date -s &quot;2022-12-12 17:23:00&quot;      // Set the software time
Mon Dec 12 17:23:00 CST 2022
root@ok3562:~# hwclock -w			// Synchronize the software time to the hardware time
root@ok3562:~# hwclock -r					    		// Display the hardware time
Mon Dec 12 17:23:06 CST 2022
</pre></div>
</div>
<p>Then power down and power up the board, enter the system, and read the system time. After that, we can see that the time has synchronized.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# date
Mon Dec 12 17:23:20 CST 2022
</pre></div>
</div>
</section>
<section id="id2">
<h4>4.1.7 Key Test<a class="headerlink" href="#id2" title="Link to this heading">ÔÉÅ</a></h4>
<p>Use the fltest_keytest command line tool to test the keys. fltest_keytest currently supports the test of four keys on the carrier board, VOL+, VOL-, MENU, and ESC, with key codes 115, 114, 139, and 158, respectively.</p>
<p>Execute the following command, noting that it is event4 when a touchscreen is present:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_keytest /dev/input/event3
</pre></div>
</div>
<p>At this point, press the lift button in sequence, and the following can be output on the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>key115 Presse                                                         // VOL+ pressed
key115 Released                                                       // VOL+ released
key114 Presse                                                         // VOL- pressed
key114 Released                                                       // VOL- released
key139 Presse                                                         // MENU pressed
key139 Released                                                       // MENU released
key158 Presse                                                         // ESC pressed
key158 Released                                                       // ESC released
</pre></div>
</div>
</section>
<section id="id3">
<h4>4.1.8 UART Test<a class="headerlink" href="#id3" title="Link to this heading">ÔÉÅ</a></h4>
<p>UART0, UART2, UART8 and UART9 serial ports are indicated in the schematic diagram of OK3562 platform carrier board, in which UART0 is a debugging serial port, UART8 is a Bluetooth serial port, and UART2 and UART9 are 485 serial ports. The default device names of UART2 and UART9 in the development board are ttyS2 and ttyS9 respectively. Supports up to 4M baud rate</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>UART</strong></p></th>
<th class="head text-center"><p><strong>Device Nodes</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>UART2</p></td>
<td class="text-center"><p>/dev/ttyS2</p></td>
<td><p>RS485</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART8</p></td>
<td class="text-center"><p>/dev/ttyS8</p></td>
<td><p>It is used for Bluetooth and is not separately pinned out and can‚Äôt be directly used for this test.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART9</p></td>
<td class="text-center"><p>/dev/ttyS9</p></td>
<td><p>RS485</p></td>
</tr>
</tbody>
</table>
<p>This test uses UART2 and UART9 to short 485 _ B1 and 485 _ B0, 485 _ A1 and 485 _ A0 in P36 port. GND _ 485 _ 0, GND _ 485 _ 1 pin header, as shown in the figure:</p>
<p><img alt="Image" src="_images/1722219092030_c1249903_b12e_48b0_8be6_51478d731f101.png" /></p>
<p>Enter the following command in the serial port of the development board:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS2 -b 115200 -r &amp;
[1] 1953
root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -w
tx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
rx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
[1]+  Done                    fltest_uarttest -d /dev/ttyS2 -b 115200 -r
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="id4">
<h4>4.1.9 ADC Test<a class="headerlink" href="#id4" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C development board is equipped with 13 x ADC, each channel can connect an adjustable resistor. For testing, select channel saradc0_in5. The hardware diagram of the ADC pin is as follows: input voltage at pin 1 of P11. The current chip uses a 1.8V reference voltage corresponding to a 10-bit ADC maximum of 1024.</p>
<p><img alt="Image" src="_images/1720417683181_9552584f_5419_47e8_9307_1427849c8bae1.png" /></p>
<p>Take SARADC _ VIN2 as an example to test the adjustable resistance value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cd /sys/bus/iio/devices/iio:device0
root@ok3562:/sys/bus/iio/devices/iio:device0# cat in_voltage5_raw
809
</pre></div>
</div>
</section>
<section id="tf-card-test">
<h4>4.1.10 TF Card Test<a class="headerlink" href="#tf-card-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The SD card mount directory is /run/media/ and supports hot-swapping.</strong></p>
<p>1. Insert the TF card into the TF card slot on the carrier board before power up. Then power up and start, run the command dmesg, and the terminal will have the following printed information:</p>
<p><img alt="Image" src="_images/1720417683449_f07dfde3_d452_4fdf_a8ae_951a7a0680f8.png" /></p>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;mmcblk1&quot;
/dev/mmcblk1p1 on /run/media/mmcblk1p1 type vfat (rw,relatime,gid=6,fmask=0007,dmask=0007,allow_utime=0020,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>3. Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/mmcblk1p1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 10.1131 s, 51.8 MB/s
</pre></div>
</div>
<p>4. Read test:</p>
<p><strong>Note: To ensure accurate data, restart the board and test the read speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/mmcblk1p1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 6.47351 s, 81.0 MB/s
</pre></div>
</div>
<p>5. After using the TF card, uninstall it with umount before ejecting it.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/mmcblk1p1
</pre></div>
</div>
<p><strong>Note: Plug and unplug the TF card after exiting the TF card mounting path.</strong></p>
</section>
<section id="emmc-test">
<h4>4.1.11 EMMC Test<a class="headerlink" href="#emmc-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 platform eMMC runs in HS200 mode 200MHz clock by default. The following is a simple eMMC read/write speed test: taking the read/write ext4 file system as an example.</p>
<p>Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 5.18805 s, 101 MB/s
</pre></div>
</div>
<p>Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/test of=/dev/null bs=1M iflag=direct
500+0 records in 
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 2.1929 s, 239 MB/s
</pre></div>
</div>
</section>
<section id="usb-mouse-test">
<h4>4.1.12 USB Mouse Test<a class="headerlink" href="#usb-mouse-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Connect the USB mouse to the USB interface of the OK3562 platform and use the dmesg command, the serial terminal prints the following information:</p>
<p><img alt="Image" src="_images/1720417683670_7cdcbb8f_c940_4f83_b982_1be0d074afc9.png" /></p>
<p>At this time, the arrow cursor appears on the screen, the mouse can work normally.</p>
</section>
<section id="usb2-0">
<h4>4.1.13 USB2.0<a class="headerlink" href="#usb2-0" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 supports three USB2.0 interfaces. You can connect USB mouse, USB keyboard, U disk and other devices on any on-board USB HOST interface, and support hot plug of the above devices. Demonstration with a mounting USB flash drive; the current USB flash drive test support up to 32G, but no test for 32G or above.</p>
<p>The terminal prints information about the USB flash drive, and since many types of USB flash drives exist, the information displayed may vary:</p>
<ol class="arabic simple">
<li><p>After the development board booting, connect the USB interface disk to the USB host interface of the development board. The default log print information is low, so there will be no print information. Use the dmesg command to view and get information about the USB flash drive.</p></li>
</ol>
<p><img alt="Image" src="_images/1720417683973_a87d10d3_9892_451c_881f_e0d62c9a7589.png" /></p>
<ol class="arabic simple" start="2">
<li><p>View the mount directory:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda1&quot;
/dev/sda1 on /run/media/sda1 type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>We can see the USB mount directory: /run/media/sda1</p>
<ol class="arabic simple" start="3">
<li><p>View the contents of the U disk (sda1 is based on the actual USB flash drive partition name).</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Write test: Write speeds are limited by the specific storage device:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 28.8323 s, 18.2 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Read testÔºö</p></li>
</ol>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 25.0096 s, 21.0 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Before removing the USB flash drive, it‚Äôs necessary to unmount it using ‚Äò‚Äôumount‚Äô‚Äô.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Exit the USB flash drive mount path before plugging and unplugging the USB flash drive.</strong></p>
</section>
<section id="usb-to-four-serial-port-test">
<h4>4.1.14  USB to Four Serial Port Test<a class="headerlink" href="#usb-to-four-serial-port-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Supports XR21V1414 USB to serial port chip driver;</strong></p></li>
<li><p><strong>USB to four serial port conversion is an optional module. If you have the need for it, please contact the sales personnel of Forlinx Embedded.</strong></p></li>
</ul>
<p>1. After powering on the development board, connecting the USB to four serial port modules via USB HOST shows specific printing info on the terminal.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[  836.286313] usb 1-1.1: new full-speed USB device number 4 using ehci-platform
[  836.502174] usb 1-1.1: New USB device found, idVendor=04e2, idProduct=1414, bcdDevice= 0.03
[  836.502245] usb 1-1.1: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[  836.504546] cdc_xr_usb_serial 1-1.1:1.0: This device cannot do calls on its own. It is not a modem.
[  836.505009] cdc_xr_usb_serial 1-1.1:1.0: ttyXR_USB_SERIAL0: USB XR_USB_SERIAL device
[  836.509062] cdc_xr_usb_serial 1-1.1:1.2: This device cannot do calls on its own. It is not a modem.
[  836.509550] cdc_xr_usb_serial 1-1.1:1.2: ttyXR_USB_SERIAL1: USB XR_USB_SERIAL device
[  836.513236] cdc_xr_usb_serial 1-1.1:1.4: This device cannot do calls on its own. It is not a modem.
[  836.513640] cdc_xr_usb_serial 1-1.1:1.4: ttyXR_USB_SERIAL2: USB XR_USB_SERIAL device
[  836.517896] cdc_xr_usb_serial 1-1.1:1.6: This device cannot do calls on its own. It is not a modem.
[  836.518322] cdc_xr_usb_serial 1-1.1:1.6: ttyXR_USB_SERIAL3: USB XR_USB_SERIAL device
</pre></div>
</div>
<p>2. Check the usb device status by lsusb:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# lsusb
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 002: ID 1a40:0101
Bus 002 Device 001: ID 1d6b:0001
Bus 001 Device 004: ID 04e2:1414                //The vid and pid of the conversion chip
</pre></div>
</div>
<p>Check whether a serial port node is generated under dev:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@3562:/# ls /dev/ ttyXRUSB*
/dev/ttyXRUSB0  /dev/ttyXRUSB1  /dev/ttyXRUSB2  /dev/ttyXRUSB3 
</pre></div>
</div>
<p>3. The mapping between the four extended serial ports and their corresponding device nodes is shown in the diagram below:</p>
<p><img alt="Image" src="_images/1720417684392_b4febc8c_5724_401d_a9a4_20165a269a9c1.png" /></p>
<p>4. Refer to ‚Äú3.2. 8 UART Test‚Äù for the test methods.</p>
</section>
<section id="usb3-0-usb-otg-test">
<h4>4.1.15 USB3.0 / USB OTG Test<a class="headerlink" href="#usb3-0-usb-otg-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>USB3.0 / USB OTG and PCIe on the OK3562-C platform are multiplexed functions. USB3.0 supports only Host mode, and USB OTG supports only USB2.0.</p>
<p>To test the USB function (including USB3.0 and USB otg), turn the S3 DIP switch on the carrier board to the OFF position, and set the combphy _ type as USB in the Uboot menu. Refer to 4.2.29 Uboot menu.</p>
<p>USB Host mode allows you to connect standard USB devices, while Device mode supports functions such as firmware flashing, ADB file transfer, and debugging.</p>
<section id="usb3-0-host-mode">
<h5>4.1.15.1  USB3.0 Host Mode:<a class="headerlink" href="#usb3-0-host-mode" title="Link to this heading">ÔÉÅ</a></h5>
<p>1. Set the S2 DIP switch on the development board to the ON position;</p>
<p>2. Modify the device tree file arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi (default in factory image, no need to modify) to change the ‚Äúdr_mode‚Äù property of the ‚Äúusbdrd_dwc3‚Äù node to ‚Äúhost‚Äô, as shown in the following image;</p>
<p><img alt="Image" src="_images/1720417684738_0e90d5d6_c5d0_4484_806e_8fc65da658291.png" /></p>
<p>3. Recompile the image and flash it into the development board;</p>
<p>4. Set the S3 DIP switch on the carrier board to the OFF position, and also set combphy_type to usb in the U-Boot menu;</p>
<p>5. Connect the USB 3.0 flash drive to the USB 3.0-A port (labeled P33) on the development board and recognize the flash drive.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   23.576515] usb 4-1: new SuperSpeed Gen 1 USB device number 2 using xhci-hcd
[   23.604126] usb 4-1: New USB device found, idVendor=0bda, idProduct=9210, bcdDevice=20.01
[   23.604191] usb 4-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[   23.604219] usb 4-1: Product: Ugreen Storage Device
[   23.604242] usb 4-1: Manufacturer: Ugreen
[   23.604263] usb 4-1: SerialNumber: 012938051990
[   23.668038] scsi host0: uas
[   24.080889] scsi 0:0:0:0: Direct-Access     INTEL SS DPEKKW256G8      1.00 PQ: 0 ANSI: 6
[   24.097622] sd 0:0:0:0: [sda] 500118192 512-byte logical blocks: (256 GB/238 GiB)
[   24.098918] sd 0:0:0:0: [sda] Write Protect is off
[   24.101591] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   24.103837] sd 0:0:0:0: [sda] Optimal transfer size 33553920 bytes
[   24.134645]  sda: sda1
[   24.158935] sd 0:0:0:0: [sda] Attached SCSI disk
</pre></div>
</div>
<p>6. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda&quot;
/dev/sda1 on /run/media/sda1 type fuseblk (rw,nosuid,nodev,relatime,user_id=0,group_id=0,default_permissions,allow_other,blksize=4096)
</pre></div>
</div>
<p>The mount path for the USB storage device can be found at /run/media/sda.</p>
<p>7. View the contents of the USB drive (replace ‚Äúsda‚Äù with the actual partition name of the USB drive).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 1048576
-rwxrwxrwx 1 root root 1073741824 Jan  1  1980 test1g
</pre></div>
</div>
<p>8. Write test: Write speeds are limited by the specific storage device:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 3.60126 s, 146 MB/s
</pre></div>
</div>
<p>9. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 1.15981 s, 452 MB/s
</pre></div>
</div>
<p>10. Before removing the USB flash drive, it‚Äôs necessary to unmount it using ‚Äò‚Äôumount‚Äô‚Äô.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Exit the USB flash drive mount path before plugging and unplugging the USB flash drive.</strong></p>
</section>
<section id="usb-otg-mode">
<h5>4.1.15.2 USB OTG Mode<a class="headerlink" href="#usb-otg-mode" title="Link to this heading">ÔÉÅ</a></h5>
<p>1. Modify the usbdrd_dwc3 node in the device tree arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi, as shown in the following image;</p>
<p><img alt="Image" src="_images/1720417684997_25146b9b_12f9_40f2_a6e2_3938db623bb81.png" /></p>
<p>2. Recompile the image and flash it into the development board;</p>
<p>3. Set the S3 DIP switch on the carrier board to the OFF position, and also set combphy_type to usb in the U-Boot menu.</p>
<p>Host mode requires setting switch S2 on the carrier board to the ON position.</p>
<p>Insert a USB flash drive into the P33 USB-A port to enable recognition. The USB flash drive operates at USB 2.0 speed (Toggle switch S2 to OFF and back to ON if automatic recognition fails).</p>
<p>Connect the USB flash disk to the USB3.0-A port of the development board (silk-screen P33) to identify the USB flash disk:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   48.317004] usb 3-1: new high-speed USB device number 3 using xhci-hcd
[   48.460355] usb 3-1: New USB device found, idVendor=05e3, idProduct=0747, bcdDevice= 8.19
[   48.460422] usb 3-1: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[   48.460449] usb 3-1: Product: USB Storage
[   48.460470] usb 3-1: Manufacturer: Generic
[   48.460491] usb 3-1: SerialNumber: 000000000819
[   48.463227] usb-storage 3-1:1.0: USB Mass Storage device detected
[   48.465081] scsi host0: usb-storage 3-1:1.0
[   49.492654] scsi 0:0:0:0: Direct-Access     Generic  STORAGE DEVICE   0819 PQ: 0 ANSI: 6
[   49.940084] sd 0:0:0:0: [sda] 124735488 512-byte logical blocks: (63.9 GB/59.5 GiB)
[   49.941418] sd 0:0:0:0: [sda] Write Protect is off
[   49.942545] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   49.970261] sd 0:0:0:0: [sda] Attached SCSI removable disk
</pre></div>
</div>
<p>In Device mode, the S2 DIP switch on the carrier board needs to be set to the OFF position.</p>
<p>Connect the computer to the development board P35 USB-type C socket with the USB-a to USB-C cable, and restart the development board.</p>
<p><img alt="Image" src="_images/1720417685359_31c37e27_76b7_4b1f_acd6_01f0c457490a1.png" /></p>
<p>Rockchip development tool shows ‚Äúfound an ADB device‚Äù, you can download files from the development board to the computer through ADB pull, and upload files from the computer to the development board through ADB push.</p>
<p>Open the RKDevTool_Release/bin directory in the Win10 PowerShell terminal.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Windows PowerShell
Copyright ¬© Microsoft Corporation. All rights reserved.

Try the new cross - platform PowerShell at https://aka.ms/pscore6

PS C:\Users\Acer&gt; cd D:\rk3562\RKDevTool\RKDevTool_Release\bin
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe devices
List of devices attached
38bc17e18f2c57bc        device

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe push D:\test.mp3 /home/forlinx/
D:\test.mp3: 1 file pushed. 13.8 MB/s (4818092 bytes in 0.334s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe pull /home/forlinx/test
/home/forlinx/test: 1 file pulled. 0.0 MB/s (29 bytes in 0.002s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; ls .\test

    Directory: D:\rk3562\RKDevTool\RKDevTool_Release\bin

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         2024/4/25     12:14             29 test

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
</pre></div>
</div>
</section>
</section>
<section id="pcie-test">
<h4>4.1.16 PCIE Test<a class="headerlink" href="#pcie-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: OK3562 PCIE 2.0 and USB 3.0 cannot be used simultaneously.</strong></p>
<p>OK3562-C board has 1 x PCIE 2.0.</p>
<p>Before powering up the system, insert the PCIE module into the PCIE card slot on the carrier board. Set the DIP switch S3 on the carrier board to ON, and in the U-Boot menu, set combphy_type to pcie. Refer to ‚Äú4.2.29  Uboot Menu‚Äù.</p>
<p>After powering up and booting, from lspci we can see that the corresponding device enumeration is successful.</p>
<p><img alt="Image" src="_images/1720417685571_e8818454_b153_4e87_9125_15dba69fe57a.png" /></p>
<p>Due to the many types of pcie devices, it may not be supported by the kernel by default, so you need to add the corresponding driver for the compiled device by yourself.</p>
<p>Take the E1000 PCIe card as an example, the Linux kernel already includes this driver by default. After plugging in the NIC, powering up, and booting, we can see the enumeration information with the Ethernet interface.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# dmesg | grep e1000e
[    4.529083] e1000e: Intel(R) PRO/1000 Network Driver
[    4.529098] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.773406] e1000e 0000:01:00.0: enabling device (0000 -&gt; 0002)
[    4.773709] e1000e 0000:01:00.0: Interrupt Throttling Rate (ints/sec) set to dynamic conservative mode
[    4.819936] e1000e 0000:01:00.0 0000:01:00.0 (uninitialized): registered PHC clock
[    4.872420] e1000e 0000:01:00.0 eth2: (PCI Express:2.5GT/s:Width x1) 68:05:ca:1a:e4:33
[    4.872429] e1000e 0000:01:00.0 eth2: Intel(R) PRO/1000 Network Connection
[    4.872452] e1000e 0000:01:00.0 eth2: MAC: 3, PHY: 8, PBA No: E46981-008
root@ok3562:/#
root@ok3562:/# ifconfig eth2
eth2      Link encap:Ethernet  HWaddr 68:05:CA:1A:E4:33
          BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:92 Memory:fc2c0000-fc2e0000
root@ok3562:/#
</pre></div>
</div>
<p><font style="color:#000000;">Test bandwidth with iperf3</font></p>
<p><img alt="Image" src="_images/1720417685858_f60dff6f_4e41_4ed9_924d_2744215572b1.png" /></p>
<p><img alt="Image" src="_images/1720417686181_e408c980_ad76_4e34_ab64_143ccb996e04.png" /></p>
</section>
<section id="ethernet-configuration">
<h4>4.1.17 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C development board is equipped with two network cards, one Gigabit and one hundred-megabit. When connected to the network, eth0 is configured with a static IP address by default upon factory settings.</p>
<p>The path to the configuration file is: /etc/network/interfaces. The IP configuration is:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>auto eth0
iface eth0 inet dhcp
</pre></div>
</div>
<p>Set a static IP configuration. The following takes setting the IP of eth0 to 192.168.0.232 as an example:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>auto eth0
iface eth0 inet static
address 192.168.0.232
netmask 255.255.255.0
gateway 192.168.0.1
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>iface</p></td>
<td><p>Used to specify a network card that requires a fixed IP</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>address</p></td>
<td><p>Used to specify an IP address that needs to be fixed</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>netmask</p></td>
<td><p>Used to set the subnet mask</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>gateway</p></td>
<td><p>Used to specify a gateway</p></td>
</tr>
</tbody>
</table>
<p>After setting up, use the sync file synchronization command to reboot the development board or restart the service for the configuration to take effect.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ifdown -a
root@ok3562:~# ifup -a
</pre></div>
</div>
</section>
<section id="id5">
<h4>4.1.18  WIFI Test<a class="headerlink" href="#id5" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The network environment is different, so please set it according to the actual situation when you do this experiment.</strong></p>
<p>OK3562 platform supports WIFI Bluetooth 2-in-1 module: 6221A-SRC (RTL8821CS).</p>
<ul class="simple">
<li><p><strong>STA Mode</strong></p></li>
</ul>
<p>This mode means that it acts as a station and connects to the wireless network. In the following test, the router uses WPA encryption, the connected wifi hotspot name is: H3C_708_5G and the password is: 123456785. Due to the different network environments, please set up according to the actual situation when conducting this test:</p>
<p>1. Enter the following command in the development board terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_wifi.sh -I wlan0 -s H3C_708_5G -p 123456785.
</pre></div>
</div>
<p>The meanings of the related parameters in the command are as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>-I</p></td>
<td><p>Different wifi modules use different parameters, and specify the WIFI device name.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>-s</p></td>
<td><p>Actual wifi hotspot connected</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>-p</p></td>
<td><p>-pÔºöfollowed by the parameter Password refers to the password of the actual wifi hotspot to be connected. If the current hotspot does not have a password, the parameter after -p is NONE.</p></td>
</tr>
</tbody>
</table>
<p>The serial port prints as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_wifi.sh -i wlan0 -s H3C_708_5G -p 123456785.
[ 1493.212161] rk_gmac-dwmac ffa80000.ethernet eth0: Link is Down
wifi wlan0
ssid H3C_708_5G
pasw 123456785.
waiting...
[ 1494.995715] start_addr=(0x8000), end_addr=(0x10000), buffer_size=(0x8000), smp_number_max=(4096)
[ 1498.300935] RTW: wlan0- hw port(0) mac_addr =5c:c5:63:66:df:27
[ 1498.331973] ========== ACS (VER-3) ==========
[ 1498.332037] Best 24G Channel:2
[ 1498.332058] Best 5G Channel:40
[ 1498.332058]
[ 1498.339855] RTW: rtw_set_802_11_connect(wlan0)  fw_state=0x00000008
[ 1498.558831] RTW: start auth
[ 1498.559981] RTW: auth success, start assoc
[ 1498.561641] RTW: assoc success
[ 1498.563384] RTW: ============ STA [14:51:7e:62:fc:87]  ===================
[ 1498.563432] RTW: mac_id : 0
[ 1498.563440] RTW: wireless_mode : 0x24
[ 1498.563446] RTW: mimo_type : 0
[ 1498.563455] RTW: static smps : N
[ 1498.563463] RTW: bw_mode : 80MHz, ra_bw_mode : 80MHz
[ 1498.563471] RTW: rate_id : 10
[ 1498.563480] RTW: rssi : -1 (%), rssi_level : 0
[ 1498.563488] RTW: is_support_sgi : Y, is_vht_enable : Y
[ 1498.563495] RTW: disable_ra : N, disable_pt : N
[ 1498.563501] RTW: is_noisy : N
[ 1498.563509] RTW: txrx_state : 0
[ 1498.563517] RTW: curr_tx_rate : CCK_1M (L)
[ 1498.563524] RTW: curr_tx_bw : 20MHz
[ 1498.563532] RTW: curr_retry_ratio : 0
[ 1498.563538] RTW: ra_mask : 0x00000000003ffff0
[ 1498.563538]
[ 1498.564273] RTW: recv eapol packet 1/4
[ 1498.565226] RTW: send eapol packet 2/4
[ 1498.569129] RTW: recv eapol packet 3/4
[ 1498.569586] RTW: send eapol packet 4/4
[ 1498.570094] RTW: set pairwise key camid:0, addr:14:51:7e:62:fc:87, kid:0, type:AES
[ 1498.570729] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[ 1498.571163] RTW: set group key camid:1, addr:14:51:7e:62:fc:87, kid:1, type:TKIP
udhcpc: started, v1.36.0
udhcpc: broadcasting discover
udhcpc: broadcasting select for 192.168.1.30, server 192.168.1.1
udhcpc: lease of 192.168.1.30 obtained from 192.168.1.1, lease time 86400
deleting routers
adding dns 192.168.1.1
connect ok
root@ok3562:/#
</pre></div>
</div>
<p>2. Check whether it can ping the external network and enter the following command in the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping baidu.com -c 4                 //Specify to ping 4 times
PING baidu.com (39.156.66.10) 56(84) bytes of data.
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=1 ttl=51 time=14.6 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=2 ttl=51 time=8.19 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=3 ttl=51 time=8.86 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=4 ttl=51 time=7.93 ms

--- baidu.com ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3005ms
rtt min/avg/max/mdev = 7.925/9.884/14.565/2.723 ms
root@ok3562:/#
</pre></div>
</div>
<ul class="simple">
<li><p><strong>AP Mode</strong></p></li>
</ul>
<p>Before conducting this test, ensure that the Gigabit network card eth0 is connected to the network and functioning properly, so that the mobile phone can access the Internet after connecting to the hotspot.</p>
<ol class="arabic simple">
<li><p>Check the driver loading status:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsmod                    							 //View loaded module
Module               Size      	Used by    Tainted: G
8821cs               2793472  	0
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Configuration Hotspot;</p></li>
</ol>
<p>WiFi Hotspot Name: OK3562_WIFI_2.4G_AP</p>
<p>Password: 12345678</p>
<p>Check by hotspot name, password and /etc/hostapd-2.4g.conf.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_hostap.sh
[  705.365653] wlan: Received disassociation request on mlan0, reason: 3
[  705.365693] wlan: REASON: (Deauth) Sending STA is leaving (or has left) IBSS or ESS
hostapd: no process found
Stopping dnsmasq (via systemctl): dnsmasq.service.
Configuration file: /etc/hostapd-2.4g.conf
[  706.760789] uap0: Skip change virtual intf on uap: type=3
Using interface uap0 with hwaddr 14:13:33:63:f0:73 and ssid &quot;OK3562_WIFI_2.4G_AP&quot;
[  706.777774] wlan: Starting AP
[  706.778591] Get ht_cap from beacon ies: 0xc
[  706.779094] fw doesn&#39;t support 11ax
[  706.789807] wlan: AP started
[  706.791465] Set AC=3, txop=47 cwmin=3, cwmax=7 aifs=1
[  706.793782] Set AC=2, txop=94 cwmin=7, cwmax=15 aifs=1
[  706.796067] Set AC=0, txop=0 cwmin=15, cwmax=63 aifs=3
[  706.798295] Set AC=1, txop=0 cwmin=15, cwmax=1023 aifs=7
uap0: interface state UNINITIALIZED-&gt;ENABLED
uap0: AP-ENABLED
Starting dnsmasq (via systemctl): dnsmasq.service.
</pre></div>
</div>
</section>
<section id="bluetooth-test">
<h4>4.1.19 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>6221A-SRCÔºàRTL8821CSÔºâmodule on the OK3562 carrier board integrates Bluetooth. This section demonstrates data transfer via Bluetooth between a cell phone and the development board. It can support Bluetooth up to 4.2.</p>
<p>1. Bluetooth Configuration</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# bluetoothctl                                      // Open the bluez Bluetooth tool
[NEW] Controller B8:4D:43:12:43:6F forlinx [default]
Agent registered
[bluetooth]# power on                                            // Start the Bluetooth device
Changing power on succeeded
[bluetooth]# pairable on                                         // Set to pairing mode
Changing pairable on succeeded
[bluetooth]# discoverable on                                     // Set to discoverable mode
[bluetooth]# [ 1547.589820] Bluetooth: hu ffffffc066059c00 retransmitting 1 pkts
Changing discoverable on succeeded
[CHG] Controller B8:4D:43:12:43:6F Discoverable: yes
[bluetooth]# agent on                                            // Start the agent
Agent is already registered
[bluetooth]# default-agent                                       // Set the current agent as the default
Default agent request successful
</pre></div>
</div>
<p>2. Development Board Passive Pairing.</p>
<p>At this time, open the PC Bluetooth search, and a ‚ÄúOK3562‚Äù device will appear. Select pairing.</p>
<p><img alt="Image" src="_images/1720417686511_83a2a7db_1e20_494c_a796_882d0345561d.png" /></p>
<p>At the same time the printing message displays on the development board as follows, enter yes</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[NEW] Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F
Request confirmation
[agent] Confirm passkey 678054 (yes/no): yes
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 Modalias: bluetooth:v0006p0001d0A00
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001000-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: c7f94713-891e-496a-a0e7-983a0946126e
[CHG] Device 2C:DB:07:C7:4F:F6 ServicesResolved: yes
[CHG] Device 2C:DB:07:C7:4F:F6 Paired: yes
Authorize service
[agent] Authorize service 0000110e-0000-1000-8000-00805f9b34fb (yes/no): yes
Authorize service
[agent] Authorize service 0000110d-0000-1000-8000-00805f9b34fb (yes/no): yes
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001000-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110d-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: c7f94713-891e-496a-a0e7-983a0946126e
</pre></div>
</div>
<p>View and remove connected devices:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# devices		                 //Search for discoverable Bluetooth devices
Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F 
[bluetooth]# remove 2C:DB:07:C7:4F:F6                           //Remove the device 
</pre></div>
</div>
<p>3. Development board active pairing</p>
<p>In addition to passive pairing, it is also possible to send an active pairing request from the development board terminal</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# scan on	                                               // Search for discoverable Bluetooth devices
Discovery started
[CHG] Controller 14:13:33:63:EF:72 Discovering: yes
[NEW] Device FC:E8:00:CF:42:E3 EDIFIER BLE
[NEW] Device 5C:50:51:B5:85:4B 5C-50-51-B5-85-4B
[CHG] Device FC:E8:00:CF:42:E3 RSSI: -92
[bluetooth]# scan off		                                          // Stop the search
[bluetooth]# pair 2C:DB:07:C7:4F:F6                                 // Pair with the Bluetooth device
Attempting to pair with 2C:DB:07:C7:4F:F6
[CHG] Device 2C:DB:07:C7:4F:F6 Connected: yes
Request confirmation
[agent] Confirm passkey 745068 (yes/no): yes	                       // Confirm the passkey
</pre></div>
</div>
<p>4. Development board to receive documents</p>
<p>After successful pairing, on the PC side, Bluetooth can send files to the OK3562-C.</p>
<p><img alt="Image" src="_images/1720417686733_a7c68469_02b0_45da_af81_789c0d2f93e31.png" /></p>
<p>Received files are saved in the /tmp directory.</p>
<p>5. The development board to send files</p>
<p>Similarly, the OK3562-C can send files to a cell phone, test is as follows:</p>
<p>6. OK3562-C development board to send files to the cell phone, the test method is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_obexctl.sh		                             // Start obexctl
[NEW] Client /org/bluez/obex
[obex]# connect 2C:DB:07:C7:4F:F6	             // Connect to the MAC of the Bluetooth device for communication
Attempting to connect to 2C:DB:07:C7:4F:F6
[NEW] Session /org/bluez/obex/client/session1 [default]
[NEW] ObjectPush /org/bluez/obex/client/session1
Connection successful
[C4:E1:A1:BA:A4:9E]# send /userdata/media/test.mp3	      		   // Send a file
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417686966_110c7eef_9546_4571_a9b6_be4a5f29c69c.png" /></p>
<p>The phone will receive the incoming file request and click ‚ÄúReceive‚Äù to transfer the file.</p>
</section>
<section id="g">
<h4>4.1.20 4G<a class="headerlink" href="#g" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>When using the IoT card to test, the module firmware version needs to be confirmed, the low firmware version is not supported, and</strong> <strong>EC20</strong> <strong>needs to be upgraded;</strong></p></li>
<li><p><strong>Some IoT cards require a dedicated account number and password when dialing, and users adjust the commands according to the situation;</strong></p></li>
<li><p><strong>The quectelCM ‚Äìhelp command allows you to see the meaning of the relevant parameters.</strong></p></li>
</ul>
<p>The OK3562 supports the 4G module EC20. Before powering on the development board, connect the 4G module and insert the SIM card, then start the board.</p>
<p>1. After connecting the module and powering up the board and module, check the USB status through the lsusb command;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsusb
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 004: ID 0bda:9210
Bus 001 Device 003: ID 17ef:608d
Bus 001 Device 002: ID 1a40:0101
Bus 002 Device 001: ID 1d6b:0001 
Bus 002 Device 003: ID 2c7c:0125	                             //EC20 VID and PID
</pre></div>
</div>
<p>View device node status under /dev.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls /dev/ttyUSB*
/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2  /dev/ttyUSB3
</pre></div>
</div>
<p>2. After the equipment is successfully identified, the dial-up Internet access test can be conducted. fltest_quectel.sh calls quectelCM, see /usr/bin/fltest_quectel.sh for specific commands;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_quectel.sh &amp;
</pre></div>
</div>
<p>Printing information is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
eth1: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
[04-02_01:24:28:549] Quectel_QConnectManager_Linux_V1.6.0.24
[04-02_01:24:28:550] Find /sys/bus/usb/devices/2-1 idVendor=0x2c7c idProduct=0x125, bus=0x002, dev=0x003
[04-02_01:24:28:559] Auto find qmichannel = /dev/qcqmi0
[04-02_01:24:28:563] Auto find usbnet_adapter = usb0
[04-02_01:24:28:568] netcard driver = GobiNet, driver version = V1.6.2.14
[04-02_01:24:28:574] Modem works in QMI mode
[04-02_01:24:28:631] Get clientWDS = 7
[04-02_01:24:28:663] Get clientDMS = 8
[04-02_01:24:28:695] Get clientNAS = 9
[04-02_01:24:28:727] Get clientUIM = 10
[04-02_01:24:28:759] Get clientWDA = 11
[04-02_01:24:28:790] requestBaseBandVersion EM05CEFCR06A02M1G_ND
[04-02_01:24:28:918] requestGetSIMStatus SIMStatus: SIM_READY
[04-02_01:24:28:950] requestGetProfile[1] 3gnet///0
[04-02_01:24:28:982] requestRegistrationState2 MCC: 460, MNC: 1, PS: Attached, DataCap: LTE
[04-02_01:24:29:015] requestQueryDataCall IPv4ConnectionStatus: DISCONNECTED
[04-02_01:24:29:016] ifconfig usb0 0.0.0.0
[04-02_01:24:29:031] ifconfig usb0 down
[04-02_01:24:29:110] requestSetupDataCall WdsConnectionIPv4Handle: 0x86cfbe60
[04-02_01:24:29:271] ifconfig usb0 up
[04-02_01:24:29:292] No default.script found, it should be in &#39;/usr/share/udhcpc/&#39; or &#39;/etc//udhcpc&#39; depend on your udhcpc version!
[04-02_01:24:29:298] busybox udhcpc -f -n -q -t 5 -i usb0
udhcpc: started, v1.30.1
udhcpc: sending discover
udhcpc: sending select for 10.117.151.120
udhcpc: lease of 10.117.151.120 obtained, lease time 7200
[04-02_01:24:29:440] ip -4 address flush dev usb0
[04-02_01:24:29:450] ip -4 address add 10.117.151.120/28 dev usb0
[04-02_01:24:29:465] ip -4 route add default via 10.117.151.121 dev usb0 
</pre></div>
</div>
<p>3. Before testing, check the relevant configuration;</p>
<p>View Gateway Configuration</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         _gateway        0.0.0.0         UG    0      0        0 wwan0
10.52.86.48     0.0.0.0         255.255.255.248 U     0      0        0 wwan0
172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
</pre></div>
</div>
<p>Viewing DNS Configuration</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /etc/resolv.conf
nameserver 123.123.123.123 # IPV4 usb0
nameserver 123.123.123.124 # IPV4 usb0
nameserver 8.8.8.8
nameserver 114.114.114.114
nameserver 127.0.0.53
</pre></div>
</div>
<p>4. After setting up DNS and routing, we can ping the domain name.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping -I usb0 www.baidu.com -c 3					//Specify usb0 NIC to ping 3 times
PING www.a.shifen.com (110.242.68.4) from 10.52.86.52 wwan0: 56(84) bytes of data.
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=1 ttl=55 time=47.4 ms
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=2 ttl=55 time=54.2 ms
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=3 ttl=55 time=40.2 ms
--- www.a.shifen.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 40.239/47.300/54.259/5.724 ms
</pre></div>
</div>
</section>
<section id="play-record-test">
<h4>4.1.21 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>There is a standard 3.5mm audio socket, which is led out via a white XH2.0 - 2P socket P22. It can drive an 8Œ© speaker with a maximum output power of 1W. Before carrying out the sound - playback test, the prepared earphones should be inserted into the earpiece interface, or the speaker should be inserted into the corresponding slot on the carrier board for testing.</p>
<p>Play the sound</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# gst-play-1.0 /userdata/media/test.mp3
</pre></div>
</div>
<p>By default, the audio is played through the speaker; inserting headphones automatically mutes the speaker.</p>
<p>MIC inputÔºö</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# arecord -l 
**** List of CAPTURE Hardware Devices ****
card 0: rockchiprk809 [rockchip-rk809], device 0: dailink-multicodecs rk817-hifi-0 [dailink-multicodecs rk817-hifi-0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
root@ok3562:~# arecord -d 5 -f cd -t wav test1.wav    		//Collect sound for 5 seconds and save in WAV format
root@ok3562:~# aplay  test1.wav   							//Play the collected sound
</pre></div>
</div>
</section>
<section id="lcd-backlight-adjustment">
<h4>4.1.22 LCD Backlight Adjustment<a class="headerlink" href="#lcd-backlight-adjustment" title="Link to this heading">ÔÉÅ</a></h4>
<p>Backlight level range (0‚Äì255), maximum level 255, 0 indicating turn off. After connecting the mipi screen on the mipi dsi0, power up and start. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<p>1. View the current screen backlight value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/backlight/backlight/brightness
200                                           			//The current backlight is 200
</pre></div>
</div>
<p>2. Backlight is off:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 0 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
<p>3. LCD backlight is on:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 125 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
</section>
<section id="can-test">
<h4>4.1.23 CAN Test<a class="headerlink" href="#can-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The OK3562-C platform has two CAN bus interfaces. CAN connection method: Connect the H terminal of CAN to the H terminal of other CAN devices; connect the L terminal of CAN to the L terminal of other CAN devices.</p>
<p>Short CAN0 and CAN1, short pins CAN1_L and CAN0_L, and CAN1_H and CAN0_H on port P36, as shown in the diagram:</p>
<p><img alt="Image" src="_images/1720417687199_550c88e4_6a67_4cac_a4bb_574c91738d6d1.png" /></p>
<p>Execute the following command in the development board terminal:</p>
<p>1. View CAN network devices</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig -a
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:78

can1      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:79
</pre></div>
</div>
<p>2. CAN device baud rate</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ip link set can0 type can bitrate 500000
root@ok3562:/# ip link set can1 type can bitrate 500000
</pre></div>
</div>
<p>Set the baud rate of the can0 and can1 devices to 500000</p>
<p>3. Open the can device</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig can0 up
root@ok3562:/# ifconfig can1 up
</pre></div>
</div>
<p>4. Client sending data; Server receiving data</p>
<p>The can0 device acts as a server (the server first executes the following command).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# candump can0 &amp;
</pre></div>
</div>
<p>can1 device as a client (client sends data)</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# cansend can1 1F334455#1122334455667788
  can0  1F334455   [8]  11 22 33 44 55 66 77 88
</pre></div>
</div>
</section>
<section id="sleep-wake-test">
<h4>4.1.24 Sleep-wake Test<a class="headerlink" href="#sleep-wake-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><font style="color:#000000;">OK3562 platform supports sleep wake-up.</font></p>
<p><font style="color:#000000;">Short press the power button, the effect is as follows:</font></p>
<p><img alt="Image" src="_images/1720417687430_a21640b3_a104_4022_8c6c_581949640d76.png" /></p>
<p>Short press the power button again to wake up:</p>
<p><img alt="Image" src="_images/1720417687633_79d430f3_c733_4c1b_bcb1_88c730ff7c8a.png" /></p>
</section>
<section id="mcu-test">
<h4>4.1.25 MCU Test<a class="headerlink" href="#mcu-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 supports M0 core testing Please contact Baoding Forlinx for the relevant test data and preparation method.</p>
<p>Below is the output of debugging serial port when starting M0 core firmware using UBOOT.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>VOP VP0 enable Esmart0[1280x800-&gt;1280x800@0x0] fmt[1] addr[0x3e1ef000]
CLK: (sync kernel. arm: enter 600000 KHz, init 1008000 KHz, kernel 0N/A)
  apll 600000 KHz
  gpll 1188000 KHz
  vpll 710000 KHz
  hpll 983039 KHz
  cpll 1000000 KHz
  dpll 666000 KHz
  aclk_bus 198000 KHz
  hclk_bus 198000 KHz
  pclk_bus 99000 KHz
  aclk_peri 198000 KHz
  hclk_peri 148500 KHz
  pclk_peri 99000 KHz
## Loading loadables from FIT Image at 3c2c7040 ...
   Trying &#39;mcu&#39; loadables subimage
     Description:  mcu
     Type:         Standalone Program
     Compression:  uncompressed
     Data Start:   0x3c2c7e40
     Data Size:    61952 Bytes = 60.5 KiB
     Architecture: ARM
     Load Address: 0x07b00000
     Entry Point:  unavailable
     Hash algo:    sha256
     Hash value:   b44067ea73f44adc1e96b31854949b12f3bcca3903335a89d7ddfa1972f89f45
   Verifying Hash Integrity ... sha256+ OK
   Loading loadables from 0x3c2c7e40 to 0x07b00000
Welcome to forlinx OK3562 board mcu000 ...O This statement is the message that the M0 kernel prints out.
K
Net:   eth0: ethernet@ffa80000, eth1: ethernet@ffb30000
</pre></div>
</div>
</section>
<section id="sqlite3-test">
<h4>4.1.26  SQLite3 Test<a class="headerlink" href="#sqlite3-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>SQLite3 is a lightweight database that is ACID compliant relational database management system with low resource usage. OK3562-C development board is ported with version 3.21.0 of sqlit3.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# sqlite3
SQLite version 3.36.0 2021-06-18 18:36:39
Enter &quot;.help&quot; for usage hints.
Connected to a transient in-memory database.
Use &quot;.open FILENAME&quot; to reopen on a persistent database.
sqlite&gt; create table tbl1 (one varchar(10), two smallint);	// Create table tbl1
sqlite&gt; insert into tbl1 values(&#39;hello!&#39;,10);   // Insert data &#39;hello!|10&#39; into table tbl1
sqlite&gt; insert into tbl1 values(&#39;goodbye&#39;, 20);			// Insert data &#39;goodbye|20&#39; into table tbl1
sqlite&gt; select * from tbl1;																	// Query the contents of table tbl1
hello!|10
goodbye|20
sqlite&gt; delete from tbl1 where one = &#39;hello!&#39;;			// Delete data
sqlite&gt; select * from tbl1;																	// Query the contents of table tbl1
goodbye|20
sqlite&gt; .quit			                  // Exit the database (or use the .exit command)
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="id6">
<h4>4.1.27 SPI Test<a class="headerlink" href="#id6" title="Link to this heading">ÔÉÅ</a></h4>
<p>In the OK3562 platform‚Äôs carrier board schematic, there is an SPI test pinout located at carrier board position P8.</p>
<p><img alt="Image" src="_images/1720417687846_dfff0204_6506_4d62_9a85_c3de443e5b211.png" /></p>
<p>Short the SPI2_MOSI_MO and SPI2_MISO_M0 pins.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_spidev_test -D /dev/spidev2.0
 spi mode: 0
bits per word: 8
max speed: 500000 Hz (500 KHz)

FF FF FF FF FF FF
40 00 00 00 00 95
FF FF FF FF FF FF
FF FF FF FF FF FF
FF FF FF FF FF FF
DE AD BE EF BA AD
F0 0D
PASS 
</pre></div>
</div>
</section>
<section id="adding-boot-auto-start-script">
<h4>4.1.28  Adding Boot Auto-start Script<a class="headerlink" href="#adding-boot-auto-start-script" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p><strong>Temporarily add a self-start script</strong></p></li>
</ul>
<p>1. Modify /etc/autorun.sh;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# cat /etc/autorun.sh
#! /bin/sh
# env

# user command

exit 0
</pre></div>
</div>
<p>2. Reboot the board to verify.</p>
<ul class="simple">
<li><p><strong>Add the boot self-start script to the burn image:</strong></p></li>
</ul>
<p>Modify buildroot/board/forlinx/ok3562/fs-overlay/etc/autorun.sh.</p>
<p>Recompile the package and burn the image.</p>
</section>
<section id="id7">
<h4>4.1.29  Uboot Menu<a class="headerlink" href="#id7" title="Link to this heading">ÔÉÅ</a></h4>
<p>Press space during U-boot startup to enter the U-boot menu when you see the following message.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
</pre></div>
</div>
<p>The numbers in front of each item in the menu correspond to the respective operation commands.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>Enter 0 to access the U-Boot shell</p>
<p>Enter 1 to reboot the board</p>
<p>Enter 2 to modify the display mode. The Display type will cycle between ‚Äúmipi‚Äù, ‚Äúlvds‚Äù, and ‚Äúnone‚Äù.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mipi: Display on the MIPI interface, compatible with the Forlinx 7 - inch capacitive touch 1024*600 MIPI screen.
lvds: Display on the LVDS interface, compatible with the Forlinx 10.1 - inch capacitive touch 1280*800 LVDS screen.
none: Turn off the display.
</pre></div>
</div>
<p>Enter 3 to modify the amp operation status, and amp start will be displayed cyclically in the on ‚Äú‚Äù off ‚Äú.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>on: Turn on the amp.
off: Turn off the amp.
</pre></div>
</div>
<p>Enter 4 to modify the combphy multiplexing function. The combphy type will cycle through ‚Äúusb‚Äù, ‚Äúpcie‚Äù, and ‚Äúnone‚Äù options.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usb: Multiplex combphy for USB functionality.
pcie: Multiplex combphy for PCIe functionality.
none: Turn off the combphy functionality.
</pre></div>
</div>
<p>After modifying through the U-Boot menu, changes are automatically saved without the need for manual saving.</p>
</section>
<section id="npu-test">
<h4>4.1.30 NPU Test<a class="headerlink" href="#npu-test" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# rknn_common_test /usr/share/model/RK3562/mobilenet_v1.rknn /usr/share/model/dog_224x224.jpg
rknn_api/rknnrt version: 1.6.0 (9a7b5d24c@2023-12-13T17:31:11), driver version: 0.9.3
model input num: 1, output num: 1
input tensors:
  index=0, name=input, n_dims=4, dims=[1, 224, 224, 3], n_elems=150528, size=150528, fmt=NHWC, type=INT8, qnt_type=AFFINE, zp=0, scale=0.007812
output tensors:
  index=0, name=MobilenetV1/Predictions/Reshape_1, n_dims=2, dims=[1, 1001, 0, 0], n_elems=1001, size=1001, fmt=UNDEFINED, type=INT8, qnt_type=AFFINE, zp=-128, scale=0.003906
custom string: 
Begin perf ...
   0: Elapse Time = 7.60ms, FPS = 131.56
---- Top5 ----
0.929688 - 156
0.007812 - 155
0.003906 - 205
0.000000 - 0
0.000000 - 1 
</pre></div>
</div>
<p>NPU Use Reference: 01-Software Information\05-Original Information\docs\cn\Common\NPU.</p>
</section>
</section>
</section>
<section id="ok3562-platform-multimedia-test">
<h2>5. OK3562 Platform Multimedia Test<a class="headerlink" href="#ok3562-platform-multimedia-test" title="Link to this heading">ÔÉÅ</a></h2>
<p>Some application layer software for audio and video on the OK3562 platform uses Gstreamer, which supports hardware codecs. All examples in this section based on the GStreamer command line form. If users need a player with an interface, they can also use qt‚Äôs multimedia classes, which also support codecs, see the Qt Tests chapter.</p>
<p>The OK3562 platform has an internal video processing unit, the VPU, which supports hardware codecs for video in the following formats:</p>
<p>Video Decoding: H264, H265, VP9; maximum support 4Kx2K&#64;30fps.</p>
<p>Video Encoding: H264, maximum support 1080p&#64;60fps</p>
<p>Table of hardware codec parameters for the OK3562 platform:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Video Decoder</p></th>
<th class="head text-center"><p>Format</p></th>
<th class="head text-center"><p>Profile</p></th>
<th class="head text-center"><p>Resolution</p></th>
<th class="head text-center"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p></p></td>
<td class="text-center"><p>H.265</p></td>
<td class="text-center"><p>Main Profile yuv420&#64;L5.0</p></td>
<td class="text-center"><p>4096√ó2304</p></td>
<td class="text-center"><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p></p></td>
<td class="text-center"><p>H.264</p></td>
<td class="text-center"><p>Main Profile yuv400/yuv420/yuv422/&#64;L5.0</p></td>
<td class="text-center"><p>1920x1080</p></td>
<td class="text-center"><p>60 fps</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p></p></td>
<td class="text-center"><p>VP9</p></td>
<td class="text-center"><p>Profile0 yuv420&#64;L5.0</p></td>
<td class="text-center"><p>4096x2304</p></td>
<td class="text-center"><p>30fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Video Encoder</p></td>
<td class="text-center"><p>H.264</p></td>
<td class="text-center"><p>High Profile level4.2</p></td>
<td class="text-center"><p>1920x1080</p></td>
<td class="text-center"><p>60 fps</p></td>
</tr>
</tbody>
</table>
<section id="audio-and-video-playback">
<h3>5.1 Audio and Video Playback<a class="headerlink" href="#audio-and-video-playback" title="Link to this heading">ÔÉÅ</a></h3>
<section id="playing-audio-and-video-with-gst-play">
<h4>5.1.1 Playing Audio and Video With Gst-play<a class="headerlink" href="#playing-audio-and-video-with-gst-play" title="Link to this heading">ÔÉÅ</a></h4>
<p>Gplay is an audio/video player based on GStreamer that can automatically select the right plugin for audio/video play according to the hardware, and it is easy to run.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-play-1.0 /userdata/media/1080p_60fps_h264-30S.mp4
//Play the video file with sound, and test the sound by the earphone
Press &#39;k&#39; to see a list of keyboard shortcuts.
Now playing /userdata/media/1080p_60fps_h265-30S.mp4
Redistribute latency...
Redistribute latency...
Redistribute latency...
0:00:30.0 / 0:00:30.0
Reached end of play list.
</pre></div>
</div>
</section>
<section id="playing-video-with-gst-launch">
<h4>5.1.2 Playing Video With Gst-launch<a class="headerlink" href="#playing-video-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux ! queue ! h265parse ! mppvideodec ! waylandsink
//Only play the video
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
0:00:01.0 / 0:00:30.0 (3.6 %)
</pre></div>
</div>
</section>
<section id="playing-audio-with-gst-launch">
<h4>5.1.3 Playing Audio With Gst-launch<a class="headerlink" href="#playing-audio-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/test.mp3 ! id3demux ! mpegaudioparse ! mpg123audiodec ! alsasink device=plughw:0,0
//Play the audio only, and the test is played by the headphones.
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.665159268
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="playing-video-and-audio-with-gst-launch">
<h4>5.1.4 Playing Video and Audio With Gst-launch<a class="headerlink" href="#playing-video-and-audio-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux name=dec dec. ! queue ! h265parse ! mppvideodec ! waylandsink dec. ! queue ! decodebin ! alsasink device=plughw:0,0
//Play the video file with sound, and test the sound by the earphone
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
^Chandling interrupt. (2.6 %)
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-encoding">
<h3>5.2 Video Hardware Encoding<a class="headerlink" href="#video-hardware-encoding" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports up to H264 1920x1080 &#64; 60fps</p>
<section id="video-hardware-encoding-h-264">
<h4>5.2.1 Video Hardware Encoding H.264<a class="headerlink" href="#video-hardware-encoding-h-264" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 videotestsrc num-buffers=600 ! video/x-raw,framerate=60/1,width=1920,height=1080 ! mpph264enc ! h264parse ! mp4mux ! filesink location=test.mp4
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
0:00:18.2 / 0:00:20.0 (91.0 %)
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-decoding">
<h3>5.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports H.264 and H.265 video hardware decoding. The H.264 decoder handles up to 1920x1080&#64;60fps, and the H.265 decoder supports 4K&#64;30fps.</p>
<p>OK3562 uses the mppvideodec component for hardware video decoding, and its output formats are NV12, I420, and YV12.</p>
<section id="decoding-and-playing-h264-format-video">
<h4>5.3.1 Decoding and Playing H264 Format Video<a class="headerlink" href="#decoding-and-playing-h264-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264-30S.mp4 ! qtdemux ! h264parse ! mppvideodec ! waylandsink 
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h264-format-video-with-audio">
<h4>5.3.2 Decoding and Playing H264 Format Video With Audio<a class="headerlink" href="#decoding-and-playing-h264-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264-30S.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h264parse ! mppvideodec ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h265-format-video">
<h4>5.3.3 Decoding and Playing H265 Format Video<a class="headerlink" href="#decoding-and-playing-h265-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux ! h265parse ! mppvideodec ! waylandsink
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h265-format-video-with-audio">
<h4>5.3.4 Decoding and Playing H265 Format Video With Audio<a class="headerlink" href="#decoding-and-playing-h265-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h265parse ! mppvideodec ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video">
<h4>5.3.5 Decoding and Playing VP9 Format Video<a class="headerlink" href="#decoding-and-playing-vp9-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_vp9-30S.mp4 ! qtdemux name=dec dec. ! queue ! vp9parse ! mppvideodec ! waylandsink
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video-with-audio">
<h4>5.3.6 Decoding and Playing VP9 Format Video With Audio<a class="headerlink" href="#decoding-and-playing-vp9-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_vp9-30S.mp4 ! qtdemux name=dec dec. ! queue ! vp9parse ! mppvideodec ! waylandsink dec. ! queue ! decodebin ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
</section>
<section id="id8">
<h3>5.4 Camera Test<a class="headerlink" href="#id8" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 supports the OV13855 MIPI camera as well as the UVC camera. First to test the UVC camera, here to Logitech C270 process test, the USB camera will be inserted into the development board, will automatically install uvc driver.</p>
<section id="uvc-camera-test">
<h4>5.4.1 UVC Camera Test<a class="headerlink" href="#uvc-camera-test" title="Link to this heading">ÔÉÅ</a></h4>
<section id="camera-recognition-detection-and-format-support-queries">
<h5><strong>5.4.1.1 Camera Recognition Detection and Format Support Queries</strong><a class="headerlink" href="#camera-recognition-detection-and-format-support-queries" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Recognition Detection</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices	//View the device node, and see that/dev/video40 &amp; 41 is the USB camera node.
rk rkisp-statistics (platform: rkisp):
        /dev/video38
        /dev/video39

rkcif-mipi-lvds (platform:rkcif):
        /dev/media0
        /dev/media1
        /dev/media2
        ‚Ä¶‚Ä¶..

WIN2 USB2.0 PC Camera: WIN2 USB (usb-fed00000.usb-1.3):
        /dev/video40
        /dev/video41
        /dev/media4
The format supports queries
root@ok3562:/# v4l2-ctl --list-formats-ext -d /dev/video40 	//View formats supported by the camera
ioctl: VIDIOC_ENUM_FMT
        Type: Video Capture

        [0]: &#39;YUYV&#39; (YUYV 4:2:2)
                Size: Discrete 640x480
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 352x288
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 320x240
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 176x144
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 160x120
                        Interval: Discrete 0.033s (30.000 fps)
</pre></div>
</div>
</section>
<section id="camera-capture-format-queries-and-modifications">
<h5><strong>5.4.1.2 Camera Capture Format Queries and Modifications</strong><a class="headerlink" href="#camera-capture-format-queries-and-modifications" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Capture Format Queries</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl -V -d /dev/video40
Format Video Capture:
        Width/Height      : 640/480
        Pixel Format      : &#39;YUYV&#39; (YUYV 4:2:2)
        Field             : None
        Bytes per Line    : 1280
        Size Image        : 614400
        Colorspace        : sRGB
        Transfer Function : Rec. 709
        YCbCr/HSV Encoding: ITU-R 601
        Quantization      : Default (maps to Limited Range)
        Flags             :
</pre></div>
</div>
</section>
<section id="camera-image-preview-and-taking-pictures">
<h5><strong>5.4.1.3 Camera Image Preview and Taking Pictures</strong><a class="headerlink" href="#camera-image-preview-and-taking-pictures" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Image Preview</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video40 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480 ! waylandsink
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:19.3 / 99:99:99.
</pre></div>
</div>
<p>Camera to take pictures</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video40 num-buffers=1 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:01.224944503
Setting pipeline to NULL ...
Freeing pipeline ...
//After the execution, check the pic. jpg file generated under the root directory
</pre></div>
</div>
</section>
</section>
</section>
<section id="ov13855-test">
<h3>5.4.2 OV13855 Test<a class="headerlink" href="#ov13855-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>For raw sensors such as OV13855, each sensor corresponds to 5 device nodes:</p>
<p><img alt="Image" src="_images/1720421272482_6c8a7410_95c6_48b7_a81e_fb49d3e3668d.png" /></p>
<p>Mainpath, refers to an output node of Rockchip ISP, which can output full-resolution images, generally used to take photos and capture Raw images.</p>
<p>Self Path refers to an output node of Rockchip ISP, which can only output up to 1080p resolution and is generally used as a preview.</p>
<p>Statistics 3A</p>
<p>Input-params 3A parameter setting</p>
<p>The test methods for the OV13855 are essentially the same as those for the UVC Camera. This section takes OV13855 as an example for testing</p>
<section id="id9">
<h4><strong>5.4.2.1 Camera Recognition Detection and Format Support Queries</strong><a class="headerlink" href="#id9" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices			//View the device node
rkcif (platform:rkcif-mipi-lvds):
        /dev/video0
        /dev/video1
        /dev/video2
        /dev/video3
        /dev/video4
        /dev/video5
        /dev/video6
        /dev/video7
        /dev/video8
        /dev/video9
        /dev/video10

rkisp_mainpath (platform:rkisp-vir0):
/dev/video33
        /dev/video34
        /dev/video35
        /dev/video36
        /dev/video37
        /dev/media3

WIN2 USB2.0 PC Camera: WIN2 USB (usb-fed00000.usb-1.3):
        /dev/video40
        /dev/video41
        /dev/media4 
</pre></div>
</div>
</section>
<section id="camera-previews">
<h4><strong>5.4.2.2 Camera Previews</strong><a class="headerlink" href="#camera-previews" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 ! video/x-raw, format=NV12, width=640, height=480, framerate=30/1 ! waylandsink
Setting pipeline to PAUSED ...
Using mplane plugin for capture

Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:16.3 / 99:99:99.
</pre></div>
</div>
</section>
<section id="camera-to-take-pictures">
<h4><strong>5.4.2.3 Camera to Take Pictures</strong><a class="headerlink" href="#camera-to-take-pictures" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 num-buffers=1 ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  138.542571] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.175951625
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@ok3562:/# ls -l pic.jpg
-rw-r--r-- 1 root root 15273 Apr 29 15:14 pic.jpg
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="recording-h264-format-video">
<h4><strong>5.4.2.4 Recording H264 Format Video</strong><a class="headerlink" href="#recording-h264-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 num-buffers=100 ! video/x-raw,format=NV12, width=640,height=480 ! tee name=t ! queue ! mpph264enc ! queue ! h264parse ! qtmux ! filesink location=13855_h264.mp4 t. ! queue ! waylandsink
//Encode H264 during camera preview
Setting pipeline to PAUSED ...
Using mplane plugin for capture
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSyst[emClock
  424.198360] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.200657] rkisp_hw fdcb0000.rkisp: set isp clk = 396000000Hz
[  424.204220] rkcif-mipi-lvds: stream[0] start streaming
[  424.204242] rkcifhw fdce0000.rkcif: Only support one master device, master device count 0
[  424.204260] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.204962] rkcif-mipi-lvds: Allocate dummy buffer, size: 0x00436000
[  424.205013] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream on, src_sd: 00000000d34b3a12, sd_name:rockchip-csi2-dphy0
[  424.205021] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream ON
i  424.205043] rockchip-csi2-dphy csRedistribute latency...
 2-dcphy0: csi2_dphy_update_sensor_mbusRedistribute latency...
 fail to get dphy param, used default value
[  424.205051] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.205066] rockchip-csi2-dphy0: dphy0, data_rate_mbps 600
05073] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.205344] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:1, dphy0
[  424.205352] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:1, dphy0
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.382733006
Setting pipeline to NULL ...
[  427.611291] rkcif-mipi-lvds: stream[0] start stopping, total mode 0x1, cur 0x1
Freeing pipeline ...
[  427.614953] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream off, src_sd: 00000000d34b3a12, sd_name:rockchip-csi2-dphy0
[  427.615000] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream OFF
[  427.615827] rockchip-csi2-dproot@ok3562:/# hy csi2-dcphy0: csi2_dphy_s_stream_stop stream stop, dphy0
[  427.615868] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:0, dphy0
[  427.615934] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:0, dphy0
[  427.635242] rkcif-mipi-lvds: stream[0] stopping finished
[  427.674994] rkisp rkisp0-vir1: first params buf queue
root@ok3562:/# ls -l 13855_h264.mp4          //Check to see if an H264 file is generated
-rw-r--r-- 1 root root 417871 Apr 29 15:15 13855_h264.mp4
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="playing-h264-format-video">
<h4><strong>5.4.2.5 Playing H264 Format Video</strong><a class="headerlink" href="#playing-h264-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=13855_h264.mp4 ! qtdemux ! queue ! h264parse ! mppvideodec ! waylandsink
//Play H264 video
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.303679248
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="ov5645-test">
<h4>5.4.3 OV5645 Test<a class="headerlink" href="#ov5645-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The test methods for the OV5645 are essentially the same as those for the UVC Camera. This section takes OV5645 as an example for testing</p>
<section id="id10">
<h5><strong>5.4.3.1 Camera Recognition Detection and Format Support Queries</strong><a class="headerlink" href="#id10" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices			//View the device node
rkisp-statistics (platform: rkisp):
        /dev/video38
        /dev/video39

rkcif-mipi-lvds (platform:rkcif):
        /dev/media0
        /dev/media1
        /dev/media2

rkcif (platform:rkcif-mipi-lvds3): //Depending on the location of the access, it maybe rkcif-mipi-lvds2	
        /dev/video22
        /dev/video23
        /dev/video24
        /dev/video25
        /dev/video26
        /dev/video27
        /dev/video28
        /dev/video29
        /dev/video30
        /dev/video31
        /dev/video32

rkisp_mainpath (platform:rkisp-vir0):
        /dev/video33
        /dev/video34
        /dev/video35
        /dev/video36
        /dev/video37
        /dev/media3

</pre></div>
</div>
</section>
<section id="id11">
<h5><strong>5.4.3.2 Camera Previews</strong><a class="headerlink" href="#id11" title="Link to this heading">ÔÉÅ</a></h5>
<p>rkcif-mipi-lvds2  corresponding /dev/video11<br />
rkcif-mipi-lvds3 corresponding /dev/video22</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video22 ! video/x-raw, format=NV12, width=640, height=480, framerate=30/1 ! waylandsink
Setting pipeline to PAUSED ...
Using mplane plugin for capture

Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:16.3 / 99:99:99.
</pre></div>
</div>
</section>
<section id="id12">
<h5><strong>5.4.3.3 Camera to Take Pictures</strong><a class="headerlink" href="#id12" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video22 num-buffers=1 ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  138.542571] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.175951625
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@ok3562:/# ls -l pic.jpg
-rw-r--r-- 1 root root 15273 Apr 29 15:14 pic.jpg
root@ok3562:/#
</pre></div>
</div>
</section>
</section>
</section>
<section id="gst-point-test">
<h3>5.5 Gst Point Test<a class="headerlink" href="#gst-point-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>The current gstreamer supports the fixed-point function for playing videos. Please enter the following command to test.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#  gst-launch-1.0 uridecodebin uri=file:///oem/SampleVideo_1280x720_5mb.mp4 ! fpsdisplaysink name=fps0 video-sink=&quot;waylandsink render-rectangle=\&quot;&lt;120,180,480,300&gt;\&quot;&quot; text-overlay=false &amp; gst-launch-1.0 uridecodebin uri=file:///userdata/media/1080p_60fps_h264-30S.mp4 ! fpsdisplaysink name=fps1 video-sink=&quot;waylandsink render-rectangle=\&quot;&lt;600,180,480,300&gt;\&quot;&quot; text-overlay=false
</pre></div>
</div>
<p>Screen display result</p>
<p><img alt="Image" src="_images/1720421272829_c87e727b_555c_4c7f_8bd4_ab16f9a33c94.jpeg" /></p>
<p><strong>Note: Multi-channel decoding playback of H264 1080P60 and H265 4KP30 videos stutters, which is caused by insufficient decoding capability.</strong></p>
</section>
<section id="gpu-test">
<h3>5.6 GPU Test<a class="headerlink" href="#gpu-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports GPU testing.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# glmark2-es2-wayland --fullscreen --visual-config=&#39;a=0:buf=24&#39; --annotate    //Full screen test
arm_release_ver: g13p0-01eac0, rk_so_ver: 10
=======================================================
    glmark2 2023.01
=======================================================
    OpenGL Information
    GL_VENDOR:      ARM
    GL_RENDERER:    Mali-G52
    GL_VERSION:     OpenGL ES 3.2 v1.g13p0-01eac0.98c5dad4e3309b873e3189000b74ea36
    Surface Config: buf=24 r=8 g=8 b=8 a=0 depth=24 stencil=0 samples=0
    Surface Size:   1024x600 fullscreen
=======================================================
[build] use-vbo=false: FPS: 723 FrameTime: 1.385 ms
[build] use-vbo=true: FPS: 766 FrameTime: 1.306 ms
[texture] texture-filter=nearest: FPS: 1005 FrameTime: 0.996 ms
[texture] texture-filter=linear: FPS: 999 FrameTime: 1.001 ms
[texture] texture-filter=mipmap: FPS: 1014 FrameTime: 0.987 ms
[shading] shading=gouraud: FPS: 560 FrameTime: 1.788 ms
[shading] shading=blinn-phong-inf: FPS: 710 FrameTime: 1.409 ms
[shading] shading=phong: FPS: 563 FrameTime: 1.777 ms
[shading] shading=cel: FPS: 543 FrameTime: 1.842 ms
[bump] bump-render=high-poly: FPS: 309 FrameTime: 3.240 ms
[bump] bump-render=normals: FPS: 995 FrameTime: 1.005 ms
[bump] bump-render=height: FPS: 921 FrameTime: 1.087 ms
[effect2d] kernel=0,1,0;1,-4,1;0,1,0;: FPS: 390 FrameTime: 2.567 ms
[effect2d] kernel=1,1,1,1,1;1,1,1,1,1;1,1,1,1,1;: FPS: 151 FrameTime: 6.663 ms
[pulsar] light=false:quads=5:texture=false: FPS: 968 FrameTime: 1.034 ms
[desktop] blur-radius=5:effect=blur:passes=1:separable=true:windows=4: FPS: 214 FrameTime: 4.690 ms
[desktop] effect=shadow:windows=4: FPS: 674 FrameTime: 1.486 ms
[buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 140 FrameTime: 7.171 ms
[buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=subdata: FPS: 139 FrameTime: 7.239 ms
[buffer] columns=200:interleave=true:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 223 FrameTime: 4.486 ms
[ideas] speed=duration: FPS: 350 FrameTime: 2.857 ms
[jellyfish] &lt;default&gt;: FPS: 410 FrameTime: 2.442 ms
[terrain] &lt;default&gt;: FPS: 32 FrameTime: 32.203 ms
[shadow] &lt;default&gt;: FPS: 304 FrameTime: 3.298 ms
[refract] &lt;default&gt;: FPS: 82 FrameTime: 12.213 ms
[conditionals] fragment-steps=0:vertex-steps=0: FPS: 965 FrameTime: 1.037 ms
[conditionals] fragment-steps=5:vertex-steps=0: FPS: 693 FrameTime: 1.445 ms
[conditionals] fragment-steps=0:vertex-steps=5: FPS: 931 FrameTime: 1.075 ms
[function] fragment-complexity=low:fragment-steps=5: FPS: 783 FrameTime: 1.279 ms
[function] fragment-complexity=medium:fragment-steps=5: FPS: 598 FrameTime: 1.673 ms
[loop] fragment-loop=false:fragment-steps=5:vertex-steps=5: FPS: 783 FrameTime: 1.279 ms
[loop] fragment-steps=5:fragment-uniform=false:vertex-steps=5: FPS: 785 FrameTime: 1.274 ms
[loop] fragment-steps=5:fragment-uniform=true:vertex-steps=5: FPS: 687 FrameTime: 1.457 ms
=======================================================
                                  glmark2 Score: 587
=======================================================
root@ok3562:/#  glmark2-es2-wayland --visual-config=&#39;a=0:buf=24&#39; --annotate    //Ê≠£Â∏∏ÊòæÁ§∫ÊµãËØï
arm_release_ver: g13p0-01eac0, rk_so_ver: 10
=======================================================
    glmark2 2023.01
=======================================================
    OpenGL Information
    GL_VENDOR:      ARM
    GL_RENDERER:    Mali-G52
    GL_VERSION:     OpenGL ES 3.2 v1.g13p0-01eac0.98c5dad4e3309b873e3189000b74ea36
    Surface Config: buf=24 r=8 g=8 b=8 a=0 depth=24 stencil=0 samples=0
    Surface Size:   1280x800 fullscreen
=======================================================
[build] use-vbo=false: FPS: 561 FrameTime: 1.783 ms
[build] use-vbo=true:
</pre></div>
</div>
</section>
</section>
<section id="system-flashing">
<h2>6. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading">ÔÉÅ</a></h2>
<p>The OK3562-C development board currently supports both OTG and TF card programming. The corresponding burning tool is provided in the user information, and the user can choose anyone to burn the image.</p>
<section id="otg-flashing-system">
<h3>6.1 OTG Flashing System<a class="headerlink" href="#otg-flashing-system" title="Link to this heading">ÔÉÅ</a></h3>
<section id="otg-driver-installation">
<h4>6.1.1 OTG Driver Installation<a class="headerlink" href="#otg-driver-installation" title="Link to this heading">ÔÉÅ</a></h4>
<p>Path: 02-User Information \ 01-Software Information \ 04-Tools \ DriverAssitant _ v5.1.1.zip</p>
<p>Extract the above path file to any directory and run it with administrator privileges</p>
<p>Open DriverInstall.exe</p>
<p><img alt="Image" src="_images/1720418372654_458dfae6_fe39_4e90_a884_b5c76a0d46591.png" /></p>
<p>Click ‚ÄúDriver Installation‚Äù</p>
<p><img alt="Image" src="_images/1720418372998_55b52477_7160_490a_9674_11b926fabb181.png" /></p>
</section>
<section id="otg-full-flashing-test">
<h4>6.1.2 OTG Full Flashing Test<a class="headerlink" href="#otg-full-flashing-test" title="Link to this heading">ÔÉÅ</a></h4>
<section id="rkdevtool-flashing-test">
<h5><strong>6.1.2.1 RKDevTool Flashing Test</strong><a class="headerlink" href="#rkdevtool-flashing-test" title="Link to this heading">ÔÉÅ</a></h5>
<p>Path: 02-User Information \ 01-Software Information \ 04-Tools\ RKDevTool _ v3.19 _ for _ window. Zip</p>
<p>It is a development tool provided by Rockchip Micro. Unzip it to a full English path before use, connect the TYPE-C0 port of the development board and the host computer with a Type-C cable, press and hold the recovery key of the development board and don‚Äôt release it, then press the reset key to reset the system, and release the recovery key after about two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The device detection operation requires the recovery button to be held down when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn‚Äôt match the following figure, please consider unzipping it in an English directory;</strong></p></li>
<li><p><strong>The OTG port is on the back of the development board.</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1750401730638_6b297042_f5f5_4712_af81_990a5731fe0f.jpeg" /></p>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1720418373238_ded5a5da_5ef9_4382_9150_a8fccf92f3091.png" /></p>
<p>Click the ‚ÄúUpgrade Firmware‚Äù tab, click the ‚ÄúFirmware‚Äù button to select the full upgrade image update.img. The program will be parsing the firmware, so wait a while.</p>
<p><img alt="Image" src="_images/1720418373446_68f5d3be_afdc_4bdd_ac64_912497c768471.png" /></p>
<p>Click ‚ÄúSwitch‚Äù to wait for the board to enter the LOADER mode, and click the ‚ÄúUpgrade‚Äù button to upgrade.</p>
<p><img alt="Image" src="_images/1720418373687_e2ee7480_1523_4f1d_bba1_4836940ca5d51.png" /></p>
<p><strong>Introduction to MASKROM mode</strong></p>
<p>If Loader mode is inaccessible (loader problem, etc.), press and hold the BOOT key, then press the reset key to enter maskrom mode for burning.</p>
<p><img alt="Image" src="_images/1720418373917_956f9b2d_54fd_48c6_b4e6_069c8e8488af1.png" /></p>
<p>At this time, the system will prompt the discovery of a maskrom device. The flashing process is consistent with the loader mode, so it is best to use an update.img burning.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Don‚Äôt click ‚ÄúDevice Partition Table‚Äù in maskrom mode, it is invalid;</strong></p></li>
<li><p><strong>A separate flash in maskrom mode will not clear the UBOOT environment variables.</strong></p></li>
</ul>
</section>
<section id="factory-tool-flashing-test">
<h5><strong>6.1.2.2 Factory Tool Flashing Test</strong><a class="headerlink" href="#factory-tool-flashing-test" title="Link to this heading">ÔÉÅ</a></h5>
<p>Factory Tool is a factory batch OTG flashing tool, which does not need to read the image and supports large file flashing. Use this tool if RKDevTool is not compatible. Before use, you need to decompress to the full English path, connect the development board to the host, press the recovery key, press the reset key to reset, and release the recovery key after two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The device detection operation requires the recovery button to be held down when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn‚Äôt match the following figure, please consider unzipping it in an English directory.</strong></p></li>
</ul>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1720418374138_b6613de5_c4e7_4c57_ab8b_6d41d165e5c31.png" /></p>
<p>Click to select the firmware, and click to start. At this time to recognize the loader device will automatically start burning.</p>
<p><img alt="Image" src="_images/1720418374490_7567e660_737f_4218_8cfa_3b7c9be57d3e1.png" /></p>
<p><img alt="Image" src="_images/1720418374807_bd102591_2c43_41da_83b9_2f7307977ca31.png" /></p>
</section>
</section>
<section id="otg-step-flashing-test">
<h4>6.1.3 OTG Step Flashing Test<a class="headerlink" href="#otg-step-flashing-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>In the development phase, it is very time-consuming to burn all of them every time, so here is the method of using OTG burning tool to burn in separate partitions.</p>
<p><strong>Note: The condition for recognition is that the development board is powered up and the recover key is in the pressed state.</strong></p>
<p>First, after OK3562-linux-release is compiled, a separate partition image can be found in the rockdev directory.</p>
<p>Take separate programming boot.img (including device tree and startup logo) as an example to demonstrate the programming method.</p>
<p>Use the Type-C cable to connect the development board to the host. Press and hold the recover key and do not release it. Then press the reset key to reset the system. Release the recover key after about two seconds. The system will prompt to discover the loader device.</p>
<p><img alt="Image" src="_images/1720418375129_89e69424_6ab1_40ec_a113_86f2437728d91.png" /></p>
<p>Click the ‚ÄúDevice Partition Table‚Äù button, which will automatically read the partition address, and prompt you to update the download address, click ‚ÄúYes‚Äù, will be reported to read the partition table successfully, click on the partition of the right test area to select the partition image, and check the partition.</p>
<p><img alt="Image" src="_images/1720418375357_f7716cdb_bc83_43f5_83d6_717dff0f74951.png" /></p>
<p>Click the ‚ÄúExecute‚Äù button will automatically burn and restart.</p>
</section>
</section>
<section id="tf-card-flashing">
<h3>6.2 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading">ÔÉÅ</a></h3>
<p>TF card flashing and testing.</p>
<p><strong>Note: The maximum capacity of the test TF card is 32G, using a TF card above 32G may fail to burn.</strong></p>
<p>Copy SDDiskTool_v1.76.zip from the user profile tools directory to any directory on windows. Run SD_Firmware_Tool.exe with administrator privileges.</p>
<p><img alt="Image" src="_images/1720418375573_2107d191_e37e_4a2c_96d2_442aa8f4b1461.png" /></p>
<p>Select the disk device, check ‚ÄúFirmware Upgrade‚Äù and select update.img. Click Start Creating.</p>
<p><img alt="Image" src="_images/1720418375797_0c018d08_61c7_48e9_9500_72810e54ce871.png" /></p>
<p><img alt="Image" src="_images/1720418375991_5a26cc1b_497f_4931_a823_0e988fadcaf9.png" /></p>
<p>Insert the TF card into the development board and start, the system will automatically enter the flashing process. When the flashing is complete, both the screen and the serial port will prompt:</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>At this time, pull out the TF card, the system automatically restarts (please do not power down directly).</p>
<p>During mass production, check the flashing status by SoM heartbeat light.  Heartbeat light modes are as follows:</p>
<ol class="arabic simple">
<li><p>Kernel startup phase: Heartbeat light mode, regular intermittent flashes.</p></li>
<li><p>Flashing preparation phase: EMMC indicator light, off.</p></li>
<li><p>Flashing in progress phase: EMMC indicator light, on.</p></li>
<li><p>Flashing completion phase: Heartbeat light mode, regular intermittent flashes.</p></li>
</ol>
<p>Serial port information during the burning process:</p>
<p><img alt="Image" src="_images/1720418376211_f91fcd64_b82e_4d38_bd9d_aa4f8d390be01.png" /></p>
<p>If the automatic restart does not occur after removing the TF card, a manual restart can also complete the burning. Please be patient during the burning process.</p>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- Â∑¶‰æßÁâàÊùÉ‰ø°ÊÅØ -->
    <span style="font-size: 14px; color: #444;">
      ¬© <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- Âè≥‰æßÁ§æ‰∫§ÂõæÊ†á -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>