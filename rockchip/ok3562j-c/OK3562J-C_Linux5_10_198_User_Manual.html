

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>00_inux5.10.198+Qt5.15.10_ 用户使用手册 &mdash; Forlinx Embedded RK3562 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok3562j-c/OK3562J-C_Linux5_10_198_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="User’s Hardware Manual_V1.2" href="OK3562J-C_User_Hardware_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_User_Hardware_Manual.html">User’s Hardware Manual_V1.2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">00_inux5.10.198+Qt5.15.10_ 用户使用手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id1">免责声明</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id2">适用范围</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id3">更新记录</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id4">概 述</a></li>
<li class="toctree-l1"><a class="reference internal" href="#ok3562">01_OK3562开发板介绍</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id5"><strong><font style="color:rgb(38, 38, 38);">1.1 OK3562开发板简介</font></strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux-5-10-198"><font style="color:rgb(38, 38, 38);"></font><strong><font style="color:rgb(38, 38, 38);">1.2 Linux 5.10.198系统软件资源介绍</font></strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#emmc"><strong><font style="color:rgb(38, 38, 38);">1.3 eMMC存储器分区表</font></strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id6">02_快速开机启动</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id7">2.1 开机前的准备</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">2.2 相关驱动安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">2.3 串口登录方式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">2.3.1  串口连接设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">2.3.2  串口登录常见问题</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id12">2.4 网络登录方式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">2.4.1  网络连接测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh">2.4.2  SSH服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftpsftp">2.4.3  FTP和SFTP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id14">2.5 屏幕切换</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uboot">2.5.1  uboot菜单动态控制</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">2.5.2  内核设备树指定</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qt-ubootmenu">2.5.3  QT UbootMenu应用程序控制</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id16">2.6 系统关闭</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id17">03_OK3562平台界面功能使用及测试</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id18">3.1 桌面功能测试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">3.1.1  界面功能简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">3.1.2  硬件解码体验</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opengl">3.1.3  OpenGL测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">3.1.4  播放音乐测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g">3.1.5  4G测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wifi">3.1.6  WIFI测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">3.1.7  网络配置测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ping">3.1.8  Ping测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">3.1.9  浏览器测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">3.1.10  看门狗测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">3.1.11  按键测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rtc">3.1.12  RTC测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#camera">3.1.13  Camera测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart">3.1.14  UART测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">3.1.15  数据库测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">3.1.16  背光测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ubootmenu">3.1.17  UbootMenu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#web">3.1.18  Web服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc">3.1.19  ADC测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tftp">3.1.20  Tftp升级系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cpu">3.1.21  CPU频率配置测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">3.1.22  录音测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spi">3.1.23  SPI测试</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id29">04_OK3562命令行功能测试</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id30">4.2 命令行功能测试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id31">4.2.1  系统信息查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">4.2.2  调频测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id33">4.2.3  温度测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ddr">4.2.4  DDR测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id34">4.2.5  看门狗测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id35">4.2.6  RTC功能测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">4.2.7  按键测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id37">4.2.8  UART测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id38">4.2.9  ADC测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tf">4.2.10  TF卡测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id39">4.2.11  eMMC 测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb">4.2.12  USB鼠标测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb2-0">4.2.13  USB2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id40">4.2.14  USB转四串口测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb3-0-usb-otg">4.2.15  USB3.0 / USB otg 测试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usb3-0-host">4.2.15.1  USB3.0 Host模式：</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-otg">4.2.15.2  USB otg模式：</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pcie">4.2.16  PCIE测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id41">4.2.17  以太网配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id42">4.2.18  WIFI 测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id43">4.2.19  蓝牙测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id44">4.2.20  4G</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id45">4.2.21  放/录音测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lcd">4.2.22  LCD 背光调节</a></li>
<li class="toctree-l3"><a class="reference internal" href="#can">4.2.23  CAN测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id46">4.2.24  睡眠唤醒测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mcu">4.2.25  MCU测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sqlite3">4.2.26  SQLite3测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id47">4.2.27  SPI测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id48">4.2.28  添加开机自启动脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id49">4.2.29  Uboot菜单</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu">4.2.30  NPU测试</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id50">05_OK3562平台多媒体测试</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id51">5.1 音频和视频播放体验</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gst-play">5.1.1  使用gst-play播放器播放视频和音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gst-launch">5.1.2  使用gst-launch 播放视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id52">5.1.3  使用gst-launch 播放音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id53">5.1.4  使用gst-launch 播放视频和音频</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id54">5.2 视频硬编码</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#h-264">5.2.1  视频硬编码H.264</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id55">5.3 视频硬解码</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#h264">5.3.1  解码并播放H264格式视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id56">5.3.2  解码并播放H264格式视频带音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#h265">5.3.3  解码并播放H265格式视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id57">5.3.4  解码并播放H265格式视频带音频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vp9">5.3.5  解码并播放VP9格式视频</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id58">5.3.6  解码并播放VP9格式视频带音频</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id59">5.4 摄像头测试</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uvc-camera">5.4.1  UVC Camera测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ov13855">5.4.2  OV13855 测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ov5645">5.4.3  OV5645 测试</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gst">5.5 Gst定点测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gpu">5.6 GPU测试</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id60">06_烧写系统</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#otg">6.1 OTG烧写系统</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id61">6.1.1  OTG驱动安装</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id62">6.1.2  OTG完全烧写测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id63">6.1.3  OTG分步烧写测试</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id64">6.2  TF卡烧写系统</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/index.html">RK Development Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RK3562 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">00_inux5.10.198+Qt5.15.10_ 用户使用手册</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="inux5-10-198-qt5-15-10">
<h1>00_inux5.10.198+Qt5.15.10_ 用户使用手册<a class="headerlink" href="#inux5-10-198-qt5-15-10" title="Link to this heading"></a></h1>
<p>版本：V1.1</p>
<p>发布日期：2025.06.21</p>
<p>文件密级：□绝密 □秘密 □内部资料 ■公开</p>
</section>
<section id="id1">
<h1>免责声明<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<p>本手册版权归保定飞凌嵌入式技术有限公司所有。未经本公司的书面许可，任何单位和个人无权以任何形式复制、传播、转载本手册的任何部分，违者将被追究法律责任。</p>
<p>保定飞凌嵌入式有限公司所提供的所有服务内容旨在协助用户加速产品的研发进度，在服务过程中所提供的任何程序、文档、测试结果、方案、支持等资料和信息，都仅供参考，用户有权不使用或自行参考修改，本公司不提供任何的完整性、可靠性等保证，若在用户使用过程中因任何原因造成的特别的、偶然的或间接的损失，本公司不承担任何责任。</p>
</section>
<section id="id2">
<h1>适用范围<a class="headerlink" href="#id2" title="Link to this heading"></a></h1>
<p>OK3562-C开发板目前提供了Linux系统的相关资料，本手册针对Linux5.10.198系统的相关功能测试进行说明，用户要选择与开发板中镜像一致的资料进行操作。用户可以通过本公司提供的网盘链接获取软件和硬件的文档及源码。</p>
<p>资料下载网站为：<a class="reference external" href="http://bbs.witech.com.cn/forum.php?gid=64">http://bbs.witech.com.cn/forum.php?gid=64</a>，用户需要通过销售获取下载权限方可自行下载。</p>
<p>⁉️<strong>注意：</strong></p>
<ul class="simple">
<li><p>详细资料参看OK3562-C Linux用户资料,本文中提到用户资料的所在目录以 OK3562-C Linux用户资料为根目录。</p></li>
</ul>
</section>
<section id="id3">
<h1>更新记录<a class="headerlink" href="#id3" title="Link to this heading"></a></h1>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong><font style="color:#000000;">日期</font></strong></p></th>
<th class="head text-center"><p><strong><font style="color:#000000;">手册版本</font></strong></p></th>
<th class="head text-center"><p><strong><font style="color:#000000;">核心板版本</font></strong></p></th>
<th class="head text-center"><p><strong><font style="color:#000000;">底板版本</font></strong></p></th>
<th class="head"><p><strong><font style="color:#000000;">更新内容</font></strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>20240524</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0及其以上版本</p></td>
<td><p>OK3562-C Linux软件手册初版</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>20250621</p></td>
<td class="text-center"><p>V1.1</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.0及其以上版本</p></td>
<td><p><font style="color:rgb(0, 0, 0);">修改CAN和NPU测试中的描述 </font></p></td>
</tr>
</tbody>
</table>
</section>
<section id="id4">
<h1>概 述<a class="headerlink" href="#id4" title="Link to this heading"></a></h1>
<p><font style="color:#333333;">本手册以使用户快速熟悉产品，了解接口功能和测试方法为目的，主要讲述了开发板接口功能的测试，烧写镜像方法，以及使用过程中出现的一些问题如何排查。在测试过程中，对一些命令进行了注释，方便</font>用户理解，以实用够用为主。涉及到内核编译、相关应用编译方法，开发环境搭建等请参考飞凌提供的《OK3562-C_Linux_用户编译手册》</p>
<p>本手册各部分主要内容如下：</p>
<ul>
<li><p>第一部分产品的整体概述，简单介绍了开发板在接口资源、内核源码中相关驱动路径、开发板支持的烧写和启动方式，以及资料中重点部分的说明；</p></li>
<li><p>第二部分产品的快速开机启动，可采用串口登录和网络登录两种方式；</p></li>
<li><p>第三部分产品的桌面功能及QT界面功能测试，命令行操作进行功能测试；</p></li>
<li><p>第四部分产品的多媒体测试，包括了摄像头的播放测试以及视频硬件编解码测试；</p></li>
<li><p>第五部分产品的镜像更新，主要描述更新镜像到存储设备的方法，用户可根据实际情况选择对应的烧录方式。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> 本手册中一些符号及格式的相关说明：
</pre></div>
</div>
</li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>表现形式</strong></p></th>
<th class="head"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>⁉️</p></td>
<td><p>注意或者是需要特别关注的信息，一定要仔细阅读</p></td>
</tr>
<tr class="row-odd"><td><p>📚</p></td>
<td><p>对测试章节做的相关说明</p></td>
</tr>
<tr class="row-even"><td><p>🛤️</p></td>
<td><p>表示相关路径</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:#2F4BDA;">蓝色</font></p></td>
<td><p>指在命令行输入的命令，需要手动输入</p></td>
</tr>
<tr class="row-even"><td><p>黑色字体</p></td>
<td><p>输入命令后的串口输出信息</p></td>
</tr>
<tr class="row-odd"><td><p><strong>黑色加粗</strong></p></td>
<td><p>串口输出信息中的关键信息</p></td>
</tr>
<tr class="row-even"><td><p>//</p></td>
<td><p>对输入指令或输出信息的解释内容</p></td>
</tr>
<tr class="row-odd"><td><p>用户名&#64;主机名</p></td>
<td><p>root&#64;ok3562: 开发板串口登录账户信息<br/>forlinx&#64;ok3562：开发板远程登录账户信息<br/>forlinx&#64;Linux：开发环境Linux账户信息<br/>用户可通过该信息确定功能操作的环境</p></td>
</tr>
</tbody>
</table>
<p>例：查看6221A-SRC模块驱动的加载状态：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~$ lsmod                                         //查看已加载的模块
Module                  Size  Used by
8821cs               2793472  0
</pre></div>
</div>
<ul class="simple">
<li><p>root&#64;ok3562：用户名为root，主机名为forlinx，表示在开发板上使用root用户进行操作。</p></li>
<li><p>// ：对指令操作或打印信息的解释内容，不需要输入。</p></li>
<li><p><font style="color:#0000FF;">lsmod</font>：灰底蓝色字体，表示需要手动输入的相关命令。</p></li>
<li><p><strong>8821cs   2793472  0</strong>：灰底黑色字体为输入命令后的输出信息，加粗字体为关键信息，在此处表示已加载6221A-SRC模块驱动。</p></li>
</ul>
</section>
<section id="ok3562">
<h1>01_OK3562开发板介绍<a class="headerlink" href="#ok3562" title="Link to this heading"></a></h1>
<section id="id5">
<h2><strong><font style="color:rgb(38, 38, 38);">1.1 OK3562开发板简介</font></strong><a class="headerlink" href="#id5" title="Link to this heading"></a></h2>
<p><font style="color:rgb(38, 38, 38);"></font><font style="color:rgb(38, 38, 38);">RK3562J是基于ARM64架构的低功耗高性能处理器，它包括4核Cortex-A53和1核Conrtex-M0以及独立的NEON协处理器，可应用于计算机、手机、个人移动互联网，数字多媒体设备。<br />
</font><font style="color:rgb(38, 38, 38);">飞凌OK3562-C开发平台核心板和底板采用接插件的连接方式，主要接口如下图所示：</font></p>
<p><img alt="Image" src="_images/1720418437155_411d3da0_4c0d_4d73_a18a_c2bfac3554cc.jpeg" /></p>
<p>正面视图</p>
<p><img alt="Image" src="_images/1720418437554_c4288f3d_892a_4c80_b8de_0bde8c386265.png" /></p>
<p>反面视图</p>
<p>📖**<font style="color:rgb(38, 38, 38);"> 请阅读：</font>**<font style="color:rgb(38, 38, 38);"><br />
</font><font style="color:rgb(38, 38, 38);">本软件手册中不再对硬件参数进行叙述，在参考本手册进行软件开发前请阅读“02-用户资料\03-硬件资料\02-手册”路径下的“OK3562-C_硬件手册”，以了解产品命名规则和您所使用产品的硬件配置信息，这样有助于您对本产品的使用。</font></p>
</section>
<section id="linux-5-10-198">
<h2><font style="color:rgb(38, 38, 38);"></font><strong><font style="color:rgb(38, 38, 38);">1.2 Linux 5.10.198系统软件资源介绍</font></strong><a class="headerlink" href="#linux-5-10-198" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong><font style="color:rgb(38, 38, 38);">设备</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">驱动程序源代码在内核中的位置</font></strong></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">设备名</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">LCD背光驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/video/backlight/pwm_bl.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/sys/class/backlight</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">USB接口U盘</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/usb/storage/</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">USB鼠标</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/hid/usbhid/</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/input/mice</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">以太网</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/net/ethernet/stmicro/stmmac</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">SD/micro TF卡驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/mmc/host/dw_mmc-rockchip.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/block/mmcblk1pX</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">EMMC驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/mmc/host/dw_mmc-rockchip.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/block/mmcblk2pX</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">摄像头</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/media/i2c/ov13855.c   </font><font style="color:rgb(38, 38, 38);">drivers/media/i2c/ov5645.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/videoX</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">LCD 控制器</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/gpu/drm/rockchip/rockchip_drm_vop.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">MIPI CSI</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/phy/rockchip/phy-rockchip-mipi-rx.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">MIPI DSI</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">LCD触摸驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/input/touchscreen/goodix.c   </font><font style="color:rgb(38, 38, 38);">drivers/input/touchscreen/edt-ft5x06.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/input/eventX</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">RTC实时时钟驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/rtc/rtc-rx8010.c   </font><font style="color:rgb(38, 38, 38);">drivers/rtc/rtc-pcf8563.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/rtc0</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">串口</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/tty/serial/8250/8250_dw.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/ttySX</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">按键驱动</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/input/keyboard/adc-keys.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/input/eventX</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">LED</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/leds/leds-gpio.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">I2S</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">sound/soc/rockchip/rockchip_i2s.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">PMIC</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/mfd/rk808.c   </font><font style="color:rgb(38, 38, 38);">drivers/regulator/rk808-regulator.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">PCIE</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/pci/controller/pcie-rockchip.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">看门狗</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/watchdog/dw_wdt.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/watchdog</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">SPI</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/spi/spi-rockchip.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">/dev/spidev2.0</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">PWM</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">drivers/video/backlight/pwm_bl.c</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc">
<h2><strong><font style="color:rgb(38, 38, 38);">1.3 eMMC存储器分区表</font></strong><a class="headerlink" href="#emmc" title="Link to this heading"></a></h2>
<p><font style="color:rgb(38, 38, 38);"></font><font style="color:rgb(38, 38, 38);">下面表格是Linux操作系统的eMMC存储器分区信息（计算时一个块大小为512bit）：</font></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong><font style="color:rgb(38, 38, 38);">分区索引</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">名称</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">偏移/block</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">大小/block</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
<th class="head"><p><strong><font style="color:rgb(38, 38, 38);">内容</font></strong><font style="color:rgb(38, 38, 38);"></font></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">N/A</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">security</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00000000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00004000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">MiniLoaderAll.bin</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">1</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">uboot</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00004000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00002000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">uboot.img</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">2</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">misc</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00006000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00002000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">misc.img</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">3</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">boot</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00008000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00020000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">boot.img</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">4</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">recovery</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00028000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00040000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">recovery.img</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">5</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">backup</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00068000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00010000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">6</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">rootfs</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00078000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00c00000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">rootfs.img</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">7</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">oem</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00c78000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00040000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">oem.img</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">8</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">amp</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00cb8000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00002000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">amp.img</font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">9</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">userdata</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">0x00cba000</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);"></font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">userdata.img</font></p></td>
</tr>
</tbody>
</table>
<font style="color:rgb(38, 38, 38);">  
</font><font style="color:rgb(38, 38, 38);">  
</font>
</section>
</section>
<section id="id6">
<h1>02_快速开机启动<a class="headerlink" href="#id6" title="Link to this heading"></a></h1>
<section id="id7">
<h2>2.1 开机前的准备<a class="headerlink" href="#id7" title="Link to this heading"></a></h2>
<p>OK3562开发板有串口登录和网络登录两种系统登录方式，系统开机前硬件准备：</p>
<ul class="simple">
<li><p>12V3A DC电源</p></li>
<li><p>调试串口线（串口登录使用）</p></li>
</ul>
<p>开发板上的调试串口为Type-C USB插孔，用户可以使用USB Type-A转Type-C线连接开发板和PC机，以便查看开发板状态。</p>
<ul class="simple">
<li><p>网线（网络登录使用）</p></li>
<li><p>屏幕，根据开发板接口连接屏幕（不需要显示的可以不接）</p></li>
</ul>
<p><img alt="Image" src="_images/1730773402955_b39ed59a_e86f_4f98_a7e1_ae880aedc5b4.png" /></p>
<p>⚠️ <strong>注意：图中标出的调试串口实际上是UART0和UART9共用一个Type-C接口，其中UART9为开启AMP功能时裸核的调试串口（需要将拨码开关S4拨为UART）。</strong></p>
</section>
<section id="id8">
<h2>2.2 相关驱动安装<a class="headerlink" href="#id8" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>使用02-用户资料\01-软件资料\04-工具\DriverAssitant_v5.1.1.zip进行安装rockchip驱动</p></li>
<li><p>解压完成后直接运行DriverInstall.exe，为确保安装最新的驱动，请先点击驱动卸载，再驱动安装</p></li>
<li><p>使用02-用户资料\01-软件资料\04-工具\CH343SER.EXE进行安装串口驱动</p></li>
</ul>
</section>
<section id="id9">
<h2>2.3 串口登录方式<a class="headerlink" href="#id9" title="Link to this heading"></a></h2>
<p>OK3562-C平台调试串口使用的是Type-C接口，板载USB转UART芯片，无需客户购买USB转串口调试工具，使用极其简单方便。</p>
<section id="id10">
<h3>2.3.1  串口连接设置<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：</strong></p>
<ul class="simple">
<li><p><strong>串口设置：波特率115200、数据位8、停止位1、无校验位、无流控制</strong></p></li>
<li><p><strong>串口终端免账户登录</strong></p></li>
<li><p><strong>软件需求：PC端Windows系统需要安装串口终端软件，串口终端软件有多种，可自行使用自己熟悉的串口终端软件</strong></p></li>
</ul>
<p>以下我们以putty为例介绍串口的登录方式：</p>
<p>**步骤1：**首先需要确认连接电脑的串口端口号，从设备管理器中查看串口端口号，以电脑实际识别的端口号为准。</p>
<p><img alt="Image" src="_images/1720417652369_c946e9c8_f6b4_450a_a2d9_c9cd0527ed2f.png" /></p>
<p>**步骤2：**打开putty并设置，serial line根据使用的电脑COM口设置，波特率115200</p>
<p><img alt="Image" src="_images/1720417652635_c2ca3610_6708_4704_ac4a_90416d6b9c76.png" /></p>
<p>**步骤3：**上述设置完成后可以在Saved Sessions输入电脑使用的COM口，下图以COM24为例，将设置保存，之后再打开串口时，直接点击保存的端口号即可。</p>
<p><img alt="Image" src="_images/1720417652851_8f35def3_7095_4026_b2c3_e32f6294f73b.png" /></p>
<p>**步骤4：**打开开发板的电源开关，串口会有打印信息输出，免密登录。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>input-event-daemon: Adding device: /dev/input/event9...
input-event-daemon: Start listening on 12 devices...
done
root@ok3562:/# [   37.424104] vbus5v0_typec0: disabling
[   37.424151] vbus5v0_typec1: disabling
</pre></div>
</div>
</section>
<section id="id11">
<h3>2.3.2  串口登录常见问题<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<p>USB转串口需要安装驱动程序（02-用户资料\01-软件资料\04-工具\CP210x_Windows_Drivers.zip）</p>
<p>建议使用质量好的串口线以避免出现乱码情况</p>
</section>
</section>
<section id="id12">
<h2>2.4 网络登录方式<a class="headerlink" href="#id12" title="Link to this heading"></a></h2>
<section id="id13">
<h3>2.4.1  网络连接测试<a class="headerlink" href="#id13" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：</strong></p>
<ul class="simple">
<li><p><strong>出厂时网卡默认配置为静态IP，IP地址为192.168.0.232，更改静态IP的方法可参考“3.2.17 以太网配置”测试章节；</strong></p></li>
<li><p><strong>测试时电脑和开发板需要在同一网段。</strong></p></li>
</ul>
<p>在进行网络登录前，需要先确保电脑和开发板直连的网络连接正常，可通过ping指令测试电脑和开发板的连接状态。具体方法操作如下：</p>
<p>1、将开发板的eth0和电脑通过网线连接，给开发板上电，内核启动后核心板上会有蓝色心跳灯闪烁，与电脑连接的网卡在正常启动后网卡灯快速闪烁，此时可以测试网络连接。</p>
<p>2、<strong>关闭电脑防火墙（此处不作关闭防火墙的介绍，电脑通用操作）</strong>，打开电脑的运行命令</p>
<p>3、使用cmd打开电脑管理员界面，使用ping指令测试电脑和开发板的网络连接状态</p>
<p><img alt="Image" src="_images/1720417653045_77232463_9341_42e0_99fd_fff6c8c185f3.png" /></p>
<p><img alt="Image" src="_images/1720417653364_4f5e0630_f435_4a4d_9c88_23a027ea9bcb.png" /></p>
<p>有数据返回，网络连接正常。</p>
</section>
<section id="ssh">
<h3>2.4.2  SSH服务器<a class="headerlink" href="#ssh" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：</strong></p>
<ul class="simple">
<li><p><strong>出厂时网卡默认配置为静态IP，IP地址为192.168.0.232，更改静态IP的方法可参考“3.2.17 以太网配置”测试章节</strong></p></li>
<li><p><strong>登录为forlinx用户，密码forlinx</strong></p></li>
<li><p><strong>登录为root用户，密码root</strong></p></li>
</ul>
<p>1、使用ssh登录开发板</p>
<p><img alt="Image" src="_images/1720417653640_cd0cf583_62bc_4715_824a_58f2939f6143.png" /></p>
<p>点击“Open”,出现如下对话框，点击“是”进入登录界面</p>
<p><img alt="Image" src="_images/1720417654059_94355051_1e28_4cfd_8a4b_f559d4ff136a.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Login as：forlinx
forlinx@192.168.0.232&#39;s password:               //按照提示输入开发板forlinx账户的密码forlinx
forlinx@ok3562:~#
</pre></div>
</div>
</section>
<section id="ftpsftp">
<h3>2.4.3  FTP和SFTP<a class="headerlink" href="#ftpsftp" title="Link to this heading"></a></h3>
<p>📂** 路径：OK3562-C（Linux）用户资料\工具\FileZilla***</p>
<p>OK3562开发板支持 FTP和SFTP 服务并启动时已自动开启，设置好 IP 地址后就可以作为一台 SFTP 服务器。</p>
<p>下面以SFTP为例介绍如何利用filezilla工具进行文件传输。</p>
<p>在 windows上安装好filezilla工具，并按照下图所示步骤进行设置,用户名和密码均为forlinx。</p>
<p>打开filezilla工具，点击文件，选择站点管理器（site Manager)。</p>
<p><img alt="Image" src="_images/1720417654405_e51665a5_81c7_4442_a2ae_e8cc99e78fff.png" /></p>
<p>登录成功后便可以进行上传下载操作。</p>
<p><img alt="Image" src="_images/1720417654928_2b604387_bb81_4ac6_a13d_02437d5c0800.png" /></p>
</section>
</section>
<section id="id14">
<h2>2.5 屏幕切换<a class="headerlink" href="#id14" title="Link to this heading"></a></h2>
<p>OK3562支持MIPI DSI、LVDS屏幕接口，只能支持1个屏显示。目前屏幕切换控制方式有三种：uboot菜单动态控制；内核设备树指定；QT UbootMenu应用程序控制。</p>
<section id="uboot">
<h3>2.5.1  uboot菜单动态控制<a class="headerlink" href="#uboot" title="Link to this heading"></a></h3>
<p>该方式在现有已支持屏幕的基础上不需要重新编译和烧写，即可切换屏幕。</p>
<p>在uboot自启动过程中串口终端按下space空格按键，即可弹出控制选项：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>终端输入2，进行屏幕切换。参考“4.2.29  Uboot菜单”</p>
</section>
<section id="id15">
<h3>2.5.2  内核设备树指定<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<p>该方式不需要连接串口终端，系统镜像默认为所期望的配置选择，适合量产。但需要修改设备树，重新生成一次系统镜像。</p>
<p>⚠️ <strong>注意：该方式优先级高于uboot屏幕选择，在设备树修改后，uboot的选择不会生效。</strong></p>
<p>设备树路径为：kernel/arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi</p>
<p>内核源码中，打开设备dtsi文件，找到forlinx-control节点，如下：</p>
<p><img alt="Image" src="_images/1720417655244_cf68dda2_b8e9_41e7_af19_85b8fea65d80.png" /></p>
<p>该节点默认disabled状态，需要改为okay使能节点。根据屏幕需求更改。</p>
<p><strong>参数说明：</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>参数</strong></p></th>
<th class="head text-center"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>status</p></td>
<td class="text-center"><p>描述节点状态：disabled为关闭节点，okay使能节点</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>disp_type</p></td>
<td class="text-center"><p>指定mipi or lvds屏显示。</p></td>
</tr>
</tbody>
</table>
<p>用户根据需要更改设置参数，保存后，需要重新编译生成镜像。</p>
<p><strong>设置举例</strong>:</p>
<p>使用lvds屏显示。</p>
<p><img alt="Image" src="_images/1720417655456_cb2ffa1e_8431_4ab1_a170_b82bfb1dcdf9.png" /></p>
<p>保存后，重新编译生成镜像。</p>
</section>
<section id="qt-ubootmenu">
<h3>2.5.3  QT UbootMenu应用程序控制<a class="headerlink" href="#qt-ubootmenu" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://forlinx-book.yuque.com/rh74yu/ok3562/hdfeyd97du7gi8n2#xPyoC">参考3.1.17  UbootMenu</a></p>
</section>
</section>
<section id="id16">
<h2>2.6 系统关闭<a class="headerlink" href="#id16" title="Link to this heading"></a></h2>
<p>一般情况下直接关闭电源即可，如果有数据存储、功能使用等操作，操作过程中不要随意断电，以防出现文件不可逆损坏。为确保数据完全写入，可输入 sync 命令完成数据同步后再关闭电源。</p>
<p>⚠️ <strong>注意：用户依据核心板设计的产品，若在使用中存在意外掉电导致系统异常关闭的情景，可在设计中加入掉电保护等措施。</strong></p>
</section>
</section>
<section id="id17">
<h1>03_OK3562平台界面功能使用及测试<a class="headerlink" href="#id17" title="Link to this heading"></a></h1>
<p>OK3562平台对Qt的支持非常完善，特别是多媒体相关的类，例如视频解码播放、摄像头、视频录制等，均能结合硬件编解码以及OpenGL达到最佳效果。</p>
<section id="id18">
<h2>3.1 桌面功能测试<a class="headerlink" href="#id18" title="Link to this heading"></a></h2>
<section id="id19">
<h3>3.1.1  界面功能简介<a class="headerlink" href="#id19" title="Link to this heading"></a></h3>
<p>开发板启动后桌面显示如下：</p>
<p><img alt="Image" src="_images/1720417666181_97e8edf0_a899_44c8_a864_e5e77c6f2276.png" /></p>
</section>
<section id="id20">
<h3>3.1.2  硬件解码体验<a class="headerlink" href="#id20" title="Link to this heading"></a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>点击桌面图标进入打开视频播放器video player。
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417666490_b1592cbf_8e29_4d12_bdb1_8fad5e6947ee.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417666946_d492a7d7_638a_4d45_916e_53f5a6d86da1.png" /></p>
<p>⚠️** 注意：测试视频文件所在目录：/userdata/media/*.mp4**</p>
</section>
<section id="opengl">
<h3>3.1.3  OpenGL测试<a class="headerlink" href="#opengl" title="Link to this heading"></a></h3>
<p>OK3562支持OpenGL ES3.2,点击桌面图标进行OpenGL测试。</p>
<p><img alt="Image" src="_images/1720417667252_b669ae1a_e4b1_4d6e_9375_3d551571ea04.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417667643_205cee09_c967_46fa_910a_e6f5507c97cc.jpeg" /></p>
</section>
<section id="id21">
<h3>3.1.4  播放音乐测试<a class="headerlink" href="#id21" title="Link to this heading"></a></h3>
<p>“musicplayer”是一款简单的音频测试应用，可用来测试声卡功能是否正常，也可用来作为一款简单的音频播放器。</p>
<p><img alt="Image" src="_images/1720417667864_988c35ee_7595_49ff_8c34_bcbd534ab54f.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417668047_619205fa_d4bb_4973_9442_0f2ec7c83d4c.jpeg" /></p>
<p>应用界面</p>
<p>点击左下角的按钮，选择测试音频 /userdata/media/test.mp3</p>
</section>
<section id="g">
<h3>3.1.5  4G测试<a class="headerlink" href="#g" title="Link to this heading"></a></h3>
<p>⚠️** 注意：此测试需要插入可上网的SIM卡，注意事项可以参考本手册的命令行功能测试 4G章节。**</p>
<p>测试支持4G模组（EC20），在断电情况下插入4G模组和SIM卡，上电系统启动后打开测试应用。</p>
<p><img alt="Image" src="_images/1720417668348_585760c6_d57a_4312_a9f8_286595ed0d0f.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417668538_6c3dab1c_2eff_4bec_8297_5e79bb4855bf.png" /></p>
<p>点击connect按钮，程序将自动进入拨号流程并获取IP设置DNS等</p>
<p><img alt="Image" src="_images/1720417668807_5dbde941_f04f_42a2_af8d_3af71f8867b7.png" /></p>
<p>点击ping按钮进行测试</p>
<p><img alt="Image" src="_images/1720417669155_ecacded0_2bcd_408b_9a47_cbcff79124f3.png" /></p>
</section>
<section id="wifi">
<h3>3.1.6  WIFI测试<a class="headerlink" href="#wifi" title="Link to this heading"></a></h3>
<p>“WIFI”是一款配置wifi的工具，OK3562平台默认板载6221A-SRC（RTL8821CS）模块。wifi模块在系统中会以wlan结点的形式存在，此测试对应wlan0（多设备时使用其它对应节点）：</p>
<p><img alt="Image" src="_images/1720417669341_739a22d7_ace1_4f5b_9db5_e21cb35038ce.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417669543_7bf02243_16fd_46ff_9d95_9f0c739d236f.jpeg" /></p>
<p>应用界面</p>
<p>选中wlan0，在SSID栏中输入需要使用wifi连接的路由器名称，PAWD栏输入路由器密码，点击connect，即可通过wifi连接路由器，在IP栏中输入有效ip后，点击ping，可查看当前使用wifi网络是否畅通。</p>
<p>打开Wifi测试应用，输入正确的网络名称及密码，点击connect。</p>
<p><img alt="Image" src="_images/1720417669771_5248f8d6_f1ab_49b2_9066_18d500f6f775.png" /></p>
<p>连接成功后可点击ping进行网络测试</p>
<p><img alt="Image" src="_images/1720417670021_fcfbdedf_2532_401d_9c7b_f5156d545203.png" /></p>
</section>
<section id="id22">
<h3>3.1.7  网络配置测试<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<p>OK3562启动时eth0默认设置为static，可通过“Network”网络配置应用来选择 dhcp和static两种模式，static模式可配置ip地址、子网掩码、网关、DNS。</p>
<p><img alt="Image" src="_images/1720417670236_95f31c04_1439_4dae_bd45_8cb27d6a5717.png" /></p>
<p>应用图标</p>
<p>DHCP模式界面如下：</p>
<p><img alt="Image" src="_images/1720417670841_cdf93cc4_07a3_4d22_92d3_bfe765899391.jpeg" /></p>
<p>选中DHCP，在interface中选中需要配置的网卡设备，点击界面下方的Apply and Restart Network，即可重启网络并自动获取到ip。</p>
<p>static模式界面如下：</p>
<p><img alt="Image" src="_images/1720417671088_cd701fbb_b498_49fe_a689_bb0f128f8a8d.jpeg" /></p>
<p>在interface中选中需要配置的网卡设备，在ip栏中输入要设定的ip，netmask栏中输入子网掩码，geteway栏中输入网关，dns栏中输入DNS。</p>
<p>注：在STATIC模式下设置的ip等信息会被保存至系统的相关配置文件中，因此每次重启都会使用本次设置的网络信息；而在DHCP模式下配置的网络信息则不需注意这一点，每次重新启动都会动态分配一次ip地址。</p>
</section>
<section id="ping">
<h3>3.1.8  Ping测试<a class="headerlink" href="#ping" title="Link to this heading"></a></h3>
<p>“Ping”是网络测试常用命令ping的界面版应用:</p>
<p><img alt="Image" src="_images/1720417671316_6cd27dc4_35ea_4210_a228_3f9e3bd4cf24.png" /></p>
<p>在hostname一栏中写需要ping的目标ip，点击ping键后，result栏中会提示ping的结果，点击stop可停止ping测试，点击clear清空result中的信息。</p>
<p><img alt="Image" src="_images/1720417671577_2a67d0ff_3784_490d_b011_185caee8256a.png" /></p>
</section>
<section id="id23">
<h3>3.1.9  浏览器测试<a class="headerlink" href="#id23" title="Link to this heading"></a></h3>
<p>“DemoBrowser”是一款简单实用的网络浏览器，在使用时请保证网络通畅，访问外网前需保证dns可用，浏览器启动时默认访问飞凌嵌入式官方网站，界面如下：</p>
<p>⚠️ <strong>注意：如果开发板的时间异常会导致证书问题。使用浏览器后不可以立即关闭电源或者在关闭电源前在命令行使用sync命令，否则可能导致浏览器异常退出，无法正常运行，只能重新烧录解决。</strong></p>
<p><img alt="Image" src="_images/1720417671857_74ed84ea_6805_42e5_989d_474e1c4e91aa.png" /></p>
<p>通过上方导航栏 File-&gt;Quit 退出该浏览器。</p>
</section>
<section id="id24">
<h3>3.1.10  看门狗测试<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<p>“WatchDog”是用来测试看门狗功能是否正常的应用</p>
<p><img alt="Image" src="_images/1720417672177_e78efff9_8460_476b_bc51_217d84bb258a.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417672436_3e31ca5e_1b33_4d74_a750_5b8b2eb5f815.jpeg" /></p>
<p>应用界面</p>
<p>勾选feed dog，点击open watchdog按键，此时看门狗功能会被启动，程序会进行喂狗操作，正常情况下系统不会重启；取消勾选feed dog时，点击open watchdog按键，看门狗功能会被启动，程序不进行喂狗操作，在打开看门狗约10s后，系统进入重启，说明看门狗功能正常。</p>
</section>
<section id="id25">
<h3>3.1.11  按键测试<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<p>“Keypad”用于测试平台自带按键是否可用：</p>
<p><img alt="Image" src="_images/1720417672658_04c01b7c_a3a7_4ca1_88fc_38f2858709de.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417672897_d2c36032_e7fc_48b6_aeab_a0896895c358.jpeg" /></p>
<p>应用界面</p>
<p>OK3562平台默认将4个物理按键V+、V-、Home、ESC分别配置为音量+键、音量-键，Home、返回键。当按下按键时测试应用中的对应按键会变为蓝色，说明按键功能正常。</p>
<p>“Exit”退出当前例程，返回到系统桌面。</p>
</section>
<section id="rtc">
<h3>3.1.12  RTC测试<a class="headerlink" href="#rtc" title="Link to this heading"></a></h3>
<p>通过“RTC”应用，可查看和设置当前的系统时间：</p>
<p><img alt="Image" src="_images/1720417673244_81838d8f_0c72_47e6_b63b_6ac8d9e821d6.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417673493_22d3d302_ed26_4b4d_b7fc_4a50a3764fa3.jpeg" /></p>
<p>应用界面</p>
<p>点击set后，即可进行时间的设置，设置完毕点击保存，即可设置完成。</p>
<p>在安装RTC备用电池的情况下，断电重启开发板以确认RTC时钟设置成功。</p>
</section>
<section id="camera">
<h3>3.1.13  Camera测试<a class="headerlink" href="#camera" title="Link to this heading"></a></h3>
<p>点击桌面图标进入打开Camera，该测试程序支持USB Camera也支持OV13855和OV5645。插入USB Camera，这里以RMONCAM 720P为例。</p>
<p>⚠️** 注意：该应用需要连接摄像头后再打开。**</p>
<p><img alt="Image" src="_images/1720417673759_9cf0f95f_7979_491a_b458_d5517100e3bd.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417673981_ab8ce1a2_a069_4571_8d99_cda8fa26f30c.jpeg" /></p>
<p>打开应用后点击UVC Carmera，即可启动摄像头预览。</p>
<p><img alt="Image" src="_images/1722218411300_e4824847_5eeb_40e7_9ea6_6d8d8cf9c669.png" /></p>
<p>Video Mode模式下可以点击record按钮进行录像操作，点击recording按钮即可停止录像，生成的视频文件位于/userdata/VIDEO0.MOV</p>
<p>可以使用gst-play-1.0 /userdata/VIDEO0.mov 命令进行播放测试。</p>
<p>点击Video Mode按钮，可以切换到拍照模式，点击Capture可以进行拍照操作。</p>
<p><img alt="Image" src="_images/1722218425115_0b9f51f2_5300_463e_99de_3688a456611a.png" /></p>
<p>生成的文件位为/userdata/PIC0.jpg</p>
<p><img alt="Image" src="_images/1720417675235_d9e50c99_9ff6_4a35_8468_6c5fee72c104.png" /></p>
</section>
<section id="uart">
<h3>3.1.14  UART测试<a class="headerlink" href="#uart" title="Link to this heading"></a></h3>
<p><img alt="Image" src="_images/1720417675445_75a88339_39db_44d0_8e0b_fa22bbfb8f74.png" /></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    应用图标
</pre></div>
</div>
<p>本次测试通过短接开发板上的两个RS485串口，来进行串口测试。</p>
<p>1、点击UART测试图标，进入如下界面，进行串口参数设置：</p>
<p><img alt="Image" src="_images/1720417675669_65b7392d_6502_4a9c_b25d_5b378d404585.jpeg" /></p>
<p>2、点击左上角<img alt="Image" src="_images/1720417675867_bfe209ce_4016_402c_aefe_3b47d8a828e0.png" />设置按钮，设置串口参数与电脑端串口工具参数一致，如下图：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>相关参数</strong></p></th>
<th class="head"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Select Serial Port</p></td>
<td><p>设置串口（选择UART2，即ttyS2）</p></td>
</tr>
<tr class="row-odd"><td><p>BaudRate</p></td>
<td><p>设置波特率（115200）</p></td>
</tr>
<tr class="row-even"><td><p>Data bits</p></td>
<td><p>设置数据位（8位）</p></td>
</tr>
<tr class="row-odd"><td><p>Parity</p></td>
<td><p>设置校验位（无校验）</p></td>
</tr>
<tr class="row-even"><td><p>Stop bits</p></td>
<td><p>设置停止位（1位）</p></td>
</tr>
<tr class="row-odd"><td><p>Flow control</p></td>
<td><p>设置流控（无流控）</p></td>
</tr>
</tbody>
</table>
<p><img alt="Image" src="_images/1720417676095_db8cc4ef_3eee_45ab_ac14_31a911477ebe.jpeg" /></p>
<p>3、设置完串口参数后，点击左上角的<img alt="Image" src="_images/1720417676339_c215e626_a2a3_46e5_b010_e2225245daad.png" />连接按钮，此时测试程序可以进行数据收发测试。</p>
<p>4、在命令行终端运行fltest_uarttest，此时屏幕会显示串口接收到的数据。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -w
tx_0: iz2Fu9DzFoR5YnMUtJUcxtJmH88LASWr
root@ok3562:/#
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417676596_de370248_1b87_4f70_9619_4a1f9b125a72.jpeg" /></p>
<ol class="arabic simple">
<li><p>在命令行终端运行fltest_uarttest，点击测试界面中间黑屏位置会弹出软键盘，连续输入32个字符之后，命令行终端打印的信息即为qt发送的数据。</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -r
rx_0: 12345678901234567890123456789012
root@ok3562:/#
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417676808_2c1e6291_ef9b_4eac_8bba_58b3b71374d0.jpeg" /></p>
</section>
<section id="id26">
<h3>3.1.15  数据库测试<a class="headerlink" href="#id26" title="Link to this heading"></a></h3>
<p>点击桌面图标可以使用Sqlite测试数据库。</p>
<p><img alt="Image" src="_images/1720417676999_a26c436c_2b6b_43a5_ac34_061022a7b9ea.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417677226_5613cd21_0ac5_4fee_9c03_7c5281487fe0.png" /></p>
</section>
<section id="id27">
<h3>3.1.16  背光测试<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<p>“BackLight”是lcd背光调整应用：</p>
<p><img alt="Image" src="_images/1720417677503_ce25fa41_3c86_4b58_8a69_b97342e9b73d.png" /></p>
<p>应用图标</p>
<p><img alt="Image" src="_images/1720417677716_64116b20_28e6_407b_b818_94daa5ac90a1.png" /></p>
<p>拖动界面中的滑块即可设置Lcd背光亮度，0级为最低亮度，255级为最高亮度。</p>
<p>本测试程序限制最低亮度，在qt界面能设置最小值为1，如需关闭背光，参考3.2.20  LCD 背光调节，将背光亮度设置为0即可。</p>
</section>
<section id="ubootmenu">
<h3>3.1.17  UbootMenu<a class="headerlink" href="#ubootmenu" title="Link to this heading"></a></h3>
<p>点击桌面图标<img alt="Image" src="_images/1720417677943_fb582525_076e_45bc_a77c_8cebe5ad2667.png" />可以进行Uboot菜单配置</p>
<p>在disp_type选项卡中可以选择屏幕显示</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>none：不开启屏幕显示

mipi：开启mipi 1024*600屏幕显示

lvds：开启lvds 1280*800屏幕显示
</pre></div>
</div>
<p>在amp_start选项卡中可以选择是否开启amp</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>off：关闭

on：开启
</pre></div>
</div>
<p>在combphy_type选项卡中可以选择usb和pcie的复用功能</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>none：关闭combphy

usb：combphy复用为usb功能

pcie：combphy复用为pcie功能
</pre></div>
</div>
<p>修改成功即保存成功，配置完成之后，重启开发板生效。</p>
<p><img alt="Image" src="_images/1720417678199_c414e37a_20b6_497c_bc0b_a8c857634b75.jpeg" /></p>
<p><img alt="Image" src="_images/1720417678430_81a084f5_0d93_419a_9b4a_8bb02bf23f01.jpeg" /></p>
<p><img alt="Image" src="_images/1720417678632_ac754c47_2928_45b0_96d8_2546590bc321.jpeg" /></p>
</section>
<section id="web">
<h3>3.1.18  Web服务<a class="headerlink" href="#web" title="Link to this heading"></a></h3>
<p>OK3562开发板预装了lighttpd web服务器，并且系统启动时已经自动启动了lighttpd服务，在PC端的浏览器中输入开发板的IP 地址即可浏览开发板webserver 中的网页，如下图所示：</p>
<p><img alt="Image" src="_images/1720417679107_12d1f44a_8fba_4165_a4fe_ba2b015f28a7.png" /></p>
<p>⚠️ <strong>注意：开发板的网络ip需要和PC机的网络IP在同一网段下才可以正常使用该功能，或者PC在开发板所处网络的子网下。</strong></p>
</section>
<section id="adc">
<h3>3.1.19  ADC测试<a class="headerlink" href="#adc" title="Link to this heading"></a></h3>
<p>OK3562-C开发板内部提供了13路ADC，每个通道上可连接一个可调电阻，选择 saradc0_in5进行测试，ADC引脚硬件图如下，在P11的1引脚输入电压。当前芯片使用1.8V参考电压对应 10 位ADC最大值1024。</p>
<p><img alt="Image" src="_images/1720417679386_5ec56abe_ddc8_45a2_a3e6_a78456bf9912.png" /></p>
<p>运行QT ADC<img alt="Image" src="_images/1720417679554_156d7ae2_e065_46d6_9c57_64c76b6bfc6f.png" />程序显示结果。</p>
<p><img alt="Image" src="_images/1720417679774_4094d713_9cbd_4e75_8a0e_2a14d00ad253.png" /></p>
</section>
<section id="tftp">
<h3>3.1.20  Tftp升级系统<a class="headerlink" href="#tftp" title="Link to this heading"></a></h3>
<p>⚠️ <strong>注意：</strong></p>
<ul class="simple">
<li><p><strong>当前版本不支持MiniLoaderAll.bin升级。</strong></p></li>
<li><p><strong>使用tftp udp方式传输， 端口号为69。</strong></p></li>
<li><p><strong>安装tftpd服务器工具Tftpd64.4.64.exe。</strong></p></li>
</ul>
<p>📂 <strong>路径：OK3562-C-Linux 用户资料/工具/Tftpd64.4.64.exe</strong></p>
<ol class="arabic simple">
<li><p>安装Tftpd64.4.64.exe</p></li>
<li><p>打开Tftpd64.4.64.exe，进行测试</p></li>
</ol>
<p><img alt="Image" src="_images/1720417679978_d7fe01c5_7320_4e80_99cf_77b53dc1772d.png" /></p>
<p>CurrentDirectory: 选择OK3562-C 分区固件存放路径。</p>
<p>Server interfaces: 选择电脑本地IP地址</p>
<p>⚠️ <strong>注意：请关闭window防火墙，请客户自行验证tftp 下载文件测试。</strong></p>
<ol class="arabic simple" start="3">
<li><p>打开桌面Tftp Update图标<img alt="Image" src="_images/1720417680230_85b319c8_f19d_4966_9000_aaacc308263b.png" /></p></li>
<li></li>
<li><p><img alt="Image" src="_images/1720417680441_fabc1d48_0621_4c0a_9800_b1bbfa3f7ba1.jpeg" /></p></li>
</ol>
<p>请客户根据实际情况填写。 选择需要更新的固件。</p>
<p>单击 Tftp:Off 变成Tftp:On；重启板卡。</p>
<p>串口打印信息如下：</p>
<p><img alt="Image" src="_images/1720417680673_7b21e433_6173_4ed2_ba79_62d3d45120c3.png" /></p>
</section>
<section id="cpu">
<h3>3.1.21  CPU频率配置测试<a class="headerlink" href="#cpu" title="Link to this heading"></a></h3>
<p>⚠️ <strong>注意：当前界面只配置A53核。</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>点击桌面图标进入下一级菜单：
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417681023_ee7bea0e_f25f_4ec2_be12_3580bff6f6e7.png" /><strong>-&gt;</strong><img alt="Image" src="_images/1720417681224_3d726585_e187_49e3_9e1a_06953e06559c.png" /></p>
<p>应用图标</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>OK3562 CPU主频最大2.0Ghz，默认情况下CPU会根据负载动态调整主频，也可以通过设置固定CPU主频率。

点击桌面 Power 图标进入CPU主频设置页面：
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417681462_a08c0939_ae79_4034_8ea4_4da675d8f09b.jpeg" /></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Set Userspace Governor：用户态设置主频
</pre></div>
</div>
<p>Set FrequencyCPU0-3：设置主频</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>以设置主频频率为例，如果需要设置固定频率，请先点击Set Userspace Governor，点击run，再返回上图操作界面，点击Set Frequency CPU0-3进行设置。
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417681695_f3a43e8f_34e2_4593_a70f_87260bd357e8.jpeg" /></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>根据需求选择对应的频率进行设置。
</pre></div>
</div>
</section>
<section id="id28">
<h3>3.1.22  录音测试<a class="headerlink" href="#id28" title="Link to this heading"></a></h3>
<p>图标：<img alt="Image" src="_images/1720417681925_8a69aa3a_5bf4_4727_87c2_035e69ef3ce5.png" /></p>
<p>在进行录音测试前，请将准备好的麦克插入mic接口，点击图标，进入录音测试应用，可用来测试声卡录音功能是否正常。</p>
<p>选择保存录音文件位置，按钮”开始”代表 开始录音，按钮”停止”代表停止录音，</p>
<p>点击Input Device单选框选择”alsa:sysdefault:CARD=rockchiprk809”， 点击Channels单选框选择”2”， 界面如下：</p>
<p><img alt="Image" src="_images/1720417682239_d0793e27_2ace_4398_bb45_1ee1ca099016.jpeg" /></p>
<p>单击Record按钮， 进行录音测试。 录音文件保存到根目录下/clip_XXXX.avi文件。</p>
</section>
<section id="spi">
<h3>3.1.23  SPI测试<a class="headerlink" href="#spi" title="Link to this heading"></a></h3>
<p>图标：<img alt="Image" src="_images/1720417682440_b869fc6d_7106_4ff7_b299_c35c55dc0c37.png" /></p>
<p>点击图标进入SPI测试界面，短接SPI2_MOSI_M0和SPI2_MISO_M0引脚，点击下方send可以接收到发送出去的数据，完成测试。</p>
<p><img alt="Image" src="_images/1720417682692_9a531955_6bdb_4c5f_beec_1e2c0d5d078f.png" /></p>
</section>
</section>
</section>
<section id="id29">
<h1>04_OK3562命令行功能测试<a class="headerlink" href="#id29" title="Link to this heading"></a></h1>
<section id="id30">
<h2>4.2 命令行功能测试<a class="headerlink" href="#id30" title="Link to this heading"></a></h2>
<p>OK3562平台内置了丰富的命令行工具可供用户使用。</p>
<section id="id31">
<h3>4.2.1  系统信息查询<a class="headerlink" href="#id31" title="Link to this heading"></a></h3>
<p>查看内核信息：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# uname -a
Linux ok3562 5.10.198 #12 SMP Wed Apr 3 14:22:58 CST 2024 aarch64 GNU/Linux
</pre></div>
</div>
<p>查看环境变量信息：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# env | sort
ADBD_SHELL=/bin/bash
AUTOAUDIOSINK_PREFERRED=pulsesink
CHROMIUM_FLAGS=--enable-wayland-ime
DBUS_SESSION_BUS_ADDRESS=unix:path=/var/run/dbus/system_bus_socket
EDITOR=/bin/vi
GST_DEBUG_NO_COLOR=1
GST_INSPECT_NO_COLORS=1
GST_V4L2SRC_DEFAULT_DEVICE=/dev/video-camera0
GST_V4L2SRC_MAX_RESOLUTION=3840x2160
GST_V4L2SRC_RK_DEVICES=_mainpath:_selfpath:_bypass:_scale
GST_V4L2_PREFERRED_FOURCC=NV12:YU12:NV16:YUY2
GST_V4L2_USE_LIBV4L2=1
GST_VIDEO_CONVERT_PREFERRED_FORMAT=NV12:NV16:I420:YUY2
GST_VIDEO_CONVERT_USE_RGA=1
GST_VIDEO_DECODER_QOS=0
GST_VIDEO_FLIP_USE_RGA=1
HOME=/
LANG=en_US.UTF-8
PATH=/usr/bin:/usr/sbin
PIXMAN_USE_RGA=1
PLAYBIN2_PREFERRED_AUDIOSINK=pulsesink
PULSE_HOME=/userdata/.pulse
PWD=/
QT_QPA_FONTDIR=/usr/share/fonts
QT_QPA_PLATFORM=wayland-egl
QT_QPA_PLATFORM_PLUGIN_PATH=/usr/lib/qt/plugins
RUNLEVEL=#f-04/13/2024
SHELL=/bin/sh
SHLVL=0
TERM=vt102
UMS_FILE=/userdata/ums_shared.img
UMS_FSTYPE=vfat
UMS_MOUNT=0
UMS_MOUNTPOINT=/mnt/ums
UMS_RO=0
UMS_SIZE=256M
USB_FUNCS=adb
USER=root
WAYLANDSINK_FORCE_DMABUF=1
WESTON_DISABLE_ATOMIC=1
WESTON_DRM_KEEP_RATIO=1
WESTON_DRM_MIN_BUFFERS=2
WESTON_DRM_MIRROR=1
WESTON_FREEZE_DISPLAY=/tmp/.freeze_weston
WL_OUTPUT_VERSION=3
XDG_RUNTIME_DIR=/var/run
_=/usr/bin/env
storagemedia=emmc
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="id32">
<h3>4.2.2  调频测试<a class="headerlink" href="#id32" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：四核A53分别是cpu0、cpu1、cpu2、cpu3。此过程以cpu0为例操作，实际过程cpu1、cpu2、cpu3会同时改变。</strong></p>
<ol class="arabic simple">
<li><p>当前内核中支持的所有cpufreq governor类型：</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
interactive  conservative  ondemand  userspace  powersave  performance  schedutil
</pre></div>
</div>
<p>其中userspace表示用户模式，在此模式下允许用户程序调节CPU频率。</p>
<ol class="arabic simple" start="2">
<li><p>查看当前CPU支持的频率档位</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
408000  600000  816000  1008000  1200000  1416000  1608000  1800000  2016000
//注 工业级CPU频率最高支持1.2GHZ
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>设置为用户模式，修改频率为1200000：</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@ok3562:~# echo 1200000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>查看修改后当前频率：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
1200000
</pre></div>
</div>
</section>
<section id="id33">
<h3>4.2.3  温度测试<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<p>查看温度值：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/thermal/thermal_zone0/temp
45307
</pre></div>
</div>
<p>温度值即为45.3℃。</p>
</section>
<section id="ddr">
<h3>4.2.4  DDR测试<a class="headerlink" href="#ddr" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_memory_bandwidth.sh
L1 cache bandwidth rd test with # process
0.008192 9531.99
0.008192 9527.23
0.008192 9531.81
0.008192 9528.35
0.008192 9530.08
L2 cache bandwidth rd test
0.131072 7504.40
0.131072 7682.14
0.131072 7650.60
0.131072 7676.25
0.131072 7609.79
Main mem bandwidth rd test
52.43 3004.34
52.43 3011.42
52.43 3026.72
52.43 3011.59
52.43 3018.35
L1 cache bandwidth wr test with # process
0.008192 15139.01
0.008192 15141.75
0.008192 15139.01
0.008192 15147.22
0.008192 15139.49
L2 cache bandwidth wr test
0.131072 8190.42
0.131072 8724.72
0.131072 8671.11
0.131072 8689.86
0.131072 8733.35
Main mem bandwidth wr test
52.43 1889.05
52.43 1886.74
52.43 1895.13
52.43 1891.37
52.43 1877.35
</pre></div>
</div>
<p>OK3562-C的LPDDR4写带宽大约1877M/s，读带宽大约3004M/s。</p>
</section>
<section id="id34">
<h3>4.2.5  看门狗测试<a class="headerlink" href="#id34" title="Link to this heading"></a></h3>
<p>看门狗是嵌入式系统中经常用到的功能，OK3562中看门狗的设备节点为/dev/watchdog</p>
<p>启动看门狗，设置复位时间10s，并定时喂狗，系统不会重启：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -t 10 -c
Watchdog Ticking Away!
</pre></div>
</div>
<p>使用ctrl+c结束测试程序时，停止喂狗，看门狗仍处于打开状态，10s后系统复位；</p>
<p>若不想复位，请在结束程序之后10s内输入关闭看门狗命令：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -d
</pre></div>
</div>
<p>启动看门狗，设置复位时间10s，但是不喂狗，系统会在10秒后重启：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_watchdog -t 10
[  532.133075] watchdog: watchdog0: watchdog did not stop!
Watchdog Ticking Away!
</pre></div>
</div>
</section>
<section id="id35">
<h3>4.2.6  RTC功能测试<a class="headerlink" href="#id35" title="Link to this heading"></a></h3>
<p>⚠️** 注意：确保板子上已经安装了纽扣电池，并且电池电压正常。**</p>
<p><font style="color:#000000;">RTC 测试，主要通过使用 date 和 hwclock 工具设置软、硬件时间，测试当板子断电再上电的时候，软件时钟读取 RTC 时钟是否同步</font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>时间设置：
</pre></div>
</div>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# date -s &quot;2022-12-12 17:23:00&quot;      //设置软件时间
Mon Dec 12 17:23:00 CST 2022
root@ok3562:~# hwclock -w					   						  //将软件时间同步到硬件时间
root@ok3562:~# hwclock -r					    						//显示硬件时间
Mon Dec 12 17:23:06 CST 2022
</pre></div>
</div>
<p>然后给板子断电再上电，进入系统后读取系统时间，可以看到时间已经同步。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# date
Mon Dec 12 17:23:20 CST 2022
</pre></div>
</div>
</section>
<section id="id36">
<h3>4.2.7  按键测试<a class="headerlink" href="#id36" title="Link to this heading"></a></h3>
<p>使用fltest_keytest命令行工具进行按键测试，目前fltest_keytest支持底板上4个按键VOL+、VOL-、MENU、ESC的测试，键码分别为115、114、139、158</p>
<p>执行如下命令，注意当存在触摸屏时为event4：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_keytest /dev/input/event3
</pre></div>
</div>
<p>此时依次按下抬起按键，终端上可输出如下内容：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>key115 Presse                                                         // VOL+按下
key115 Released                                                       // VOL+抬起
key114 Presse                                                         // VOL-按下
key114 Released                                                       // VOL-抬起
key139 Presse                                                         // MENU按下
key139 Released                                                       // MENU抬起
key158 Presse                                                         // ESC按下
key158 Released                                                       // ESC抬起
</pre></div>
</div>
</section>
<section id="id37">
<h3>4.2.8  UART测试<a class="headerlink" href="#id37" title="Link to this heading"></a></h3>
<p>OK3562平台底板原理图中标示引出的UART0、UART2、UART8、UART9共4路串口，其中UART0为调试串口，UART8为蓝牙串口，UART2和UART9为485串口。UART2、UART9在开发板中的默认设备名称分别为ttyS2，ttyS9。最高支持4M波特率。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>UART</strong></p></th>
<th class="head text-center"><p><strong>设备节点</strong></p></th>
<th class="head"><p><strong>说明</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>UART2</p></td>
<td class="text-center"><p>/dev/ttyS2</p></td>
<td><p>RS485</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART8</p></td>
<td class="text-center"><p>/dev/ttyS8</p></td>
<td><p>用于蓝牙，未单独引出，不能直接用于该测试</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART9</p></td>
<td class="text-center"><p>/dev/ttyS9</p></td>
<td><p>RS485</p></td>
</tr>
</tbody>
</table>
<p>本次测试采用UART2和UART9测试，短接P36端口中的 485_B1 和 485_B0 ，485_A1 和 485_A0 。GND_485_0，GND_485_1排针，如图：</p>
<p><img alt="Image" src="_images/1722219092030_c1249903_b12e_48b0_8be6_51478d731f10.png" /></p>
<p>在开发板串口中输入如下命令：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_uarttest -d /dev/ttyS2 -b 115200 -r &amp;
[1] 1953
root@ok3562:/# fltest_uarttest -d /dev/ttyS9 -b 115200 -w
tx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
rx_0: Gpi2GoMkYywl2IE9sEBcG6yI0DpmDbFT
[1]+  Done                    fltest_uarttest -d /dev/ttyS2 -b 115200 -r
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="id38">
<h3>4.2.9  ADC测试<a class="headerlink" href="#id38" title="Link to this heading"></a></h3>
<p>OK3562-C开发板内部提供了13路ADC，每个通道上可连接一个可调电阻，选择 saradc0_in5进行测试，ADC引脚硬件图如下，在P11的1引脚输入电压。当前芯片使用1.8V参考电压对应 10 位ADC最大值1024。</p>
<p><img alt="Image" src="_images/1720417683181_9552584f_5419_47e8_9307_1427849c8bae.png" /></p>
<p>下面以SARADC_VIN2为例进行可调电阻数值测试：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cd /sys/bus/iio/devices/iio:device0
root@ok3562:/sys/bus/iio/devices/iio:device0# cat in_voltage5_raw
809
</pre></div>
</div>
</section>
<section id="tf">
<h3>4.2.10  TF卡测试<a class="headerlink" href="#tf" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：SD卡挂载目录为/run/media/，支持热插拔。</strong></p>
<p>1、上电前将TF卡插入开发板底板的TF卡插槽，上电启动，运行命令dmesg，终端有如下打印信息：</p>
<p><img alt="Image" src="_images/1720417683449_f07dfde3_d452_4fdf_a8ae_951a7a0680f8.png" /></p>
<p>2、查看挂载目录：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;mmcblk1&quot;
/dev/mmcblk1p1 on /run/media/mmcblk1p1 type vfat (rw,relatime,gid=6,fmask=0007,dmask=0007,allow_utime=0020,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>3、写入测试：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/mmcblk1p1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 10.1131 s, 51.8 MB/s
</pre></div>
</div>
<p>4、读取测试：</p>
<p>⚠️** 注意：为确保数据准确，请重启开发板后测试读取速度。**</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/mmcblk1p1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 6.47351 s, 81.0 MB/s
</pre></div>
</div>
<p>5、TF卡使用完成后，在弹出TF卡前，需要使用umount卸载TF</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/mmcblk1p1
</pre></div>
</div>
<p>⚠️ <strong>注意：退出TF卡挂载路径后再插拔TF卡。</strong></p>
</section>
<section id="id39">
<h3>4.2.11  eMMC 测试<a class="headerlink" href="#id39" title="Link to this heading"></a></h3>
<p>OK3562平台eMMC默认运行于HS200模式200MHz时钟，下面简单测试eMMC的读写速度，以读写ext4文件系统为例。</p>
<p>写入测试：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 5.18805 s, 101 MB/s
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>读取测试：
</pre></div>
</div>
<p>⚠️ **注意：**为确保数据准确，请重启开发板后测试读取速度。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/test of=/dev/null bs=1M iflag=direct
500+0 records in 
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 2.1929 s, 239 MB/s
</pre></div>
</div>
</section>
<section id="usb">
<h3>4.2.12  USB鼠标测试<a class="headerlink" href="#usb" title="Link to this heading"></a></h3>
<p><font style="color:#000000;">将USB鼠标接入OK3562平台的usb接口，使用dmesg命令， 串口终端的打印信息如下：</font></p>
<p><img alt="Image" src="_images/1720417683670_7cdcbb8f_c940_4f83_b982_1be0d074afc9.png" /></p>
<p><font style="color:#000000;">此时在屏幕上出现箭头光标，鼠标已可正常使用。</font></p>
</section>
<section id="usb2-0">
<h3>4.2.13  USB2.0<a class="headerlink" href="#usb2-0" title="Link to this heading"></a></h3>
<p>OK3562支持一个USB2.0接口用户可以在任何一个板载USB HOST接口上连接USB鼠标、USB键盘、U盘等设备，并支持以上设备的热插拔。这里用挂载U盘为例进行演示，目前U盘测试支持到32G，32G以上并未测试。</p>
<p>终端会打印关于U盘的信息，由于存在很多种U盘，显示的信息可能会有差别：</p>
<ol class="arabic simple">
<li><p>开发板启动后，连接USB接口u盘到开发板的USB host接口，默认log打印信息较低，不会有打印信息。可以使用dmesg命令查看，找到u盘相关信息</p></li>
</ol>
<p><img alt="Image" src="_images/1720417683973_a87d10d3_9892_451c_881f_e0d62c9a7589.png" /></p>
<ol class="arabic simple" start="2">
<li><p>查看挂载目录：</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda1&quot;
/dev/sda1 on /run/media/sda1 type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>可以看到/run/media/sda1为USB存储设备的挂载路径</p>
<ol class="arabic simple" start="3">
<li><p>查看U盘内容(这里的sda1以实际U盘分区名称为准)</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>写入测试，写入速度受限于具体的存储设备：</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 28.8323 s, 18.2 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>读取测试：</p></li>
</ol>
<p>⚠️** 注意：**为确保数据准确，请重启开发板后测试读取速度。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 25.0096 s, 21.0 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>U盘使用完成后，在拔出U盘前，需要使用umount卸载</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p>⚠️ <strong>注意：退出U盘挂载路径后再插拔U盘。</strong></p>
</section>
<section id="id40">
<h3>4.2.14  USB转四串口测试<a class="headerlink" href="#id40" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：</strong></p>
<ul class="simple">
<li><p><strong>支持XR21V1414 USB转串口芯片驱动；</strong></p></li>
<li><p><strong>USB转四串口为选配模块，如若有需求，请联系飞凌嵌入式销售人员。</strong></p></li>
</ul>
<p>1、开发板上电启动后，通过USB HOST接口连接USB转四串口模块，终端上会有如下打印信息：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[  836.286313] usb 1-1.1: new full-speed USB device number 4 using ehci-platform
[  836.502174] usb 1-1.1: New USB device found, idVendor=04e2, idProduct=1414, bcdDevice= 0.03
[  836.502245] usb 1-1.1: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[  836.504546] cdc_xr_usb_serial 1-1.1:1.0: This device cannot do calls on its own. It is not a modem.
[  836.505009] cdc_xr_usb_serial 1-1.1:1.0: ttyXR_USB_SERIAL0: USB XR_USB_SERIAL device
[  836.509062] cdc_xr_usb_serial 1-1.1:1.2: This device cannot do calls on its own. It is not a modem.
[  836.509550] cdc_xr_usb_serial 1-1.1:1.2: ttyXR_USB_SERIAL1: USB XR_USB_SERIAL device
[  836.513236] cdc_xr_usb_serial 1-1.1:1.4: This device cannot do calls on its own. It is not a modem.
[  836.513640] cdc_xr_usb_serial 1-1.1:1.4: ttyXR_USB_SERIAL2: USB XR_USB_SERIAL device
[  836.517896] cdc_xr_usb_serial 1-1.1:1.6: This device cannot do calls on its own. It is not a modem.
[  836.518322] cdc_xr_usb_serial 1-1.1:1.6: ttyXR_USB_SERIAL3: USB XR_USB_SERIAL device
</pre></div>
</div>
<p><font style="color:#000000;">2、通过lsusb查看usb设备状态：</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# lsusb
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 002: ID 1a40:0101
Bus 002 Device 001: ID 1d6b:0001
Bus 001 Device 004: ID 04e2:1414                             //该转换芯片的vid和pid
</pre></div>
</div>
<p><font style="color:#000000;">查看dev下是否产生串口节点：</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@3562:/# ls /dev/ ttyXRUSB*
/dev/ttyXRUSB0  /dev/ttyXRUSB1  /dev/ttyXRUSB2  /dev/ttyXRUSB3 
</pre></div>
</div>
<p><font style="color:#000000;">3、扩展的四个串口与设备节点的对应关系如下图：</font></p>
<p><img alt="Image" src="_images/1720417684392_b4febc8c_5724_401d_a9a4_20165a269a9c.png" /></p>
<p><font style="color:#000000;">4、测试方法参考“</font>3.2.8  UART测试<font style="color:#000000;">”。</font></p>
</section>
<section id="usb3-0-usb-otg">
<h3>4.2.15  USB3.0 / USB otg 测试<a class="headerlink" href="#usb3-0-usb-otg" title="Link to this heading"></a></h3>
<p>OK3562-C的USB3.0 / USB otg和PCIE为复用功能，其中USB3.0只支持Host模式，USB otg只支持USB2.0</p>
<p>要测试其中USB功能（包括USB3.0、USB otg）需要将开发板底板S3拨码开关拨到OFF位置，同时在Uboot菜单中将combphy_type设置为usb，参考4.2.29  Uboot菜单。</p>
<p>USB Host模式可以插入普通的USB 设备，Device模式可以用它来进行刷机，ADB文件传输、调试。</p>
<section id="usb3-0-host">
<h4>4.2.15.1  USB3.0 Host模式：<a class="headerlink" href="#usb3-0-host" title="Link to this heading"></a></h4>
<p>1、将开发板底板S2拨码开关拨到ON位置。</p>
<p>2、修改设备树arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi（出厂镜像默认如此，无需修改）将usbdrd_dwc3节点的dr_mode属性修改为“host”，如下图所示：</p>
<p><img alt="Image" src="_images/1720417684738_0e90d5d6_c5d0_4484_806e_8fc65da65829.png" /></p>
<p>3、重新编译镜像并烧录到开发板。</p>
<p>4、将开发板底板S3拨码开关拨到OFF位置，同时在Uboot菜单中将combphy_type设置为usb。</p>
<p>5、将USB3.0的U盘接到开发板USB3.0-A口（丝印P33）识别到U盘：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   23.576515] usb 4-1: new SuperSpeed Gen 1 USB device number 2 using xhci-hcd
[   23.604126] usb 4-1: New USB device found, idVendor=0bda, idProduct=9210, bcdDevice=20.01
[   23.604191] usb 4-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[   23.604219] usb 4-1: Product: Ugreen Storage Device
[   23.604242] usb 4-1: Manufacturer: Ugreen
[   23.604263] usb 4-1: SerialNumber: 012938051990
[   23.668038] scsi host0: uas
[   24.080889] scsi 0:0:0:0: Direct-Access     INTEL SS DPEKKW256G8      1.00 PQ: 0 ANSI: 6
[   24.097622] sd 0:0:0:0: [sda] 500118192 512-byte logical blocks: (256 GB/238 GiB)
[   24.098918] sd 0:0:0:0: [sda] Write Protect is off
[   24.101591] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   24.103837] sd 0:0:0:0: [sda] Optimal transfer size 33553920 bytes
[   24.134645]  sda: sda1
[   24.158935] sd 0:0:0:0: [sda] Attached SCSI disk
</pre></div>
</div>
<p>6、查看挂载目录：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda&quot;
/dev/sda1 on /run/media/sda1 type fuseblk (rw,nosuid,nodev,relatime,user_id=0,group_id=0,default_permissions,allow_other,blksize=4096)
</pre></div>
</div>
<p>可以看到/run/media/sda为USB存储设备的挂载路径。</p>
<p>7、查看U盘内容(这里的sda以实际U盘分区名称为准)：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 1048576
-rwxrwxrwx 1 root root 1073741824 Jan  1  1980 test1g
</pre></div>
</div>
<p>8、写入测试，写入速度受限于具体的存储设备：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 3.60126 s, 146 MB/s
</pre></div>
</div>
<p>9、读取测试：</p>
<p>⚠️** 注意：**为确保数据准确，请重启开发板后测试读取速度。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 1.15981 s, 452 MB/s
</pre></div>
</div>
<p>10、U盘使用完成后，在拔出U盘前，需要使用umount卸载：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p>⚠️ <strong>注意：退出U盘挂载路径后再插拔U盘。</strong></p>
</section>
<section id="usb-otg">
<h4>4.2.15.2  USB otg模式：<a class="headerlink" href="#usb-otg" title="Link to this heading"></a></h4>
<p>1、修改设备树arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi的usbdrd_dwc3节点，如下图所示</p>
<p><img alt="Image" src="_images/1720417684997_25146b9b_12f9_40f2_a6e2_3938db623bb8.png" /></p>
<p>2、重新编译镜像并烧录到开发板</p>
<p>3、将开发板底板S3拨码开关拨到OFF位置，同时在Uboot菜单中将combphy_type设置为usb</p>
<p>Host模式需要将开发板底板S2拨码开关拨到ON位置</p>
<p>此时在P33 USB-A座插上U盘即可识别，U盘速度为USB2.0（如果没有自动识别，将S2拨到OFF再拨回ON即可）</p>
<p>将U盘接到开发板USB3.0-A口（丝印P33）识别到U盘：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   48.317004] usb 3-1: new high-speed USB device number 3 using xhci-hcd
[   48.460355] usb 3-1: New USB device found, idVendor=05e3, idProduct=0747, bcdDevice= 8.19
[   48.460422] usb 3-1: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[   48.460449] usb 3-1: Product: USB Storage
[   48.460470] usb 3-1: Manufacturer: Generic
[   48.460491] usb 3-1: SerialNumber: 000000000819
[   48.463227] usb-storage 3-1:1.0: USB Mass Storage device detected
[   48.465081] scsi host0: usb-storage 3-1:1.0
[   49.492654] scsi 0:0:0:0: Direct-Access     Generic  STORAGE DEVICE   0819 PQ: 0 ANSI: 6
[   49.940084] sd 0:0:0:0: [sda] 124735488 512-byte logical blocks: (63.9 GB/59.5 GiB)
[   49.941418] sd 0:0:0:0: [sda] Write Protect is off
[   49.942545] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   49.970261] sd 0:0:0:0: [sda] Attached SCSI removable disk
</pre></div>
</div>
<p>Device模式需要将开发板底板S2拨码开关拨到OFF位置</p>
<p>用USB-A转USB-C线连接电脑和开发板P35 USB-typec座，重启开发板即可</p>
<p><img alt="Image" src="_images/1720417685359_31c37e27_76b7_4b1f_acd6_01f0c457490a.png" /></p>
<p>瑞芯微开发工具显示“发现一个ADB设备”，即可通过adb pull从开发板下载文件到电脑，通过adb push从电脑向开发板上传文件。</p>
<p>在win10 PowerShell终端中打开RKDevTool_Release/bin目录</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Windows PowerShell
版权所有 (C) Microsoft Corporation。保留所有权利。

尝试新的跨平台 PowerShell https://aka.ms/pscore6

PS C:\Users\Acer&gt; cd D:\rk3562\RKDevTool\RKDevTool_Release\bin
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe devices
List of devices attached
38bc17e18f2c57bc        device

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe push D:\test.mp3 /home/forlinx/
D:\test.mp3: 1 file pushed. 13.8 MB/s (4818092 bytes in 0.334s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe pull /home/forlinx/test
/home/forlinx/test: 1 file pulled. 0.0 MB/s (29 bytes in 0.002s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; ls .\test

    目录: D:\rk3562\RKDevTool\RKDevTool_Release\bin

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         2024/4/25     12:14             29 test

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
</pre></div>
</div>
</section>
</section>
<section id="pcie">
<h3>4.2.16  PCIE测试<a class="headerlink" href="#pcie" title="Link to this heading"></a></h3>
<p>⚠️ 注意：OK3562 PCIE2.0和USB3.0 不支持两个同时使用。</p>
<p>OK3562-C板卡有1个PCIE2.0 。</p>
<p>系统上电前将PCIE模块插入底板PCIE卡槽。将开发板底板S3拨码开关拨到ON位置，同时在Uboot菜单中将combphy_type设置为pcie，参考“4.2.29  Uboot菜单”。</p>
<p>上电后启动后，通过lspci可以看到对应设备枚举成功。</p>
<p><img alt="Image" src="_images/1720417685571_e8818454_b153_4e87_9125_15dba69fe57a.png" /></p>
<p>由于pcie设备类型较多，有可能默认不被内核支持需自行添加编译设备对应的驱动程序。</p>
<p>以E1000 pcie网卡举例，linux内核默认已经包含该驱动。插入网卡后上电启动可以看到枚举信息，并出现以太网接口：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# dmesg | grep e1000e
[    4.529083] e1000e: Intel(R) PRO/1000 Network Driver
[    4.529098] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.
[    4.773406] e1000e 0000:01:00.0: enabling device (0000 -&gt; 0002)
[    4.773709] e1000e 0000:01:00.0: Interrupt Throttling Rate (ints/sec) set to dynamic conservative mode
[    4.819936] e1000e 0000:01:00.0 0000:01:00.0 (uninitialized): registered PHC clock
[    4.872420] e1000e 0000:01:00.0 eth2: (PCI Express:2.5GT/s:Width x1) 68:05:ca:1a:e4:33
[    4.872429] e1000e 0000:01:00.0 eth2: Intel(R) PRO/1000 Network Connection
[    4.872452] e1000e 0000:01:00.0 eth2: MAC: 3, PHY: 8, PBA No: E46981-008
root@ok3562:/#
root@ok3562:/# ifconfig eth2
eth2      Link encap:Ethernet  HWaddr 68:05:CA:1A:E4:33
          BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:92 Memory:fc2c0000-fc2e0000
root@ok3562:/#
</pre></div>
</div>
<p><font style="color:#000000;">使用iperf3测试带宽：</font></p>
<p><img alt="Image" src="_images/1720417685858_f60dff6f_4e41_4ed9_924d_2744215572b1.png" /></p>
<p><img alt="Image" src="_images/1720417686181_e408c980_ad76_4e34_ab64_143ccb996e04.png" /></p>
</section>
<section id="id41">
<h3>4.2.17  以太网配置<a class="headerlink" href="#id41" title="Link to this heading"></a></h3>
<p>OK3562-C板载一个千兆网卡和一个百兆网卡，插入网线连接网络的情况下，出厂时eth0默认配置为静态IP。</p>
<p>配置文件的路径为：/etc/network/interfaces,设置动态ip的配置文件内容为</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>auto eth0
iface eth0 inet dhcp
</pre></div>
</div>
<p>设置静态配置ip，以下以eth0设置ip为192.168.0.232为例：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>auto eth0
iface eth0 inet static
address 192.168.0.232
netmask 255.255.255.0
gateway 192.168.0.1
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>参数</strong></p></th>
<th class="head"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>iface</p></td>
<td><p>用于指定需要固定IP的网卡</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>address</p></td>
<td><p>用于指定需要固定的IP地址</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>netmask</p></td>
<td><p>用于设置子网掩码</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>gateway</p></td>
<td><p>用于指定网关</p></td>
</tr>
</tbody>
</table>
<p>设置完后使用sync文件同步指令，重启开发板或者重启服务，配置生效。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ifdown -a
root@ok3562:~# ifup -a
</pre></div>
</div>
</section>
<section id="id42">
<h3>4.2.18  WIFI 测试<a class="headerlink" href="#id42" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：由于网络环境的不同，所以在您做本实验时，请根据实际情况进行设置。</strong></p>
<p>OK3562平台支持WIFI蓝牙二合一模块：6221A-SRC（RTL8821CS）。</p>
<ul class="simple">
<li><p>**STA 模式 **</p></li>
</ul>
<p>该模式即作为一个站点，连接到无线网络中。以下测试中，路由器采用wpa加密方式，连接的wifi热点名称为：“H3C_708_5G”，密码为：“123456785.”。由于网络环境的不同，用户在进行本次测试时，请根据实际情况进行设置：</p>
<p>1、开发板终端中输入如下命令：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_wifi.sh -I wlan0 -s H3C_708_5G -p 123456785.
</pre></div>
</div>
<p>命令中相关参数含义如下：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>参数</strong></p></th>
<th class="head"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>-I</p></td>
<td><p>不同wifi模块所用参数不同，指定WIFI设备名称</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>-s</p></td>
<td><p>连接的实际wifi热点名称。</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>-p</p></td>
<td><p>后接参数Password指要连接的实际wifi热点的密码；<br/>如果当前热点没有密码，-p后参数写NONE。</p></td>
</tr>
</tbody>
</table>
<p>串口打印如下：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_wifi.sh -i wlan0 -s H3C_708_5G -p 123456785.
[ 1493.212161] rk_gmac-dwmac ffa80000.ethernet eth0: Link is Down
wifi wlan0
ssid H3C_708_5G
pasw 123456785.
waiting...
[ 1494.995715] start_addr=(0x8000), end_addr=(0x10000), buffer_size=(0x8000), smp_number_max=(4096)
[ 1498.300935] RTW: wlan0- hw port(0) mac_addr =5c:c5:63:66:df:27
[ 1498.331973] ========== ACS (VER-3) ==========
[ 1498.332037] Best 24G Channel:2
[ 1498.332058] Best 5G Channel:40
[ 1498.332058]
[ 1498.339855] RTW: rtw_set_802_11_connect(wlan0)  fw_state=0x00000008
[ 1498.558831] RTW: start auth
[ 1498.559981] RTW: auth success, start assoc
[ 1498.561641] RTW: assoc success
[ 1498.563384] RTW: ============ STA [14:51:7e:62:fc:87]  ===================
[ 1498.563432] RTW: mac_id : 0
[ 1498.563440] RTW: wireless_mode : 0x24
[ 1498.563446] RTW: mimo_type : 0
[ 1498.563455] RTW: static smps : N
[ 1498.563463] RTW: bw_mode : 80MHz, ra_bw_mode : 80MHz
[ 1498.563471] RTW: rate_id : 10
[ 1498.563480] RTW: rssi : -1 (%), rssi_level : 0
[ 1498.563488] RTW: is_support_sgi : Y, is_vht_enable : Y
[ 1498.563495] RTW: disable_ra : N, disable_pt : N
[ 1498.563501] RTW: is_noisy : N
[ 1498.563509] RTW: txrx_state : 0
[ 1498.563517] RTW: curr_tx_rate : CCK_1M (L)
[ 1498.563524] RTW: curr_tx_bw : 20MHz
[ 1498.563532] RTW: curr_retry_ratio : 0
[ 1498.563538] RTW: ra_mask : 0x00000000003ffff0
[ 1498.563538]
[ 1498.564273] RTW: recv eapol packet 1/4
[ 1498.565226] RTW: send eapol packet 2/4
[ 1498.569129] RTW: recv eapol packet 3/4
[ 1498.569586] RTW: send eapol packet 4/4
[ 1498.570094] RTW: set pairwise key camid:0, addr:14:51:7e:62:fc:87, kid:0, type:AES
[ 1498.570729] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[ 1498.571163] RTW: set group key camid:1, addr:14:51:7e:62:fc:87, kid:1, type:TKIP
udhcpc: started, v1.36.0
udhcpc: broadcasting discover
udhcpc: broadcasting select for 192.168.1.30, server 192.168.1.1
udhcpc: lease of 192.168.1.30 obtained from 192.168.1.1, lease time 86400
deleting routers
adding dns 192.168.1.1
connect ok
root@ok3562:/#
</pre></div>
</div>
<p>2、检查是否能ping外网，在终端中输入如下命令：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping baidu.com -c 4                 //指定ping4次
PING baidu.com (39.156.66.10) 56(84) bytes of data.
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=1 ttl=51 time=14.6 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=2 ttl=51 time=8.19 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=3 ttl=51 time=8.86 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=4 ttl=51 time=7.93 ms

--- baidu.com ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3005ms
rtt min/avg/max/mdev = 7.925/9.884/14.565/2.723 ms
root@ok3562:/#
</pre></div>
</div>
<ul class="simple">
<li><p><strong>AP 模式</strong></p></li>
</ul>
<p>📖 <strong>说明：进行该项测试前需要保证千兆网卡eth0连网，并且网络正常，这样手机连接热点后才能上网；</strong></p>
<ol class="arabic simple">
<li><p>查看驱动加载状态</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsmod                    							   //查看已加载的模块
Module               Size      	Used by    Tainted: G
8821cs               2793472  	0
</pre></div>
</div>
<ol class="arabic simple">
<li><p>配置热点</p></li>
</ol>
<p>WiFi热点名称：OK3562_WIFI_2.4G_AP</p>
<p>密码：12345678</p>
<p>热点名称和密码和通过/etc/hostapd-2.4g.conf文件查看。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_hostap.sh
[  705.365653] wlan: Received disassociation request on mlan0, reason: 3
[  705.365693] wlan: REASON: (Deauth) Sending STA is leaving (or has left) IBSS or ESS
hostapd: no process found
Stopping dnsmasq (via systemctl): dnsmasq.service.
Configuration file: /etc/hostapd-2.4g.conf
[  706.760789] uap0: Skip change virtual intf on uap: type=3
Using interface uap0 with hwaddr 14:13:33:63:f0:73 and ssid &quot;OK3562_WIFI_2.4G_AP&quot;
[  706.777774] wlan: Starting AP
[  706.778591] Get ht_cap from beacon ies: 0xc
[  706.779094] fw doesn&#39;t support 11ax
[  706.789807] wlan: AP started
[  706.791465] Set AC=3, txop=47 cwmin=3, cwmax=7 aifs=1
[  706.793782] Set AC=2, txop=94 cwmin=7, cwmax=15 aifs=1
[  706.796067] Set AC=0, txop=0 cwmin=15, cwmax=63 aifs=3
[  706.798295] Set AC=1, txop=0 cwmin=15, cwmax=1023 aifs=7
uap0: interface state UNINITIALIZED-&gt;ENABLED
uap0: AP-ENABLED
Starting dnsmasq (via systemctl): dnsmasq.service.
</pre></div>
</div>
</section>
<section id="id43">
<h3>4.2.19  蓝牙测试<a class="headerlink" href="#id43" title="Link to this heading"></a></h3>
<p>OK3562开发板中底板6221A-SRC（RTL8821CS）模块，集成了蓝牙功能，本节演示使用手机与开发板之间通过蓝牙进行数据传输，支持蓝牙4.2。</p>
<p>1、蓝牙配置</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# bluetoothctl                                      //打开bluez蓝牙工具
[NEW] Controller B8:4D:43:12:43:6F forlinx [default]
Agent registered
[bluetooth]# power on                                            //启动蓝牙设备
Changing power on succeeded
[bluetooth]# pairable on                                         //设置为配对模式
Changing pairable on succeeded
[bluetooth]# discoverable on                                     //设置为可发现模式
[bluetooth]# [ 1547.589820] Bluetooth: hu ffffffc066059c00 retransmitting 1 pkts
Changing discoverable on succeeded
[CHG] Controller B8:4D:43:12:43:6F Discoverable: yes
[bluetooth]# agent on                                            //启动代理
Agent is already registered
[bluetooth]# default-agent                                       //设置当前代理为默认
Default agent request successful
</pre></div>
</div>
<p>2、开发板被动配对</p>
<p>此时打开PC蓝牙搜索，会出现一个“OK3562”的设备，选择配对</p>
<p><img alt="Image" src="_images/1720417686511_83a2a7db_1e20_494c_a796_882d0345561d.png" /></p>
<p>同时开发板上打印信息如下，输入yes</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[NEW] Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F
Request confirmation
[agent] Confirm passkey 678054 (yes/no): yes
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 Modalias: bluetooth:v0006p0001d0A00
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001000-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: c7f94713-891e-496a-a0e7-983a0946126e
[CHG] Device 2C:DB:07:C7:4F:F6 ServicesResolved: yes
[CHG] Device 2C:DB:07:C7:4F:F6 Paired: yes
Authorize service
[agent] Authorize service 0000110e-0000-1000-8000-00805f9b34fb (yes/no): yes
Authorize service
[agent] Authorize service 0000110d-0000-1000-8000-00805f9b34fb (yes/no): yes
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001000-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110d-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111e-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 2C:DB:07:C7:4F:F6 UUIDs: c7f94713-891e-496a-a0e7-983a0946126e
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>查看和移除连接设备：
</pre></div>
</div>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# devices		                                        //查看连接的蓝牙设备
Device 2C:DB:07:C7:4F:F6 DESKTOP-VND9V1F 
[bluetooth]# remove 2C:DB:07:C7:4F:F6                           //移除设备
</pre></div>
</div>
<p>3、开发板主动配对</p>
<p>除了被动配对，也可以在开发板终端发送主动配对的请求</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# scan on	                                               //搜索可被发现蓝牙
Discovery started
[CHG] Controller 14:13:33:63:EF:72 Discovering: yes
[NEW] Device FC:E8:00:CF:42:E3 EDIFIER BLE
[NEW] Device 5C:50:51:B5:85:4B 5C-50-51-B5-85-4B
[CHG] Device FC:E8:00:CF:42:E3 RSSI: -92
[bluetooth]# scan off		                                          //停止搜索
[bluetooth]# pair 2C:DB:07:C7:4F:F6                                 //配对蓝牙
Attempting to pair with 2C:DB:07:C7:4F:F6
[CHG] Device 2C:DB:07:C7:4F:F6 Connected: yes
Request confirmation
[agent] Confirm passkey 745068 (yes/no): yes	                       //口令确认
</pre></div>
</div>
<p>4、开发板接收文件</p>
<p>配对成功后，在PC端，可以使用蓝牙发送文件至OK3562-C中。</p>
<p><img alt="Image" src="_images/1720417686733_a7c68469_02b0_45da_af81_789c0d2f93e3.png" /></p>
<p>接收到的文件保存在/tmp目录。</p>
<p>5、开发板发送文件</p>
<p>同样，可以OK3562-C可以发送文件至手机端，测试方法如下：</p>
<p>6、OK3562-C 开发板发送文件至手机端，测试方法如下：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_obexctl.sh		                             //开启obexctl
[NEW] Client /org/bluez/obex
[obex]# connect 2C:DB:07:C7:4F:F6	                     					 //连接需要通讯的蓝牙的MAC
Attempting to connect to 2C:DB:07:C7:4F:F6
[NEW] Session /org/bluez/obex/client/session1 [default]
[NEW] ObjectPush /org/bluez/obex/client/session1
Connection successful
[C4:E1:A1:BA:A4:9E]# send /userdata/media/test.mp3	      		   //发送文件
</pre></div>
</div>
<p><img alt="Image" src="_images/1720417686966_110c7eef_9546_4571_a9b6_be4a5f29c69c.png" /></p>
<p><font style="color:#000000;">手机将收到传入文件请求，点击接收，进行文件传输。</font></p>
</section>
<section id="id44">
<h3>4.2.20  4G<a class="headerlink" href="#id44" title="Link to this heading"></a></h3>
<p>📖 <strong>说明：</strong></p>
<ul class="simple">
<li><p><strong>使用物联网卡测试时，需确认模组固件版本，低版本固件不支持，需升级</strong>EC20<strong>固件</strong></p></li>
<li><p><strong>有些物联网卡拨号时需要设置专用账号和密码，用户需根据实际情况调整指令</strong></p></li>
<li><p><strong>可使用quectelCM –help指令查看相关参数含义</strong></p></li>
</ul>
<p>OK3562支持4G模块EC20，开发板启动前接入4G模块 ，并插入SIM卡，启动开发板。</p>
<p>1、连接好模块，开发板和模块上电后，可通过lsusb指令查看USB状态</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsusb
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 004: ID 0bda:9210
Bus 001 Device 003: ID 17ef:608d
Bus 001 Device 002: ID 1a40:0101
Bus 002 Device 001: ID 1d6b:0001 
Bus 002 Device 003: ID 2c7c:0125	                             //EC20的VID和PID
</pre></div>
</div>
<p>/dev下查看设备节点状态：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls /dev/ttyUSB*
/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2  /dev/ttyUSB3
</pre></div>
</div>
<p>2、设备识别成功后，可进行拨号上网测试。fltest_quectel.sh会调用quectelCM，具体指令可查看/usr/bin/fltest_quectel.sh</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_quectel.sh &amp;
</pre></div>
</div>
<p>打印信息如下：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
eth1: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
[04-02_01:24:28:549] Quectel_QConnectManager_Linux_V1.6.0.24
[04-02_01:24:28:550] Find /sys/bus/usb/devices/2-1 idVendor=0x2c7c idProduct=0x125, bus=0x002, dev=0x003
[04-02_01:24:28:559] Auto find qmichannel = /dev/qcqmi0
[04-02_01:24:28:563] Auto find usbnet_adapter = usb0
[04-02_01:24:28:568] netcard driver = GobiNet, driver version = V1.6.2.14
[04-02_01:24:28:574] Modem works in QMI mode
[04-02_01:24:28:631] Get clientWDS = 7
[04-02_01:24:28:663] Get clientDMS = 8
[04-02_01:24:28:695] Get clientNAS = 9
[04-02_01:24:28:727] Get clientUIM = 10
[04-02_01:24:28:759] Get clientWDA = 11
[04-02_01:24:28:790] requestBaseBandVersion EM05CEFCR06A02M1G_ND
[04-02_01:24:28:918] requestGetSIMStatus SIMStatus: SIM_READY
[04-02_01:24:28:950] requestGetProfile[1] 3gnet///0
[04-02_01:24:28:982] requestRegistrationState2 MCC: 460, MNC: 1, PS: Attached, DataCap: LTE
[04-02_01:24:29:015] requestQueryDataCall IPv4ConnectionStatus: DISCONNECTED
[04-02_01:24:29:016] ifconfig usb0 0.0.0.0
[04-02_01:24:29:031] ifconfig usb0 down
[04-02_01:24:29:110] requestSetupDataCall WdsConnectionIPv4Handle: 0x86cfbe60
[04-02_01:24:29:271] ifconfig usb0 up
[04-02_01:24:29:292] No default.script found, it should be in &#39;/usr/share/udhcpc/&#39; or &#39;/etc//udhcpc&#39; depend on your udhcpc version!
[04-02_01:24:29:298] busybox udhcpc -f -n -q -t 5 -i usb0
udhcpc: started, v1.30.1
udhcpc: sending discover
udhcpc: sending select for 10.117.151.120
udhcpc: lease of 10.117.151.120 obtained, lease time 7200
[04-02_01:24:29:440] ip -4 address flush dev usb0
[04-02_01:24:29:450] ip -4 address add 10.117.151.120/28 dev usb0
[04-02_01:24:29:465] ip -4 route add default via 10.117.151.121 dev usb0 
</pre></div>
</div>
<p>3、测试前，查看相关配置。</p>
<p>查看网关配置：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         _gateway        0.0.0.0         UG    0      0        0 wwan0
10.52.86.48     0.0.0.0         255.255.255.248 U     0      0        0 wwan0
172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
</pre></div>
</div>
<p>查看DNS配置：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /etc/resolv.conf
nameserver 123.123.123.123 # IPV4 usb0
nameserver 123.123.123.124 # IPV4 usb0
nameserver 8.8.8.8
nameserver 114.114.114.114
nameserver 127.0.0.53
</pre></div>
</div>
<p>4、设置DNS 与路由之后，可ping 域名：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping -I usb0 www.baidu.com -c 3									//指定usb0网卡ping3次
PING www.a.shifen.com (110.242.68.4) from 10.52.86.52 wwan0: 56(84) bytes of data.
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=1 ttl=55 time=47.4 ms
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=2 ttl=55 time=54.2 ms
64 bytes from 110.242.68.4 (110.242.68.4): icmp_seq=3 ttl=55 time=40.2 ms
--- www.a.shifen.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 40.239/47.300/54.259/5.724 ms
</pre></div>
</div>
</section>
<section id="id45">
<h3>4.2.21  放/录音测试<a class="headerlink" href="#id45" title="Link to this heading"></a></h3>
<p><font style="color:#000000;">OK3562提供1路标准3.5mm音频插座1个XH2.0-2P白色插座P22引出,可驱动8Ω 喇叭，最高输出功率为 1W，在进行放音测试前，请将准备好的耳机插入听筒接口，或将扬声器插入底板上的对应插槽上进行测试。</font></p>
<p>播放声音：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# gst-play-1.0 /userdata/media/test.mp3
</pre></div>
</div>
<p><font style="color:#000000;">默认通过扬声器播放，插入耳机之后扬声器自动静音。</font></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   MIC输入：
</pre></div>
</div>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# arecord -l 
**** List of CAPTURE Hardware Devices ****
card 0: rockchiprk809 [rockchip-rk809], device 0: dailink-multicodecs rk817-hifi-0 [dailink-multicodecs rk817-hifi-0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
root@ok3562:~# arecord -d 5 -f cd -t wav test1.wav    		//采集声音5秒，并保存为wav格式
root@ok3562:~# aplay  test1.wav   												//播放采集声音
</pre></div>
</div>
</section>
<section id="lcd">
<h3>4.2.22  LCD 背光调节<a class="headerlink" href="#lcd" title="Link to this heading"></a></h3>
<p>背光的亮度设置范围为（0–255），255表示亮度最高，0表示关闭背光亮度。在mipi dsi0上接上mipi屏幕后，上电启动。进入系统后在终端输入如下命令进行背光测试。</p>
<p>1、查看当前屏幕背光值：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/backlight/backlight/brightness
200                                           			//当前背光值为200
</pre></div>
</div>
<p>2、背光熄灭：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 0 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
<p>3、LCD背光亮起：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 125 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
</section>
<section id="can">
<h3>4.2.23  CAN测试<a class="headerlink" href="#can" title="Link to this heading"></a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>OK3562-C平台有两路CAN总线接口，CAN 连线方式： CAN 的 H 端子与其它 CAN 设备 H 端连接；CAN的 L 端子与其它 CAN 设备 L 端子连接。
</pre></div>
</div>
<p>短接CAN0和CAN1，短接P36端口中的CAN1_L和CAN0_L和CAN1_H和CAN0_H 排针，如图：</p>
<p><img alt="Image" src="_images/1720417687199_550c88e4_6a67_4cac_a4bb_574c91738d6d.png" /></p>
<p>在开发板终端执行如下命令：</p>
<p><font style="color:#000000;">1、查看CAN网络设备：</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig -a
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:78

can1      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:79
</pre></div>
</div>
<p>2、设备CAN设备波特率：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ip link set can0 type can bitrate 500000
root@ok3562:/# ip link set can1 type can bitrate 500000
</pre></div>
</div>
<p>设置can0和can1设备波特率为500000。</p>
<p>3、打开can设备：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig can0 up
root@ok3562:/# ifconfig can1 up
</pre></div>
</div>
<p>4、客户端发送数据服务端接收数据：</p>
<p>can0设备当服务端（服务端先执行以下命令）：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# candump can0 &amp;
</pre></div>
</div>
<p>can1设备当客户端（客户端发送数据）：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# cansend can1 1F334455#1122334455667788
  can0  1F334455   [8]  11 22 33 44 55 66 77 88
</pre></div>
</div>
</section>
<section id="id46">
<h3>4.2.24  睡眠唤醒测试<a class="headerlink" href="#id46" title="Link to this heading"></a></h3>
<p><font style="color:#000000;">OK3562平台支持睡眠唤醒。</font></p>
<p><font style="color:#000000;">短按电源键，效果如下：</font></p>
<p><img alt="Image" src="_images/1720417687430_a21640b3_a104_4022_8c6c_581949640d76.png" /></p>
<p>再次短按电源键进行唤醒：</p>
<p><img alt="Image" src="_images/1720417687633_79d430f3_c733_4c1b_bcb1_88c730ff7c8a.png" /></p>
</section>
<section id="mcu">
<h3>4.2.25  MCU测试<a class="headerlink" href="#mcu" title="Link to this heading"></a></h3>
<p><font style="color:#000000;">OK3562支持M0核测试。请联系保定飞凌要相关测试资料以及编写方法。</font></p>
<p><font style="color:#000000;">下面是使用UBOOT启动M0核固件通过调试串口输出内容一条内容。</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>VOP VP0 enable Esmart0[1280x800-&gt;1280x800@0x0] fmt[1] addr[0x3e1ef000]
CLK: (sync kernel. arm: enter 600000 KHz, init 1008000 KHz, kernel 0N/A)
  apll 600000 KHz
  gpll 1188000 KHz
  vpll 710000 KHz
  hpll 983039 KHz
  cpll 1000000 KHz
  dpll 666000 KHz
  aclk_bus 198000 KHz
  hclk_bus 198000 KHz
  pclk_bus 99000 KHz
  aclk_peri 198000 KHz
  hclk_peri 148500 KHz
  pclk_peri 99000 KHz
## Loading loadables from FIT Image at 3c2c7040 ...
   Trying &#39;mcu&#39; loadables subimage
     Description:  mcu
     Type:         Standalone Program
     Compression:  uncompressed
     Data Start:   0x3c2c7e40
     Data Size:    61952 Bytes = 60.5 KiB
     Architecture: ARM
     Load Address: 0x07b00000
     Entry Point:  unavailable
     Hash algo:    sha256
     Hash value:   b44067ea73f44adc1e96b31854949b12f3bcca3903335a89d7ddfa1972f89f45
   Verifying Hash Integrity ... sha256+ OK
   Loading loadables from 0x3c2c7e40 to 0x07b00000
Welcome to forlinx OK3562 board mcu000 ...O 这条语句为M0核打印出来信息
K
Net:   eth0: ethernet@ffa80000, eth1: ethernet@ffb30000
</pre></div>
</div>
</section>
<section id="sqlite3">
<h3>4.2.26  SQLite3测试<a class="headerlink" href="#sqlite3" title="Link to this heading"></a></h3>
<p>SQLite3是一款轻型的数据库，是遵守ACID的关系型数据库管理系统，占用资源低。OK3562-C开发板移植的是3.21.0版本的sqlit3。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# sqlite3
SQLite version 3.36.0 2021-06-18 18:36:39
Enter &quot;.help&quot; for usage hints.
Connected to a transient in-memory database.
Use &quot;.open FILENAME&quot; to reopen on a persistent database.
sqlite&gt; create table tbl1 (one varchar(10), two smallint);	//创建表tbl1
sqlite&gt; insert into tbl1 values(&#39;hello!&#39;,10);								//tbl1表内插入数据hello!|10
sqlite&gt; insert into tbl1 values(&#39;goodbye&#39;, 20);							//tbl1表内插入数据goodbye|20
sqlite&gt; select * from tbl1;																	//查询表tbl1中内容
hello!|10
goodbye|20
sqlite&gt; delete from tbl1 where one = &#39;hello!&#39;;							//删除数据
sqlite&gt; select * from tbl1;																	//查询表tbl1中内容
goodbye|20
sqlite&gt; .quit			                                					//退出数据库（或使用.exit命令）
root@ok3562:/#
</pre></div>
</div>
</section>
<section id="id47">
<h3>4.2.27  SPI测试<a class="headerlink" href="#id47" title="Link to this heading"></a></h3>
<p>OK3562平台底板原理图中引出SPI测试引脚，位于底板P8。</p>
<p><img alt="Image" src="_images/1720417687846_dfff0204_6506_4d62_9a85_c3de443e5b21.png" /></p>
<p>短接SPI2_MOSI_MO和SPI2_MISO_M0引脚。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_spidev_test -D /dev/spidev2.0
 spi mode: 0
bits per word: 8
max speed: 500000 Hz (500 KHz)

FF FF FF FF FF FF
40 00 00 00 00 95
FF FF FF FF FF FF
FF FF FF FF FF FF
FF FF FF FF FF FF
DE AD BE EF BA AD
F0 0D
PASS 
</pre></div>
</div>
</section>
<section id="id48">
<h3>4.2.28  添加开机自启动脚本<a class="headerlink" href="#id48" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>临时添加自启动脚本。</strong></p></li>
</ul>
<p>1、修改/etc/autorun.sh即可：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# cat /etc/autorun.sh
#! /bin/sh
# env

# user command

exit 0
</pre></div>
</div>
<p>2、重启板卡验证。</p>
<ul class="simple">
<li><p><strong>在烧写镜像里添加开机自启动脚本：</strong></p></li>
</ul>
<p>修改 buildroot/board/forlinx/ok3562/fs-overlay/etc/autorun.sh 即可。</p>
<p>重新编译打包并烧写镜像。</p>
</section>
<section id="id49">
<h3>4.2.29  Uboot菜单<a class="headerlink" href="#id49" title="Link to this heading"></a></h3>
<p>在uboot启动过程中出现如下信息时按空格即可进入Uboot菜单：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
</pre></div>
</div>
<p>菜单中各项前面的数字即对应的操作命令：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>输入0，进入uboot的shell</p>
<p>输入1，开发板重启</p>
<p>输入2，修改显示方式，Display type将在“mipi”“lvds”“none”三者中循环显示</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mipi，即在mipi显示，适配飞凌7寸电容触摸1024*600 mipi屏幕

lvds，即在lvds显示，适配飞凌10.1寸电容触摸1280*800 lvds屏幕

none，即关闭显示
</pre></div>
</div>
<p>输入3，修改amp工作状态，amp start将在“on”“off”两者中循环显示</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>on，即开启amp

off，即关闭amp
</pre></div>
</div>
<p>输入4，修改combphy的复用功能，combphy type将在“usb”“pcie”“none”三者中循环显示</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usb，即combphy复用为usb功能

pcie，即combphy复用为pcie功能

none，即关闭combphy功能
</pre></div>
</div>
<p>通过uboot菜单修改之后自动保存，无需手动保存。</p>
</section>
<section id="npu">
<h3>4.2.30  NPU测试<a class="headerlink" href="#npu" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# rknn_common_test /usr/share/model/RK3562/mobilenet_v1.rknn /usr/share/model/dog_224x224.jpg
rknn_api/rknnrt version: 1.6.0 (9a7b5d24c@2023-12-13T17:31:11), driver version: 0.9.3
model input num: 1, output num: 1
input tensors:
  index=0, name=input, n_dims=4, dims=[1, 224, 224, 3], n_elems=150528, size=150528, fmt=NHWC, type=INT8, qnt_type=AFFINE, zp=0, scale=0.007812
output tensors:
  index=0, name=MobilenetV1/Predictions/Reshape_1, n_dims=2, dims=[1, 1001, 0, 0], n_elems=1001, size=1001, fmt=UNDEFINED, type=INT8, qnt_type=AFFINE, zp=-128, scale=0.003906
custom string: 
Begin perf ...
   0: Elapse Time = 7.60ms, FPS = 131.56
---- Top5 ----
0.929688 - 156
0.007812 - 155
0.003906 - 205
0.000000 - 0
0.000000 - 1 
</pre></div>
</div>
<p>📂 NPU使用参考资料：01-软件资料\05-原厂资料\docs\cn\Common\NPU\</p>
</section>
</section>
</section>
<section id="id50">
<h1>05_OK3562平台多媒体测试<a class="headerlink" href="#id50" title="Link to this heading"></a></h1>
<p>OK3562平台音视频部分应用层软件采用的是Gstreamer，支持硬件编解码。本节所有的示例均是基于Gstreamer命令行的形式。如果您需要带界面的播放器，您也可以使用qt的多媒体类，同样支持硬编解，可以参考Qt测试章节。</p>
<p>OK3562平台内部有一个视频处理单元VPU，支持以下格式的视频硬编解：</p>
<p>视频解码： H264, H265, VP9，最大支持4Kx2K&#64;30fps</p>
<p>视频编码： H264，最大支持1080p&#64;60fps</p>
<p>OK3562平台硬件编解码参数表：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Video Decoder</p></th>
<th class="head text-center"><p>Format</p></th>
<th class="head text-center"><p>Profile</p></th>
<th class="head text-center"><p>Resolution</p></th>
<th class="head text-center"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p></p></td>
<td class="text-center"><p>H.265</p></td>
<td class="text-center"><p>Main Profile yuv420&#64;L5.0</p></td>
<td class="text-center"><p>4096×2304</p></td>
<td class="text-center"><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p></p></td>
<td class="text-center"><p>H.264</p></td>
<td class="text-center"><p>Main Profile yuv400/yuv420/yuv422/&#64;L5.0</p></td>
<td class="text-center"><p>1920x1080</p></td>
<td class="text-center"><p>60 fps</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p></p></td>
<td class="text-center"><p>VP9</p></td>
<td class="text-center"><p>Profile0 yuv420&#64;L5.0</p></td>
<td class="text-center"><p>4096x2304</p></td>
<td class="text-center"><p>30fps</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Video Encoder</p></td>
<td class="text-center"><p>H.264</p></td>
<td class="text-center"><p>High Profile level4.2</p></td>
<td class="text-center"><p>1920x1080</p></td>
<td class="text-center"><p>60 fps</p></td>
</tr>
</tbody>
</table>
<section id="id51">
<h2>5.1 音频和视频播放体验<a class="headerlink" href="#id51" title="Link to this heading"></a></h2>
<section id="gst-play">
<h3>5.1.1  使用gst-play播放器播放视频和音频<a class="headerlink" href="#gst-play" title="Link to this heading"></a></h3>
<p>Gplay 是基于 Gstreamer 实现的音视频播放器，能够自动根据硬件自动选择合适的插件进行音视频播放，运行也十分简单。</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-play-1.0 /userdata/media/1080p_60fps_h264-30S.mp4
//播放带声音视频文件，由耳机放音测试
Press &#39;k&#39; to see a list of keyboard shortcuts.
Now playing /userdata/media/1080p_60fps_h265-30S.mp4
Redistribute latency...
Redistribute latency...
Redistribute latency...
0:00:30.0 / 0:00:30.0
Reached end of play list.
</pre></div>
</div>
</section>
<section id="gst-launch">
<h3>5.1.2  使用gst-launch 播放视频<a class="headerlink" href="#gst-launch" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux ! queue ! h265parse ! mppvideodec ! waylandsink
//仅播放视频
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
0:00:01.0 / 0:00:30.0 (3.6 %)
</pre></div>
</div>
</section>
<section id="id52">
<h3>5.1.3  使用gst-launch 播放音频<a class="headerlink" href="#id52" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/test.mp3 ! id3demux ! mpegaudioparse ! mpg123audiodec ! alsasink device=plughw:0,0
//仅播放音频，由耳机放音测试，
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.665159268
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="id53">
<h3>5.1.4  使用gst-launch 播放视频和音频<a class="headerlink" href="#id53" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux name=dec dec. ! queue ! h265parse ! mppvideodec ! waylandsink dec. ! queue ! decodebin ! alsasink device=plughw:0,0
//播放带声音视频文件，由耳机放音测试
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
^Chandling interrupt. (2.6 %)
</pre></div>
</div>
</section>
</section>
<section id="id54">
<h2>5.2 视频硬编码<a class="headerlink" href="#id54" title="Link to this heading"></a></h2>
<p>OK3562最大支持H264 1920x1080&#64;60fps。</p>
<section id="h-264">
<h3>5.2.1  视频硬编码H.264<a class="headerlink" href="#h-264" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 videotestsrc num-buffers=600 ! video/x-raw,framerate=60/1,width=1920,height=1080 ! mpph264enc ! h264parse ! mp4mux ! filesink location=test.mp4
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
0:00:18.2 / 0:00:20.0 (91.0 %)
</pre></div>
</div>
</section>
</section>
<section id="id55">
<h2>5.3 视频硬解码<a class="headerlink" href="#id55" title="Link to this heading"></a></h2>
<p>OK3562支持 H264，H265视频硬解码，H264解码器支持1920x1080&#64;60fps，H265解码器支持4K&#64;30fps。</p>
<p>OK3562使用mppvideodec组件进行视频硬解码，它的输出格式为：NV12，I420，YV12。</p>
<section id="h264">
<h3>5.3.1  解码并播放H264格式视频<a class="headerlink" href="#h264" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264-30S.mp4 ! qtdemux ! h264parse ! mppvideodec ! waylandsink 
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="id56">
<h3>5.3.2  解码并播放H264格式视频带音频<a class="headerlink" href="#id56" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264-30S.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h264parse ! mppvideodec ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="h265">
<h3>5.3.3  解码并播放H265格式视频<a class="headerlink" href="#h265" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux ! h265parse ! mppvideodec ! waylandsink
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="id57">
<h3>5.3.4  解码并播放H265格式视频带音频<a class="headerlink" href="#id57" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_h265-30S.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h265parse ! mppvideodec ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="vp9">
<h3>5.3.5  解码并播放VP9格式视频<a class="headerlink" href="#vp9" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_vp9-30S.mp4 ! qtdemux name=dec dec. ! queue ! vp9parse ! mppvideodec ! waylandsink
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
<section id="id58">
<h3>5.3.6  解码并播放VP9格式视频带音频<a class="headerlink" href="#id58" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=/userdata/media/4k_30fps_vp9-30S.mp4 ! qtdemux name=dec dec. ! queue ! vp9parse ! mppvideodec ! waylandsink dec. ! queue ! decodebin ! alsasink device=plughw:0,0
Pipeline is PREROLLING ...
[ 1705.438451] dwhdmi-rockchip fde80000.hdmi: Rate 266625000 missing; computeRedistribute latency. ..
NRedistribute latency...
 dynamically
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstAudioSinkClock
0:00:01.4 / 0:00:30.0 (4.8 %)
</pre></div>
</div>
</section>
</section>
<section id="id59">
<h2>5.4 摄像头测试<a class="headerlink" href="#id59" title="Link to this heading"></a></h2>
<p>OK3562支持OV13855 MIPI摄像头，同时也支持UVC摄像头。首先来测试一下UVC摄像头，这里以罗技C270进程测试，将USB摄像头插入开发板，将自动安装uvc驱动。</p>
<section id="uvc-camera">
<h3>5.4.1  UVC Camera测试<a class="headerlink" href="#uvc-camera" title="Link to this heading"></a></h3>
<p><strong>5.4.1.1摄像头识别检测和格式支持查询</strong></p>
<p>摄像头识别检测</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices	//查看设备节点，可见/dev/video40&amp;41为USB摄像头节点
rk rkisp-statistics (platform: rkisp):
        /dev/video38
        /dev/video39

rkcif-mipi-lvds (platform:rkcif):
        /dev/media0
        /dev/media1
        /dev/media2
        ……..

WIN2 USB2.0 PC Camera: WIN2 USB (usb-fed00000.usb-1.3):
        /dev/video40
        /dev/video41
        /dev/media4
格式支持查询
root@ok3562:/# v4l2-ctl --list-formats-ext -d /dev/video40 	//查看摄像头支持的格式
ioctl: VIDIOC_ENUM_FMT
        Type: Video Capture

        [0]: &#39;YUYV&#39; (YUYV 4:2:2)
                Size: Discrete 640x480
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 352x288
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 320x240
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 176x144
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 160x120
                        Interval: Discrete 0.033s (30.000 fps)
</pre></div>
</div>
<p><strong>5.4.1.2摄像头采集格式查询和修改</strong></p>
<p>摄像头采集格式查询</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl -V -d /dev/video40
Format Video Capture:
        Width/Height      : 640/480
        Pixel Format      : &#39;YUYV&#39; (YUYV 4:2:2)
        Field             : None
        Bytes per Line    : 1280
        Size Image        : 614400
        Colorspace        : sRGB
        Transfer Function : Rec. 709
        YCbCr/HSV Encoding: ITU-R 601
        Quantization      : Default (maps to Limited Range)
        Flags             :
</pre></div>
</div>
<p><strong>5.4.1.3摄像头图像预览和拍照</strong></p>
<p>摄像头图像预览</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video40 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480 ! waylandsink
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:19.3 / 99:99:99.
</pre></div>
</div>
<p>摄像头拍照</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video40 num-buffers=1 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:01.224944503
Setting pipeline to NULL ...
Freeing pipeline ...
//执行完成后查看根目录下生成的pic.jpg文件即可
</pre></div>
</div>
</section>
<section id="ov13855">
<h3>5.4.2  OV13855 测试<a class="headerlink" href="#ov13855" title="Link to this heading"></a></h3>
<p>对于OV13855 等raw sensor，每一个sensor对应5个设备节点：</p>
<p><img alt="Image" src="_images/1720421272482_6c8a7410_95c6_48b7_a81e_fb49d3e3668d.png" /></p>
<p>Mainpath，指 Rockchip ISP的一个输出节点，可输出全分辨率图像，一般用来拍照，抓取 Raw 图。</p>
<p>Self Path，指 Rockchip ISP的一个输出节点，最高只能输出1080p分辨率，一般用作预览。</p>
<p>Statistics 3A 统计。</p>
<p>Input-params 3A 参数设置。</p>
<p>OV13855 的测试方法与UVC Camera的测试方法基本相同。本节测试以OV13855为例，</p>
<p><strong>5.4.2.1 摄像头识别检测和格式支持查询</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices			//查看设备节点
rkcif (platform:rkcif-mipi-lvds):
        /dev/video0
        /dev/video1
        /dev/video2
        /dev/video3
        /dev/video4
        /dev/video5
        /dev/video6
        /dev/video7
        /dev/video8
        /dev/video9
        /dev/video10

rkisp_mainpath (platform:rkisp-vir0):
/dev/video33
        /dev/video34
        /dev/video35
        /dev/video36
        /dev/video37
        /dev/media3

WIN2 USB2.0 PC Camera: WIN2 USB (usb-fed00000.usb-1.3):
        /dev/video40
        /dev/video41
        /dev/media4 
</pre></div>
</div>
<p><strong>5.4.2.2 摄像头预览</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 ! video/x-raw, format=NV12, width=640, height=480, framerate=30/1 ! waylandsink
Setting pipeline to PAUSED ...
Using mplane plugin for capture

Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:16.3 / 99:99:99.
</pre></div>
</div>
<p><strong>5.4.2.3 摄像头拍照</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 num-buffers=1 ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  138.542571] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.175951625
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@ok3562:/# ls -l pic.jpg
-rw-r--r-- 1 root root 15273 Apr 29 15:14 pic.jpg
root@ok3562:/#
</pre></div>
</div>
<p><strong>5.4.2.4录制H264格式视频</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video33 num-buffers=100 ! video/x-raw,format=NV12, width=640,height=480 ! tee name=t ! queue ! mpph264enc ! queue ! h264parse ! qtmux ! filesink location=13855_h264.mp4 t. ! queue ! waylandsink
//摄像头预览时编码H264
Setting pipeline to PAUSED ...
Using mplane plugin for capture
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSyst[emClock
  424.198360] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.200657] rkisp_hw fdcb0000.rkisp: set isp clk = 396000000Hz
[  424.204220] rkcif-mipi-lvds: stream[0] start streaming
[  424.204242] rkcifhw fdce0000.rkcif: Only support one master device, master device count 0
[  424.204260] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.204962] rkcif-mipi-lvds: Allocate dummy buffer, size: 0x00436000
[  424.205013] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream on, src_sd: 00000000d34b3a12, sd_name:rockchip-csi2-dphy0
[  424.205021] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream ON
i  424.205043] rockchip-csi2-dphy csRedistribute latency...
 2-dcphy0: csi2_dphy_update_sensor_mbusRedistribute latency...
 fail to get dphy param, used default value
[  424.205051] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.205066] rockchip-csi2-dphy0: dphy0, data_rate_mbps 600
05073] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_update_sensor_mbus fail to get dphy param, used default value
[  424.205344] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:1, dphy0
[  424.205352] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:1, dphy0
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.382733006
Setting pipeline to NULL ...
[  427.611291] rkcif-mipi-lvds: stream[0] start stopping, total mode 0x1, cur 0x1
Freeing pipeline ...
[  427.614953] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream off, src_sd: 00000000d34b3a12, sd_name:rockchip-csi2-dphy0
[  427.615000] rockchip-mipi-csi2 fdd10000.mipi0-csi2: stream OFF
[  427.615827] rockchip-csi2-dproot@ok3562:/# hy csi2-dcphy0: csi2_dphy_s_stream_stop stream stop, dphy0
[  427.615868] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:0, dphy0
[  427.615934] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:0, dphy0
[  427.635242] rkcif-mipi-lvds: stream[0] stopping finished
[  427.674994] rkisp rkisp0-vir1: first params buf queue
root@ok3562:/# ls -l 13855_h264.mp4          //查看是否生成H264文件
-rw-r--r-- 1 root root 417871 Apr 29 15:15 13855_h264.mp4
root@ok3562:/#
</pre></div>
</div>
<p><strong>5.4.2.5播放H264格式视频</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 filesrc location=13855_h264.mp4 ! qtdemux ! queue ! h264parse ! mppvideodec ! waylandsink
//播放H264视频
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.303679248
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="ov5645">
<h3>5.4.3  OV5645 测试<a class="headerlink" href="#ov5645" title="Link to this heading"></a></h3>
<p>OV5645 的测试方法与UVC Camera的测试方法基本相同。本节测试以OV5645为例，</p>
<p><strong>5.4.2.1 摄像头识别检测和格式支持查询</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# v4l2-ctl --list-devices			//查看设备节点
rkisp-statistics (platform: rkisp):
        /dev/video38
        /dev/video39

rkcif-mipi-lvds (platform:rkcif):
        /dev/media0
        /dev/media1
        /dev/media2

rkcif (platform:rkcif-mipi-lvds3): //根据接入的位置可能是 rkcif-mipi-lvds2	
        /dev/video22
        /dev/video23
        /dev/video24
        /dev/video25
        /dev/video26
        /dev/video27
        /dev/video28
        /dev/video29
        /dev/video30
        /dev/video31
        /dev/video32

rkisp_mainpath (platform:rkisp-vir0):
        /dev/video33
        /dev/video34
        /dev/video35
        /dev/video36
        /dev/video37
        /dev/media3

</pre></div>
</div>
<p><strong>5.4.2.2 摄像头预览</strong></p>
<p>rkcif-mipi-lvds2  对应 /dev/video11<br />
rkcif-mipi-lvds3 对应 /dev/video22</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video22 ! video/x-raw, format=NV12, width=640, height=480, framerate=30/1 ! waylandsink
Setting pipeline to PAUSED ...
Using mplane plugin for capture

Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
0:00:16.3 / 99:99:99.
</pre></div>
</div>
<p><strong>5.4.2.3 摄像头拍照</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# gst-launch-1.0 v4l2src device=/dev/video22 num-buffers=1 ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  138.542571] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.175951625
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@ok3562:/# ls -l pic.jpg
-rw-r--r-- 1 root root 15273 Apr 29 15:14 pic.jpg
root@ok3562:/#
</pre></div>
</div>
</section>
</section>
<section id="gst">
<h2>5.5 Gst定点测试<a class="headerlink" href="#gst" title="Link to this heading"></a></h2>
<p>OK3562 当前gstreamer支持播放视频定点功能，输入以下命令测试：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#  gst-launch-1.0 uridecodebin uri=file:///oem/SampleVideo_1280x720_5mb.mp4 ! fpsdisplaysink name=fps0 video-sink=&quot;waylandsink render-rectangle=\&quot;&lt;120,180,480,300&gt;\&quot;&quot; text-overlay=false &amp; gst-launch-1.0 uridecodebin uri=file:///userdata/media/1080p_60fps_h264-30S.mp4 ! fpsdisplaysink name=fps1 video-sink=&quot;waylandsink render-rectangle=\&quot;&lt;600,180,480,300&gt;\&quot;&quot; text-overlay=false
</pre></div>
</div>
<p>屏幕显示结果：</p>
<p><img alt="Image" src="_images/1720421272829_c87e727b_555c_4c7f_8bd4_ab16f9a33c94.jpeg" /></p>
<p>⚠️ <strong>注意：多路解码播放H264 1080P60和H265 4KP30视频出现播放卡顿，解码能力不足造成的。</strong></p>
</section>
<section id="gpu">
<h2>5.6 GPU测试<a class="headerlink" href="#gpu" title="Link to this heading"></a></h2>
<p>OK3562支持GPU测试：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# glmark2-es2-wayland --fullscreen --visual-config=&#39;a=0:buf=24&#39; --annotate    //全屏测试
arm_release_ver: g13p0-01eac0, rk_so_ver: 10
=======================================================
    glmark2 2023.01
=======================================================
    OpenGL Information
    GL_VENDOR:      ARM
    GL_RENDERER:    Mali-G52
    GL_VERSION:     OpenGL ES 3.2 v1.g13p0-01eac0.98c5dad4e3309b873e3189000b74ea36
    Surface Config: buf=24 r=8 g=8 b=8 a=0 depth=24 stencil=0 samples=0
    Surface Size:   1024x600 fullscreen
=======================================================
[build] use-vbo=false: FPS: 723 FrameTime: 1.385 ms
[build] use-vbo=true: FPS: 766 FrameTime: 1.306 ms
[texture] texture-filter=nearest: FPS: 1005 FrameTime: 0.996 ms
[texture] texture-filter=linear: FPS: 999 FrameTime: 1.001 ms
[texture] texture-filter=mipmap: FPS: 1014 FrameTime: 0.987 ms
[shading] shading=gouraud: FPS: 560 FrameTime: 1.788 ms
[shading] shading=blinn-phong-inf: FPS: 710 FrameTime: 1.409 ms
[shading] shading=phong: FPS: 563 FrameTime: 1.777 ms
[shading] shading=cel: FPS: 543 FrameTime: 1.842 ms
[bump] bump-render=high-poly: FPS: 309 FrameTime: 3.240 ms
[bump] bump-render=normals: FPS: 995 FrameTime: 1.005 ms
[bump] bump-render=height: FPS: 921 FrameTime: 1.087 ms
[effect2d] kernel=0,1,0;1,-4,1;0,1,0;: FPS: 390 FrameTime: 2.567 ms
[effect2d] kernel=1,1,1,1,1;1,1,1,1,1;1,1,1,1,1;: FPS: 151 FrameTime: 6.663 ms
[pulsar] light=false:quads=5:texture=false: FPS: 968 FrameTime: 1.034 ms
[desktop] blur-radius=5:effect=blur:passes=1:separable=true:windows=4: FPS: 214 FrameTime: 4.690 ms
[desktop] effect=shadow:windows=4: FPS: 674 FrameTime: 1.486 ms
[buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 140 FrameTime: 7.171 ms
[buffer] columns=200:interleave=false:update-dispersion=0.9:update-fraction=0.5:update-method=subdata: FPS: 139 FrameTime: 7.239 ms
[buffer] columns=200:interleave=true:update-dispersion=0.9:update-fraction=0.5:update-method=map: FPS: 223 FrameTime: 4.486 ms
[ideas] speed=duration: FPS: 350 FrameTime: 2.857 ms
[jellyfish] &lt;default&gt;: FPS: 410 FrameTime: 2.442 ms
[terrain] &lt;default&gt;: FPS: 32 FrameTime: 32.203 ms
[shadow] &lt;default&gt;: FPS: 304 FrameTime: 3.298 ms
[refract] &lt;default&gt;: FPS: 82 FrameTime: 12.213 ms
[conditionals] fragment-steps=0:vertex-steps=0: FPS: 965 FrameTime: 1.037 ms
[conditionals] fragment-steps=5:vertex-steps=0: FPS: 693 FrameTime: 1.445 ms
[conditionals] fragment-steps=0:vertex-steps=5: FPS: 931 FrameTime: 1.075 ms
[function] fragment-complexity=low:fragment-steps=5: FPS: 783 FrameTime: 1.279 ms
[function] fragment-complexity=medium:fragment-steps=5: FPS: 598 FrameTime: 1.673 ms
[loop] fragment-loop=false:fragment-steps=5:vertex-steps=5: FPS: 783 FrameTime: 1.279 ms
[loop] fragment-steps=5:fragment-uniform=false:vertex-steps=5: FPS: 785 FrameTime: 1.274 ms
[loop] fragment-steps=5:fragment-uniform=true:vertex-steps=5: FPS: 687 FrameTime: 1.457 ms
=======================================================
                                  glmark2 Score: 587
=======================================================
root@ok3562:/#  glmark2-es2-wayland --visual-config=&#39;a=0:buf=24&#39; --annotate    //正常显示测试
arm_release_ver: g13p0-01eac0, rk_so_ver: 10
=======================================================
    glmark2 2023.01
=======================================================
    OpenGL Information
    GL_VENDOR:      ARM
    GL_RENDERER:    Mali-G52
    GL_VERSION:     OpenGL ES 3.2 v1.g13p0-01eac0.98c5dad4e3309b873e3189000b74ea36
    Surface Config: buf=24 r=8 g=8 b=8 a=0 depth=24 stencil=0 samples=0
    Surface Size:   1280x800 fullscreen
=======================================================
[build] use-vbo=false: FPS: 561 FrameTime: 1.783 ms
[build] use-vbo=true:
</pre></div>
</div>
</section>
</section>
<section id="id60">
<h1>06_烧写系统<a class="headerlink" href="#id60" title="Link to this heading"></a></h1>
<p>OK3562-C开发板目前支持OTG和TF卡两种烧写方式。在用户资料中提供了相应的烧写工具，用户可选择任意一种方式进行镜像烧写。</p>
<section id="otg">
<h2>6.1 OTG烧写系统<a class="headerlink" href="#otg" title="Link to this heading"></a></h2>
<section id="id61">
<h3>6.1.1  OTG驱动安装<a class="headerlink" href="#id61" title="Link to this heading"></a></h3>
<p>📂**<font style="color:#000000;"> 路径：</font>**<strong>02-用户资料\01-软件资料\04-工具\DriverAssitant_v5.1.1.zip</strong></p>
<p>将上述路径文件解压到任意目录，以管理员权限运行</p>
<p>打开DriverInstall.exe 程序。</p>
<p><img alt="Image" src="_images/1720418372654_458dfae6_fe39_4e90_a884_b5c76a0d4659.png" /></p>
<p>点击“驱动安装”。</p>
<p><img alt="Image" src="_images/1720418372998_55b52477_7160_490a_9674_11b926fabb18.png" /></p>
</section>
<section id="id62">
<h3>6.1.2  OTG完全烧写测试<a class="headerlink" href="#id62" title="Link to this heading"></a></h3>
<p><strong>6.1.2.1 RKDevTool烧写测试</strong></p>
<p><font style="color:#000000;"> </font>📂** ****<font style="color:#000000;">路径：02-用户资料\01-软件资料\04-工具&lt;/font&gt;**<strong>RKDevTool_v3.19_for_window.zip</strong></p>
<p>这是瑞芯微提供的一款开发工具，使用前将其解压到全英文路径下，用Type-C线连接开发板TYPE-C0口和主机，按住开发板的recovery键不要松开，然后按一下reset键系统复位，大约两秒后松开recovery键。瑞芯微开发工具上将提示发现loader设备。</p>
<p><strong>⚠️</strong>** 注意：**</p>
<ul class="simple">
<li><p><strong>识别设备的操作是开发板上电时recovery按键是按下的状态。</strong></p></li>
<li><p><strong>理论上瑞芯微开发工具解压目录随意，但有用户反馈瑞芯微开发工具解压目录需为全英文，若打开开发工具后与下图不一致，请考虑解压其在全英文目录下。</strong></p></li>
<li><p><strong>烧写OTG口位于开发板背面</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1750401730638_6b297042_f5f5_4712_af81_990a5731fe0f.jpeg" /></p>
<p>打开瑞芯微开发工具：</p>
<p><img alt="Image" src="_images/1720418373238_ded5a5da_5ef9_4382_9150_a8fccf92f309.png" /></p>
<p>点击“升级固件”选项卡，点击“固件”按钮选择完整的升级镜像update.img。程序将对固件进行解析，因此需要等待一会。</p>
<p><img alt="Image" src="_images/1720418373446_68f5d3be_afdc_4bdd_ac64_912497c76847.png" /></p>
<p>点击“切换”等待板子进入LOADER模式，点击“升级”按钮进行升级。</p>
<p><img alt="Image" src="_images/1720418373687_e2ee7480_1523_4f1d_bba1_4836940ca5d5.png" /></p>
<p><strong>MASKROM模式介绍</strong></p>
<p><font style="color:#000000;">如果loader损坏无法进入Loader模式时，可以按住BOOT键然后按复位键进入maskrom模式进行烧写。</font></p>
<p><img alt="Image" src="_images/1720418373917_956f9b2d_54fd_48c6_b4e6_069c8e8488af.png" /></p>
<p>此时系统将提示发现一个maskrom设备，烧写流程与loader模式一致，最好使用update.img烧写。</p>
<p><strong>⚠️</strong>** 注意：**</p>
<ul class="simple">
<li><p><strong>maskrom模式下不要点击“设备分区表”，为无效操作。</strong></p></li>
<li><p><strong>maskrom模式下单独烧写不会清除UBOOT环境变量。</strong></p></li>
</ul>
<p><strong>6.1.2.2 FactoryTool烧写测试</strong></p>
<p>FactoryTool是工厂批量OTG烧写时使用到的工具，其不需要读取镜像，可以批量烧写，另外其可烧写某些较大的镜像文件，若RKDevTool兼容性不满足时，亦可尝试该方式，使用前将其解压到全英文路径下，用Type-C线连接开发板和主机，按住开发板的recovery键不要松开，然后按一下reset键系统复位，大约两秒后松开recovery键。瑞芯微开发工具上将提示发现loader设备。</p>
<p><strong>⚠️</strong>** 注意：**</p>
<ul class="simple">
<li><p><strong>识别设备的操作是开发板上电时recovery按键是按下的状态。</strong></p></li>
<li><p>****<strong>理论上解压目录随意，但有用户反馈瑞芯微开发工具解压目录需为全英文，若打开开发工具后与下图不一致，请考虑解压其在全英文目录下。</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1720418374138_b6613de5_c4e7_4c57_ab8b_6d41d165e5c3.png" /></p>
<p>点击选择固件，点击启动，此时识别到loader设备将自动开始烧写。</p>
<p><img alt="Image" src="_images/1720418374490_7567e660_737f_4218_8cfa_3b7c9be57d3e.png" /></p>
<p><img alt="Image" src="_images/1720418374807_bd102591_2c43_41da_83b9_2f7307977ca3.png" /></p>
</section>
<section id="id63">
<h3>6.1.3  OTG分步烧写测试<a class="headerlink" href="#id63" title="Link to this heading"></a></h3>
<p>在研发阶段每次都进行全部烧写是非常耗时的，因此这里介绍一下使用OTG烧写工具进行单独分区烧写的方法。</p>
<p>⚠️** 注意：识别设备的操作是开发板上电时recover按键是按下的状态。**</p>
<p>首先，在OK3562-linux-source编译完成后，在rockdev目录可以找到单独的分区镜像。</p>
<p>以单独烧写boot.img（包含设备树和开机logo）为例，演示烧写方法。</p>
<p>使用Type-C线连接开发板和主机，按住recover键然不要松开然后按reset键系统复位，大约两秒后松开recover键。系统将提示发现loader设备。</p>
<p><img alt="Image" src="_images/1720418375129_89e69424_6ab1_40ec_a113_86f2437728d9.png" /></p>
<p>点击“设备分区表”按钮，将自动读取分区地址，提示是否更新下载地址，点击“是”，会报读分区表成功，点击分区右测区域选择分区镜像，并勾选分区。</p>
<p><img alt="Image" src="_images/1720418375357_f7716cdb_bc83_43f5_83d6_717dff0f7495.png" /></p>
<p>点击“执行”按钮将自动烧写并重新启动。</p>
</section>
</section>
<section id="id64">
<h2>6.2  TF卡烧写系统<a class="headerlink" href="#id64" title="Link to this heading"></a></h2>
<p>烧写TF卡制作与烧写测试。</p>
<p>⚠️** 注意：测试TF卡容量最大为32G，使用32G以上TF卡可能会烧写失败。**</p>
<p>将用户资料工具目录的SDDiskTool_v1.76.zip拷贝到windows任意目录。以管理员权限运行SD_Firmware_Tool.exe。</p>
<p><img alt="Image" src="_images/1720418375573_2107d191_e37e_4a2c_96d2_442aa8f4b146.png" /></p>
<p>选择磁盘设备，勾选“固件升级”，并选择update.img。点击开始创建。</p>
<p><img alt="Image" src="_images/1720418375797_0c018d08_61c7_48e9_9500_72810e54ce87.png" /></p>
<p><img alt="Image" src="_images/1720418375991_5a26cc1b_497f_4931_a823_0e988fadcaf9.png" /></p>
<p>将TF卡插入开发板并启动，系统将自动进入烧写流程。烧写完成后屏幕和串口都将提示：</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>此时，拔出TF卡，系统自动重新启动(请勿直接断电)。</p>
<p>批量生产时，可以根据核心板的心跳灯来判断烧写是否完成，烧写过程中的心跳灯变化如下：</p>
<ol class="arabic simple">
<li><p>内核启动阶段：心跳灯模式，规律的间歇性闪烁。</p></li>
<li><p>烧写准备阶段：EMMC指示灯，熄灭。</p></li>
<li><p>烧写进行阶段：EMMC指示灯，常亮。</p></li>
<li><p>烧写完成阶段：心跳灯模式，规律的间歇性闪烁。</p></li>
</ol>
<p>烧写状态串口信息：</p>
<p><img alt="Image" src="_images/1720418376211_f91fcd64_b82e_4d38_bd9d_aa4f8d390be0.png" /></p>
<p>若移除TF未自动重启，手动重启也可完成烧写。烧写过程中请耐心等待。</p>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>