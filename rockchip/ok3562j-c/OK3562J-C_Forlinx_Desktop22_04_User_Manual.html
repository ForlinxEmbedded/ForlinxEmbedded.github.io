

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forlinx Desktop 22.04_User‚Äôs Manual_V1.0 &mdash; Forlinx Embedded RK3562 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok3562j-c/OK3562J-C_Forlinx_Desktop22_04_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Forlinx Desktop 22.04_User‚Äôs Compilation Manual_V1.0" href="OK3562J-C_Forlinx_Desktop22_04_User_Compilation_Manual.html" />
    <link rel="prev" title="Linux5.10.198_User‚Äôs Compilation Manual_V1.0" href="OK3562J-C_Linux5_10_198_User_Compilation_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_User_Hardware_Manual.html">User‚Äôs Hardware Manual_V1.2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Linux5_10_198_User_Manual.html">Linux5.10.198_User‚Äôs Manual_V1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Linux5_10_198_User_Compilation_Manual.html">Linux5.10.198_User‚Äôs Compilation Manual_V1.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Forlinx Desktop 22.04_User‚Äôs Manual_V1.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-c-development-board-description">1. OK3562-C Development Board Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-linux-5-10-198-system-software-resources">1.1 Introduction to Linux 5.10.198 System Software Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emmc-memory-partition-table">1.2 EMMC Memory Partition Table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fast-startup">2. Fast Startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-startup">2.1 Preparation Before Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-driver-installation">2.2 Related Driver Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-login">2.3 Serial Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-connection-settings">2.3.1 Serial Port Connection Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-login">2.3.2 Serial Port Login</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-login-methods">2.4 Network Login Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#network-connection-test">2.4.1 Network Connection Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ssh-server">2.4.2 SSH server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ftp-and-sftp">2.4.3 FTP and SFTP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screen-switching">2.5 Screen Switching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-control-of-uboot-menu">2.5.1 Dynamic Control of Uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-device-tree-specification">2.5.2 Kernel Device Tree Specification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-shutdown">2.6 System Shutdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-platform-function-test">3. OK3562 Platform Function Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interface-function-test">3.1 Interface Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-interface-functions">3.1.1 Introduction to Interface Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#virtual-keyboard-settings">3.1.2 Virtual Keyboard Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-test">3.1.3 WiFi Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#browser-test">3.1.4 Browser Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bluetooth-test">3.1.5 Bluetooth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-manager"><strong>3.1.6 File Manager</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-function-test">3.2 Command Line Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-information-queries">3.2.1 System Information Queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fm-test">3.2.2  FM Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temperature-test">3.2.3 Temperature Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#watchdog-test">3.2.4 Watchdog Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtc-function-test">3.2.5 RTC Function Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-test">3.2.6 Key Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uart-test">3.2.7 UART Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adc-test">3.2.8 ADC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tf-card-test">3.2.9 TF Card Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#emmc-test">3.2.10 eMMC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-mouse-test">3.2.11 USB Mouse Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb2-0">3.2.12 USB2.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-to-four-serial-port-test">3.2.13 USB to Four Serial Port Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb3-0-usb-otg-test">3.2.14 USB3.0 / USB OTG Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pcie-test">3.2.15 PCIE Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ethernet-configuration">3.2.16 Ethernet Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">3.2.17 WiFi Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">3.2.18 Bluetooth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g">3.2.19 4G</a></li>
<li class="toctree-l4"><a class="reference internal" href="#play-record-test">3.2.20 Play/Record Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lcd-backlight-adjustment">3.2.21 LCD Backlight Adjustment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#can-test">3.2.22 CAN Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spi-test">3.2.23 SPI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uboot-menu">3.2.24 Uboot Menu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3562-platform-multimedia-test">4. OK3562 Platform Multimedia Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-video-playback">4.1 Audio &amp; Video Playback</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-and-video-with-gst-play">4.1.1 Playing Audio and Video With Gst-play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-with-gst-launch">4.1.2 Playing Video With gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-with-gst-launch">4.1.3 Playing Audio With Gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-and-audio-with-gst-launch">4.1.4 Playing Video and Audio With gst-launch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-encoding">4.2 Video Hardware Encoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-264">4.2.1 Video Hardware Encoding H.264</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-decoding">4.3 Video Hardware Decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h264-format-video">4.3.1 Decoding and Playing H264 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h264-format-video-with-audio">4.3.2 Decoding and Playing H264 Format Video With Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h265-format-video">4.3.3 Decoding and Playing H265 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h265-format-video-with-audio">4.3.4 Decoding and Playing H265 Format Video with Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video">4.3.5 Decoding and Playing VP9 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video-with-audio">4.3.6 Decoding and Playing VP9 Format Video with Audio</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#camera-test">4.4 Camera Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uvc-camera-test">4.4.1 UVC Camera Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov13855-test">4.4.2 OV13855 Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov5645-test">4.4.3 OV5645 Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gpu-test">4.5 GPU Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-flashing">5. System Flashing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#otg-flashing-system">5.1 OTG Flashing System</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otg-driver-installation">5.1.1 OTG Driver Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-full-flashing-test">5.1.2 OTG Full Flashing Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-step-flashing-test">5.1.3 OTG Step Flashing Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tf-card-flashing">5.2 TF Card Flashing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OK3562J-C_Forlinx_Desktop22_04_User_Compilation_Manual.html">Forlinx Desktop 22.04_User‚Äôs Compilation Manual_V1.0</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/index.html">RK Development Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RK3562 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Forlinx Desktop 22.04_User‚Äôs Manual_V1.0</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="forlinx-desktop-22-04-user-s-manual-v1-0">
<h1>Forlinx Desktop 22.04_User‚Äôs Manual_V1.0<a class="headerlink" href="#forlinx-desktop-22-04-user-s-manual-v1-0" title="Link to this heading">ÔÉÅ</a></h1>
<p>Document classification: ‚ñ° Top secret ‚ñ° Secret ‚ñ° Internal information ‚ñ† Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading">ÔÉÅ</a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">ÔÉÅ</a></h2>
<p>This manual is designed to help you quickly familiarize yourselves with the product, and understand the interface functions and testing methods. It primarily covers the testing of interface functions on the development board, the methods for flashing images, and troubleshooting procedures for common issues encountered in use. In the process of testing, some commands are annotated to facilitate your understanding, mainly for practical use. Please refer to ‚ÄúOK3562-C _ Forlinx Desktop 22.04 User‚Äòs Compilation Manual‚Äù provided by Forlinx for kernel compilation, related application compilation methods, and development environment setup.</p>
<p>This manual is mainly divided into five chapters:</p>
<p>‚óè Chapter 1 mainly provides an overall overview of the product, briefly introducing the interface resources of the development board, the relevant driver paths in the kernel source code, and explanations of the key parts in the documentation;</p>
<p>‚óè Chapter 2 mainly focuses on the quick startup of the product, which can be achieved through two methods: serial port login and network login;</p>
<p>‚óè Chapter 3 mainly introduces the usage functions of the product;</p>
<p>‚óè Chapter 4 mainly conducts usage tests on functions such as audio, video, and camera of the product;</p>
<p>‚óè Chapter 5 mainly deals with the image update of the product, mainly describing the methods of updating the image to the storage device. You can choose the corresponding flashing method according to the actual situation.</p>
<p>A description of some of the symbols and formats associated with this manual:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Note</strong></p></td>
<td><p>Note or information that requires special attention, be sure to read carefully.</p></td>
</tr>
<tr class="row-odd"><td><p>üìö</p></td>
<td><p>Relevant notes on the test chapters</p></td>
</tr>
<tr class="row-even"><td><p>üõ§Ô∏è</p></td>
<td><p>Indicates the related path</p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:#0000FF;"><font style="color:blue;background-color:#e5e5e5;">Blue font on gray background</font></font></p></td>
<td><p>Refers to commands entered at the command line (Manual input required).</p></td>
</tr>
<tr class="row-even"><td><p>Black font on gray back ground</p></td>
<td><p>Serial port output message after entering a command</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Bold black</strong></p></td>
<td><p>Key information in the serial port output message</p></td>
</tr>
<tr class="row-even"><td><p><font style="color:#000000;">//</font></p></td>
<td><p>Interpretation of input instructions or output information</p></td>
</tr>
<tr class="row-odd"><td><p>Username&#64;Hostname</p></td>
<td><p>root&#64;ok3562: development board serial port login account information;<br />forlinx &#64;rk3562: development board network login account information;<br />forlinx &#64; Ubuntu: development environment Ubuntu account information.<br />You can determine the environment for function operation through this information.</p></td>
</tr>
</tbody>
</table>
<p>Example: After packaging the file system, you can use the ‚Äúls‚Äù command to view the generated files.</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/3562$ ls //List the files in this directory
OK3562-linux-source OK3562-linux-source.tar.bz2
</pre></div>
</div>
<ul class="simple">
<li><p>forlinx&#64;ubuntu: the username is forlinx and the hostname is ubuntu, indicating that the operation is performed in the development environment ubuntu;</p></li>
<li><p>// : Explanatory notes for operation instructions, no need to input;</p></li>
<li><p><font style="color:#0000FF;"><font style="color:blue;background-color:#e5e5e5;">ls</font></font>: Blue text on a gray background indicates relevant commands that need to be manually input;</p></li>
<li><p><strong>OK3562 - linux - source</strong>: Black text on the bottom is the output information after entering the command. Bold text is the key information, here it is the packaged file system.</p></li>
</ul>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading">ÔÉÅ</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Date</strong></p></th>
<th class="head"><p><strong>SoM Version</strong></p></th>
<th class="head"><p><strong>Carrier Board Version</strong></p></th>
<th class="head"><p><strong>Manual Version</strong></p></th>
<th class="head"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>06/06/2025</p></td>
<td><p>V1.0</p></td>
<td><p><font style="color:rgb(38, 38, 38);">V1.0 and above</font></p></td>
<td><p>V1.0</p></td>
<td><p>OK3562-C Forlinx Desktop 22.04_User‚Äôs Manual Initial Version  </font></p></td>
</tr>
</tbody>
</table>
</section>
<section id="ok3562-c-development-board-description">
<h2>1. OK3562-C Development Board Description<a class="headerlink" href="#ok3562-c-development-board-description" title="Link to this heading">ÔÉÅ</a></h2>
<p>RK3562J is a low-power, high-performance processor based on the ARM64 architecture. It includes 4 Cortex-A53 cores and 1 Cortex-M0 core, along with an independent NEON coprocessor. It can be used in computers, mobile phones, personal mobile internet devices, and digital multimedia devices. The connection of OK3562 SoM and the carrier board is board-to-board, and the main interfaces are as follows:</p>
<p><img alt="Image" src="_images/1720418437155_411d3da0_4c0d_4d73_a18a_c2bfac3554cc.jpeg" /></p>
<p><strong>Front</strong></p>
<p><img alt="Image" src="_images/1720418437554_c4288f3d_892a_4c80_b8de_0bde8c386265.png" /></p>
<p><strong>Back</strong></p>
<p>The hardware parameters are not described in this software manual. Before referring to this manual for software development, please read ‚ÄúOK3562-C _ Hardware Manual‚Äù under the path of ‚Äú02-User Data \ 03-Hardware Data \ 02-Manual‚Äù to understand the product naming rules and the hardware configuration information of the product you use, which is helpful for you to use this product.</p>
<section id="introduction-to-linux-5-10-198-system-software-resources">
<h3>1.1 Introduction to Linux 5.10.198 System Software Resources<a class="headerlink" href="#introduction-to-linux-5-10-198-system-software-resources" title="Link to this heading">ÔÉÅ</a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p><strong>Device Name</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p>/sys/class/backlight</p></td>
</tr>
<tr class="row-odd"><td><p>USB interface U disk</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>USB mouse</p></td>
<td><p>drivers/hid/usbhid/</p></td>
<td><p>/dev/input/mice</p></td>
</tr>
<tr class="row-odd"><td><p>Ethernet</p></td>
<td><p>drivers/net/ethernet/stmicro/stmmac</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SD/micro TF card driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk1pX</p></td>
</tr>
<tr class="row-odd"><td><p>EMMC driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk2pX</p></td>
</tr>
<tr class="row-even"><td><p>Camera</p></td>
<td><p>drivers/media/i2c/ov13855.c   drivers/media/i2c/ov5645.c</p></td>
<td><p>/dev/videoX</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Controller</p></td>
<td><p>drivers/gpu/drm/rockchip/rockchip_drm_vop.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>MIPI CSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-mipi-rx.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>MIPI DSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LCD Touch Driver</p></td>
<td><p>drivers/input/touchscreen/goodix.c   drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-odd"><td><p>RTC driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c   drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>Serial port</p></td>
<td><p>drivers/tty/serial/8250/8250_dw.c</p></td>
<td><p>/dev/ttySX</p></td>
</tr>
<tr class="row-odd"><td><p>Key Driver</p></td>
<td><p>drivers/input/keyboard/adc-keys.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-even"><td><p>LED</p></td>
<td><p>drivers/leds/leds-gpio.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>I2S</p></td>
<td><p>sound/soc/rockchip/rockchip_i2s.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>PMIC</p></td>
<td><p>drivers/mfd/rk808.c   drivers/regulator/rk808-regulator.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>PCIE</p></td>
<td><p>drivers/pci/controller/pcie-rockchip.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Watchdog</p></td>
<td><p>drivers/watchdog/dw_wdt.c</p></td>
<td><p>/dev/watchdog</p></td>
</tr>
<tr class="row-odd"><td><p>SPI</p></td>
<td><p>drivers/spi/spi-rockchip.c</p></td>
<td><p>/dev/spidev2.0</p></td>
</tr>
<tr class="row-even"><td><p>PWM</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc-memory-partition-table">
<h3>1.2 EMMC Memory Partition Table<a class="headerlink" href="#emmc-memory-partition-table" title="Link to this heading">ÔÉÅ</a></h3>
<p>The following table shows the eMMC memory partition information for the Linux operating system (calculated with a block size of 512bit):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Partition Index</p></th>
<th class="head text-center"><p>Name</p></th>
<th class="head text-center"><p>Offset / Block</p></th>
<th class="head text-center"><p>Size/Block</p></th>
<th class="head text-center"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>N/A</p></td>
<td class="text-center"><p>security</p></td>
<td class="text-center"><p>0x00000000</p></td>
<td class="text-center"><p>0x00004000</p></td>
<td class="text-center"><p>MiniLoaderAll.bin</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>1</p></td>
<td class="text-center"><p>uboot</p></td>
<td class="text-center"><p>0x00004000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>uboot.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>2</p></td>
<td class="text-center"><p>misc</p></td>
<td class="text-center"><p>0x00006000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>misc.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>3</p></td>
<td class="text-center"><p><font style="color:rgb(38, 38, 38);">boot</font></p></td>
<td class="text-center"><p>0x00008000</p></td>
<td class="text-center"><p>0x00020000</p></td>
<td class="text-center"><p>boot.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>4</p></td>
<td class="text-center"><p>recovery</p></td>
<td class="text-center"><p>0x00028000</p></td>
<td class="text-center"><p>0x00040000</p></td>
<td class="text-center"><p>recovery.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>5</p></td>
<td class="text-center"><p>backup</p></td>
<td class="text-center"><p>0x00068000</p></td>
<td class="text-center"><p>0x00010000</p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>6</p></td>
<td class="text-center"><p>rootfs</p></td>
<td class="text-center"><p>0x00078000</p></td>
<td class="text-center"><p>0x00c00000</p></td>
<td class="text-center"><p>rootfs.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>7</p></td>
<td class="text-center"><p>oem</p></td>
<td class="text-center"><p>0x00c78000</p></td>
<td class="text-center"><p>0x00040000</p></td>
<td class="text-center"><p>oem.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>8</p></td>
<td class="text-center"><p>amp</p></td>
<td class="text-center"><p>0x00cb8000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>amp.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>9</p></td>
<td class="text-center"><p>userdata</p></td>
<td class="text-center"><p>0x00cba000</p></td>
<td class="text-center"><p></p></td>
<td class="text-center"><p>userdata.img</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading">ÔÉÅ</a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 development board has two system login methods, serial and network login.</p>
<p>Hardware preparation before system startup:</p>
<ul class="simple">
<li><p>12V3A DC power</p></li>
<li><p>Debugging serial cable (serial login use)</p></li>
</ul>
<p>The debug serial port on the development board is a Type-C USB jack, so users can use a USB to Type-C cable to connect the development board to a PC and then check the board‚Äôs status.</p>
<ul class="simple">
<li><p>Network cable (for network login)</p></li>
<li><p>According to the development board interface to connect the screen (Based on display needs).</p></li>
</ul>
<p><img alt="Image" src="_images/1730773402955_b39ed59a_e86f_4f98_a7e1_ae880aedc5b4.png" /></p>
<p><strong>Note: The debug serial port marked in the diagram actually shares a Type-C interface between UART0 and UART9. UART9 serves as the debug serial port for the bare core when AMP (Asymmetric Multi-Processing) function is enabled (switch S4 needs to be set to UART mode).</strong></p>
</section>
<section id="related-driver-installation">
<h3>2.2 Related Driver Installation<a class="headerlink" href="#related-driver-installation" title="Link to this heading">ÔÉÅ</a></h3>
<ul class="simple">
<li><p>Use ‚ÄúUser data \ Software data \ 3-tools \ DriverAssitant _ v5.1.1.zip to install the rockchip driver‚Äù;</p></li>
<li><p>Run DriverInstall.exe directly after the unzipping is completed; in order to ensure the driver is the latest version, please unstall the driver first, then install again;</p></li>
<li><p>Use User Data\Software Data\3-Tools\CH343SER.EXE to install the serial port driver.</p></li>
</ul>
</section>
<section id="serial-login">
<h3>2.3 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading">ÔÉÅ</a></h3>
<p>The debugging serial port of the OK3562-C - C platform uses a Type - C interface. There is an on - board USB to UART chip, so there‚Äôs no need to purchase a USB to serial port debugging tool. It is extremely simple and convenient to use.</p>
<section id="serial-port-connection-settings">
<h4>2.3.1 Serial Port Connection Settings<a class="headerlink" href="#serial-port-connection-settings" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Serial terminal login for Forlinx users:</strong></p></li>
</ul>
<p><strong>User‚Äôs name: forlinx</strong></p>
<p><strong>Password: forlinx</strong></p>
<ul class="simple">
<li><p><strong>Serial terminal login root user: account root, password root;</strong></p></li>
<li><p><strong>Serial port settings: Baud rate 115200, 8 data bits, 1 stop bit, no parity bit, no flow control;</strong></p></li>
<li><p><strong>Hardware Requirements: Type-C cable required to connect PC and development boards;</strong></p></li>
<li><p><strong>Software requirements: PC Windows system needs to install the super terminal software. Because the terminal software has many types, users can choose their familiar one.</strong></p></li>
</ul>
<p>Let‚Äôs take putty as an example to introduce the login method of serial port:</p>
<p>Step 1: Connect the serial port number of the computer‚Äîcheck the serial port number from the device manager (Based on the port actually recognized by the computer );</p>
<p><img alt="Image" src="_images/1720417652369_c946e9c8_f6b4_450a_a2d9_c9cd0527ed2f.png" /></p>
<p>Step 2: Open and set up putty, then set the‚Äú line according to the COM port of the computer used, baud rate 115200;</p>
<p><img alt="Image" src="_images/1720417652635_c2ca3610_6708_4704_ac4a_90416d6b9c76.png" /></p>
<p>Step 3: After the setting, input the COM port used by the computer in Saved Sessions. The following figure takes COM24 as an example, save the settings, open the serial port again later, and click on the saved port number;</p>
<p><img alt="Image" src="_images/1720417652851_8f35def3_7095_4026_b2c3_e32f6294f73b.png" /></p>
</section>
<section id="serial-port-login">
<h4>2.3.2 Serial Port Login<a class="headerlink" href="#serial-port-login" title="Link to this heading">ÔÉÅ</a></h4>
<p>After the terminal software on the PC side is set, connect the PC and the development board through the serial port cable, and power on after connecting the power supply. The startup information can be seen through the terminal software.</p>
<p>The following startup message indicates a successful start, allowing a new command line to be entered by pressing Enter:</p>
<p><img alt="Image" src="_images/1749198991322_c1ffe076_1793_48ba_9c3c_02bdbcc4f32b.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>ForlinxDesktopÁ≥ªÁªüÂ∑≤ÊúâÁî®Êà∑Ôºö
</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>User‚Äôs name</p></th>
<th class="head"><p>forlinx</p></th>
<th class="head"><p>root</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Password</strong></p></td>
<td><p><strong>forlinx</strong></p></td>
<td><p><strong>root</strong></p></td>
</tr>
</tbody>
</table>
<p><strong>Note: If the message shows [root&#64;buildroot]#, it indicates the first reboot after the initial firmware burn. At this point, do not perform any operations; wait for it to reboot automatically. forlinx login: is the normal state.</strong></p>
</section>
</section>
<section id="network-login-methods">
<h3>2.4 Network Login Methods<a class="headerlink" href="#network-login-methods" title="Link to this heading">ÔÉÅ</a></h3>
<section id="network-connection-test">
<h4>2.4.1 Network Connection Test<a class="headerlink" href="#network-connection-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The factory default configuration of the card is static IP; the IP address is 192.168.0.123. Please refer to ‚Äú3.2.17 Ethernet Configuration‚Äù chapter for the static IP changing method;</strong></p></li>
<li><p><strong>The computer and board should be on the same network segment for testing.</strong></p></li>
</ul>
<p>Before logging into the network, ensure that the direct network connection between the computer and the development board is functioning properly. You can test the connection status via pin command. The specific method is as follows:</p>
<p>1. Connect the development board‚Äôs eth0 interface to the computer using an Ethernet cable. Power on the board and boot the kernel. Confirm the blue heartbeat LED is blinking. Check the network card connection, ensuring its LED flashes rapidly. Once confirmed, proceed with testing the network connection;</p>
<p>2. Close the computer firewall (General computer operations, not described here in detail), then open the computer‚Äôs run command;</p>
<p>3. Use cmd to open the administrator interface , and the ping command to test the network connection status of the computer and the development board.</p>
<p><img alt="Image" src="_images/1720417653045_77232463_9341_42e0_99fd_fff6c8c185f3.png" /></p>
<p><img alt="Image" src="_images/1749198991407_a0f0f16c_569f_4730_8b2e_980664d1c861.png" /></p>
<p>A data return indicates a normal network connection.</p>
</section>
<section id="ssh-server">
<h4>2.4.2 SSH server<a class="headerlink" href="#ssh-server" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The factory default configuration of the card is static IP; the IP address is 192.168.0.123. Please refer to ‚Äú3.2.17 Ethernet Configuration‚Äù chapter for the static IP changing method;</strong></p></li>
<li><p><strong>Users: forlinx, Password: forlinx;</strong></p></li>
<li><p><strong>User: root user; password: root.</strong></p></li>
</ul>
<p>1. Use ssh to log in the development board;</p>
<p><img alt="Image" src="_images/1749198991516_2fa13209_3492_46f5_a818_f43b3492c673.png" /></p>
<p>Click ‚ÄúOpen‚Äù, the following dialog box will appear, click ‚ÄúYes‚Äù to enter the login screen.</p>
<p><img alt="Image" src="_images/1720417654059_94355051_1e28_4cfd_8a4b_f559d4ff136a.png" /></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>SSH into the account: ssh forlinx@192.168.0.123
Password for forlinx@192.168.0.123:  // Enter the password &quot;forlinx&quot; for the &quot;forlinx&quot; account on the development board as prompted
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 5.10.198 aarch64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the &#39;unminimize&#39; command.

Extended Security Maintenance (ESM) for Applications is not enabled.

5 updates can be applied immediately.
Among these updates, 3 are standard security updates.
To view these additional updates, run: apt list --upgradable

41 additional security updates can be obtained and installed through ESM Apps.
Learn how to enable ESM Apps at: https://ubuntu.com/esm

Last login: Sun Apr 27 14:20:51 2025 from 192.168.0.110
To run a command as an administrator (user &quot;root&quot;), use &quot;sudo &lt;command&gt;&quot;.
See &quot;man sudo_root&quot; for details.

forlinx@ok3562:~$ 
</pre></div>
</div>
</section>
<section id="ftp-and-sftp">
<h4>2.4.3 FTP and SFTP<a class="headerlink" href="#ftp-and-sftp" title="Link to this heading">ÔÉÅ</a></h4>
<p>Path: OK3562-C (Linux) user profile\tool\FileZilla*</p>
<p>OK3562 development board supports FTP and SFTP services, which are automatically enabled upon startup. Once the IP address is configured, it can function as an SFTP server.</p>
<p>The following is an example of how to use SFTP to transfer files using the filezilla tool.</p>
<p>Install the FileZilla tool on Windows and follow the steps shown in the image below to configure it. Use ‚Äúforlinx‚Äù as both the username and password.</p>
<p>Open the FileZilla tool, click on File and select Site Manager.</p>
<p><img alt="Image" src="_images/1720417654405_e51665a5_81c7_4442_a2ae_e8cc99e78fff.png" /></p>
<p>After successful login, you can upload and download.</p>
<p><img alt="Image" src="_images/1720417654928_2b604387_bb81_4ac6_a13d_02437d5c0800.png" /></p>
</section>
</section>
<section id="screen-switching">
<h3>2.5 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports MIPI DSI and LVDS screen interfaces, and can only support display on one screen. There are currently three screen switching control methods: dynamic control via uboot menu, specification via kernel device tree, and control through the QT UbootMenu application.</p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.5.1 Dynamic Control of Uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading">ÔÉÅ</a></h4>
<p>This method allows switching without recompiling and burn-in of existing supported screens.</p>
<p>During the uboot self-boot process, press the space bar at the serial terminal to bring up the control options:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>Enter 2 in the terminal to switch screens. Refer to 3.2.29 Uboot Menu</p>
</section>
<section id="kernel-device-tree-specification">
<h4>2.5.2 Kernel Device Tree Specification<a class="headerlink" href="#kernel-device-tree-specification" title="Link to this heading">ÔÉÅ</a></h4>
<p>The method doesn‚Äôt require a serial port terminal connection. The system image defaults to the desired configuration, making it suitable for mass production. However, we need to modify the device tree and regenerate the system image once again.</p>
<p><strong>Note: This method has higher priority than the uboot screen selection, and the uboot selection will not take effect after the device tree is modified.</strong></p>
<p>Device tree path: kernel/arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi</p>
<p>In the kernel source code, open the device dtsi file and find the forlinx-control node as follows:</p>
<p><img alt="Image" src="_images/1720417655244_cf68dda2_b8e9_41e7_af19_85b8fea65d80.png" /></p>
<p>The node has a default disabled state and needs to be changed to an okay enabled node. Change according to screen requirements.</p>
<p><strong>Parameter Description:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>status</p></td>
<td><p>Describe the node state: disabled is for off, okay is for on</p></td>
</tr>
<tr class="row-odd"><td><p>disp_type</p></td>
<td><p>Specify the mipi or lvds screen display.</p></td>
</tr>
</tbody>
</table>
<p>Users need to change the setting parameters as required. After saving, it is necessary to recompile and generate an image.</p>
<p><strong>Examples</strong>:</p>
<p>Use the LVDS screen display.</p>
<p><img alt="Image" src="_images/1720417655456_cb2ffa1e_8431_4ab1_a170_b82bfb1dcdf9.png" /></p>
<p>After saving, recompile to generate the image.</p>
</section>
</section>
<section id="system-shutdown">
<h3>2.6 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading">ÔÉÅ</a></h3>
<p>In general, you can simply turn off the power. However, if you‚Äôre working with data storage or using specific functions, avoid unplugging the power to prevent potential irreversible file damage. To ensure the data is completely written, enter the sync command to synchronize the data before turning off the power.</p>
<p>Note: For products designed based on the SoM, if there are scenarios where accidental power loss causes the system to shut down unexpectedly, measures such as adding power-loss protection can be incorporated into the design.</p>
</section>
</section>
<section id="ok3562-platform-function-test">
<h2>3. OK3562 Platform Function Test<a class="headerlink" href="#ok3562-platform-function-test" title="Link to this heading">ÔÉÅ</a></h2>
<section id="interface-function-test">
<h3>3.1 Interface Function Test<a class="headerlink" href="#interface-function-test" title="Link to this heading">ÔÉÅ</a></h3>
<section id="introduction-to-interface-functions">
<h4>3.1.1 Introduction to Interface Functions<a class="headerlink" href="#introduction-to-interface-functions" title="Link to this heading">ÔÉÅ</a></h4>
<p>After the development board is started for the first time, you need to enter the login password and click login. The login user is forlinx, and the password is forlinx. After entering the desktop, it is as follows:</p>
<p><img alt="Image" src="_images/1749198992956_ffefee3e_06e2_4fd5_8868_5a9545cade37.png" /></p>
</section>
<section id="virtual-keyboard-settings">
<h4>3.1.2 Virtual Keyboard Settings<a class="headerlink" href="#virtual-keyboard-settings" title="Link to this heading">ÔÉÅ</a></h4>
<p>The system integrates a virtual keyboard. Click the icon in the upper corner and move the mouse to the virtual keyboard option to select the virtual keyboard.</p>
<p><img alt="Image" src="_images/1749198993035_53b84893_adbd_4961_bac3_2c557c11efb8.png" /></p>
<p>After selection, the virtual keyboard will pop up in the page.</p>
<p><img alt="Image" src="_images/1749198993124_95e929ed_e157_44f5_a004_d6eee549c854.png" /></p>
</section>
<section id="wifi-test">
<h4>3.1.3 WiFi Test<a class="headerlink" href="#wifi-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The OK3562 platform has a 6221A-SRC (RTL8821CS) module onboard by default, which is a WiFi/Bluetooth integrated module to test the WiFi function. The WiFi module exists in the system in the form of wlan0 node, and this test corresponds to wlan0 (other corresponding nodes are used when there are multiple devices). To configure WiFi, use the mouse to click the network icon in the upper right corner:</p>
<p><img alt="Image" src="_images/1749198993190_878ec347_60c3_4ab2_a4ec_402e4e0e1510.png" /></p>
<p>Click the WiFi name listed under the WiFi network, pop up the WiFi configuration interface, and enter the password:</p>
<p><img alt="Image" src="_images/1749198993269_4c429d25_0bed_4094_92cf_0dc4cf408efa.png" /></p>
<p>Click ‚ÄúConnect‚Äù and the WiFi connection is completed:</p>
<p><img alt="Image" src="_images/1749198993343_112e314b_4986_42a3_94fe_124f0097ae5e.png" /></p>
</section>
<section id="browser-test">
<h4>3.1.4 Browser Test<a class="headerlink" href="#browser-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>ForlinxDesktop integrates Google Chrome, etc. When using it, please make sure the network is smooth and dns is available before accessing the external network. Click on the Start menu in the lower left corner and select ‚ÄúChromium Browser‚Äù:</p>
<p><img alt="Image" src="_images/1749198993446_05e9b31a_9215_4780_b393_7aee47ba0656.png" /></p>
<p>Enter the browser:</p>
<p><img alt="Image" src="_images/1740967878994_1de47657_ce2b_45d8_b440_65d7bf624fa5.png" /></p>
<p>Click the search box to enter the website and visit the official website of Forlinx Embedded. The interface is as follows:</p>
<p><img alt="Image" src="_images/1749198993540_8be33c8a_b3cf_4259_b0b0_968e8ddae079.png" /></p>
</section>
<section id="bluetooth-test">
<h4>3.1.5 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The default 6221A-SRC (RTL8821CS) module of OK3562 platform is a WiFi/Bluetooth integrated module to test the Bluetooth function. To configure Bluetooth, you need to right-click the Bluetooth icon in the lower right corner. Bluetooth is enabled by default:</p>
<p><img alt="Image" src="_images/1749198993650_5e3f37b5_3823_47b7_b100_487e44e29189.png" /></p>
<p>Select ‚ÄúSend Files to Device‚Äù and select the corresponding file:</p>
<p><img alt="Image" src="_images/1749198993758_56ec19eb_6a86_4641_8b01_70d0035ca0d6.png" /></p>
<p>Click ‚ÄúOK‚Äù to select the corresponding equipment:</p>
<p><img alt="Image" src="_images/1749198993833_be2537d2_85c3_4c68_9384_34a636e8b58b.png" /></p>
<p>After clicking ‚ÄúOK‚Äù, the file transfer starts:</p>
<p><img alt="Image" src="_images/1749198993940_45c9ce10_014b_4b07_81a2_b66a7bfe5dc4.png" /></p>
</section>
<section id="file-manager">
<h4><strong>3.1.6 File Manager</strong><a class="headerlink" href="#file-manager" title="Link to this heading">ÔÉÅ</a></h4>
<p>Click Home on the desktop to manage files:</p>
<p><img alt="Image" src="_images/1749198994044_48d3ebca_e959_41c1_818b_47adb1c8035a.png" /></p>
</section>
</section>
<section id="command-line-function-test">
<h3>3.2 Command Line Function Test<a class="headerlink" href="#command-line-function-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 platform has various built-in command line tools available to users.</p>
<section id="system-information-queries">
<h4>3.2.1 System Information Queries<a class="headerlink" href="#system-information-queries" title="Link to this heading">ÔÉÅ</a></h4>
<p>View kernel:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# uname -a
Linux ok3562 5.10.198 #1 SMP Thu Apr 24 16:29:44 CST 2025 aarch64 aarch64 aarch64 GNU/Linux
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# env | sort
ADBD_SHELL=/bin/bash
ADB_TCP_PORT=5555
COGL_DRIVER=gles2
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/0/bus
DEBUGINFOD_URLS=
DISPLAY=:0
GST_GL_API=gles2
GST_GL_PLATFORM=egl
HOME=/root
HUSHLOGIN=FALSE
INVOCATION_ID=4a89fa1c97364f5392206f0451e93eb8
JOURNAL_STREAM=7:23265
LANGUAGE=zh_CN:zh:en_US:en
LANG=zh_CN.UTF-8
LC_ALL=zh_CN.UTF-8
LOGNAME=root
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:
MAIL=/var/mail/root
MOTD_SHOWN=pam
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
PWD=/root
QTWEBENGINE_CHROMIUM_FLAGS=--no-sandbox --disable-es3-gl-context --ignore-gpu-blacklist --ignore-gpu-blocklist --enable-accelerated-video-decode
QT_XCB_GL_INTEGRATION=xcb_egl
SHELL=/bin/bash
SHLVL=0
SYSTEMD_EXEC_PID=866
TERM=xterm-color
TZ=Asia/Shanghai
USER=root
_=/usr/bin/env
XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop
XDG_RUNTIME_DIR=/run/user/0
XDG_SESSION_CLASS=user
XDG_SESSION_ID=c3
XDG_SESSION_TYPE=tty

</pre></div>
</div>
</section>
<section id="fm-test">
<h4>3.2.2  FM Test<a class="headerlink" href="#fm-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The quad-core A53 is cpu0, cpu1, cpu2, and cpu3. This process takes cpu0 as an example, and the actual process of cpu1, cpu2, and cpu3 will change at the same time.</strong></p>
<ol class="arabic simple">
<li><p>All cpufreq governor types supported in the current kernel:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
interactive  conservative  ondemand  userspace  powersave  performance  schedutil
</pre></div>
</div>
<p>‚Äúuserspace‚Äù refers to user mode, in which user programs are allowed to adjust the CPU frequency.</p>
<ol class="arabic simple" start="2">
<li><p>View the current CPU supported frequency level;</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
408000  600000  816000  1008000  1200000  1416000  1608000  1800000  2016000
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set to user mode and modify the frequency to 1200000Ôºö</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@ok3562:~# echo 1200000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>4. View the current frequency after modification:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
1200000
</pre></div>
</div>
</section>
<section id="temperature-test">
<h4>3.2.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>View the temperature value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/thermal/thermal_zone0/temp
45307
</pre></div>
</div>
<p>The temperature value is 45.3¬∞C.</p>
</section>
<section id="watchdog-test">
<h4>3.2.4 Watchdog Test<a class="headerlink" href="#watchdog-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Watchdog is a function often used in embedded systems. The device node of watchdog in OK3568 is/dev/watchdog. This test provides two test procedures, and the user can choose one of them to test according to the actual situation.</p>
<p>1. Start fltest_watchdog, set the charm to time 10s, and feed the dog regularly;</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>forlinx@ok3568:~$ sudo fltest_watchdog
Watchdog Ticking Away!
</pre></div>
</div>
<p>This command turns on the watchdog and performs a feed, so the system does not reboot.</p>
<p><strong>Note: When ctrl + C is used to end the test program, the system will reset after 10 seconds. If you do not want to reset, please input within 10 seconds after ctrl + C:</strong></p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>forlinx@ok3568:~$ sudo fltest_watchdog -d
Watchdog card disabled.   //Turn off the watchdog
</pre></div>
</div>
<p><strong>2. Start fltest_watchdogrestart, set the reset time to 10s without feeding the dog.</strong></p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>forlinx@ok3568:~$ sudo fltest_watchdogrestart
Restart after 10 seconds
</pre></div>
</div>
<p>This command turns on the watchdog, but does not feed the dog, and the system reboots after 10 seconds.</p>
</section>
<section id="rtc-function-test">
<h4>3.2.5 RTC Function Test<a class="headerlink" href="#rtc-function-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: Ensure that button cell batteries are installed on the board and the battery voltage is normal.</strong></p>
<p>RTC test: The main way to set the software and hardware time is by using the date and hwclock utilities. When performing the board power-down and power-up test, the software clock reads whether the RTC clock is synchronized or not.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Time setting:
root@ok3562:~# date -s &quot;2022-12-12 17:23:00&quot;      // Set the software time
Mon Dec 12 17:23:00 CST 2022
root@ok3562:~# hwclock -w					   	// Synchronize the software time to the hardware time
root@ok3562:~# hwclock -r					    	// Display the hardware time
Mon Dec 12 17:23:06 CST 2022
</pre></div>
</div>
<p>Then power down and power up the board, enter the system, and read the system time. After that, we can see that the time has synchronized.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# date
Mon Dec 12 17:23:28 CST 2022
</pre></div>
</div>
</section>
<section id="key-test">
<h4>3.2.6 Key Test<a class="headerlink" href="#key-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Use the fltest_keytest command line tool to test the keys. fltest_keytest currently supports the test of four keys on the carrier board, VOL+, VOL-, MENU, and ESC, with key codes 115, 114, 139, and 158, respectively.</p>
<p>Execute the following command, noting that it is event4 when a touchscreen is present:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_keytest /dev/input/event3
</pre></div>
</div>
<p>At this point, press the lift button in sequence, and the following can be output on the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>key115 Pressed                                                         // VOL+ pressed
key115 Released                                                       // VOL+ released
key114 Pressed                                                         // VOL- pressed
key114 Released                                                       // VOL- released
key139 Pressed                                                         // MENU pressed
key139 Released                                                       // MENU released
key158 Pressed                                                         // ESC pressed
key158 Released                                                       // ESC released
</pre></div>
</div>
</section>
<section id="uart-test">
<h4>3.2.7 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>UART0, UART2, UART8 and UART9 serial ports are indicated in the schematic diagram of OK3562 platform carrier board, in which UART0 is a debugging serial port, UART8 is a Bluetooth serial port, and UART2 and UART9 are 485 serial ports. The default device names of UART2 and UART9 in the development board are ttyS2 and ttyS9 respectively. Supports up to 4M baud rate</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>UART</strong></p></th>
<th class="head text-center"><p><strong>Device Nodes</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>UART2</p></td>
<td class="text-center"><p>/dev/ttyS2</p></td>
<td><p>RS485</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UAT8</p></td>
<td class="text-center"><p>/ev/ttyS8</p></td>
<td><p>It is used for Bluetooth and is not separately pinned out and can‚Äôt be directly used for this test.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART9</p></td>
<td class="text-center"><p>/dev/ttyS9</p></td>
<td><p>RS485</p></td>
</tr>
</tbody>
</table>
<p>This test uses UART2 and UART9 to short 485 _ B1 and 485 _ B0, 485 _ A1 and 485 _ A0 in P36 port. GND _ 485 _ 0, GND _ 485 _ 1 pin header, as shown in the figure:</p>
<p><img alt="Image" src="_images/1722219092030_c1249903_b12e_48b0_8be6_51478d731f10.png" /></p>
<p>Enter the following command in the serial port of the development board:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_uarttest -d /dev/ttyS2 &amp;
[1] 1229
root@ok3562:~# Welcome to uart test
Send test data:
forlinx_uart_test.1234567890...
root@ok3562:~# fltest_uarttest -d /dev/ttyS9
Welcome to uart test
Send test data:
forlinx_uart_test.1234567890...
Read Test Data finished,Read:
forlinx_uart_test.1234567890...
</pre></div>
</div>
</section>
<section id="adc-test">
<h4>3.2.8 ADC Test<a class="headerlink" href="#adc-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C development board is equipped with 13 x ADC, each channel can connect an adjustable resistor. For testing, select channel saradc0_in5. The hardware diagram of the ADC pin is as follows: input voltage at pin 1 of P11. The current chip uses a 1.8V reference voltage corresponding to a 10-bit ADC maximum of 1024.</p>
<p><img alt="Image" src="_images/1720417683181_9552584f_5419_47e8_9307_1427849c8bae.png" /></p>
<p>Take SARADC _ VIN2 as an example to test the adjustable resistance value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cd /sys/bus/iio/devices/iio:device0
root@ok3562:/sys/bus/iio/devices/iio:device0# cat in_voltage5_raw
809
</pre></div>
</div>
</section>
<section id="tf-card-test">
<h4>3.2.9 TF Card Test<a class="headerlink" href="#tf-card-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Description: The SD card mount directory is /run/media/ and supports hot-swapping.</strong></p>
<p>1. Insert the TF card into the TF card slot on the carrier board before powe-up . Then power up and start, run the command dmesg, and the terminal will have the following printed information:</p>
<p><img alt="Image" src="_images/1749198994130_3f5b8ed2_81d4_445c_a8c0_1139a339896a.png" /></p>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;mmcblk1&quot;
/dev/mmcblk1p1 on /run/media/mmcblk1p1 type vfat (rw,relatime,gid=6,fmask=0007,dmask=0007,allow_utime=0020,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>3. Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/mmcblk1p1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 27.352 s, 19.2 MB/s
</pre></div>
</div>
<p>4. Read test:</p>
<p>Note: To ensure the accuracy of the data**, please restart the development board to test the reading speed.**</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/mmcblk1p1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 5.95401 s, 88.1 MB/s
</pre></div>
</div>
<p>5. After using the TF card, uninstall it with umount before ejecting it.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/mmcblk1p1
</pre></div>
</div>
<p><strong>Note: Plug and unplug the TF card after exiting the TF card mounting path.</strong></p>
</section>
<section id="emmc-test">
<h4>3.2.10 eMMC Test<a class="headerlink" href="#emmc-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 platform eMMC runs in HS200 mode 200MHz clock by default. The following is a simple eMMC read/write speed test: taking the read/write ext4 file system as an example.</p>
<p>Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 2.93708 s, 179 MB/s
</pre></div>
</div>
<p>Read testÔºö</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/test of=/dev/null bs=1M iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 1.75773 s, 298 MB/s
</pre></div>
</div>
</section>
<section id="usb-mouse-test">
<h4>3.2.11 USB Mouse Test<a class="headerlink" href="#usb-mouse-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>Connect the USB mouse to the USB interface of the OK3562 platform and use the dmesg command, the serial terminal prints the following information:</p>
<p><img alt="Image" src="_images/1749198994225_93efa20e_72e1_4c33_8292_ca02496fd012.png" /></p>
<p>At this time, the arrow cursor appears on the screen, the mouse can work normally.</p>
</section>
<section id="usb2-0">
<h4>3.2.12 USB2.0<a class="headerlink" href="#usb2-0" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 supports three USB2.0 interfaces. Users can connect USB mouse, USB keyboard, U disk and other devices on any on-board USB HOST interface, and support hot plug of the above devices. Demonstration with a mounting USB flash drive; the current USB flash drive test support up to 32G, but no test for 32G or above.</p>
<p>The terminal prints information about the USB flash drive, and since many types of USB flash drives exist, the information displayed may vary:</p>
<ol class="arabic simple">
<li><p>After the development board booting, connect the USB interface disk to the USB host interface of the development board. The default log print information is low, so there will be no print information. Use the dmesg command to view and get information about the USB flash drive;</p></li>
</ol>
<p><img alt="Image" src="_images/1749198994292_813f6bac_ec5b_421a_bda2_32a85b6da818.png" /></p>
<ol class="arabic simple" start="2">
<li><p>View the mount directory:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda1&quot;
/dev/sda1 on /run/media/sda1 type vfat (rw,relatime,gid=6,fmask=0007,dmask=0007,allow_utime=0020,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>You can see the USB mount directory: /run/media/sda1</p>
<ol class="arabic simple" start="3">
<li><p>View the contents of the U disk (sda1 is based on the actual USB flash drive partition name).</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Write test: Write speeds are limited by the specific storage device:</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 26.1422 s, 20.1 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Read testÔºö</p></li>
</ol>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 17.268 s, 30.4 MB/s
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Before removing the USB flash drive, it‚Äôs necessary to unmount it using ‚Äò‚Äôumount‚Äô‚Äô.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Exit the USB flash drive mount path before plugging and unplugging the USB flash drive.</strong></p>
</section>
<section id="usb-to-four-serial-port-test">
<h4>3.2.13 USB to Four Serial Port Test<a class="headerlink" href="#usb-to-four-serial-port-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Supports XR21V1414 USB to serial port chip driver;</strong></p></li>
<li><p><strong>USB to four serial port conversion is an optional module. If you have the need for it, please contact the sales personnel of Forlinx Embedded.</strong></p></li>
</ul>
<p>1. After powering on the development board, connecting the USB to four serial port modules via USB HOST shows specific printing info on the terminal.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[ 1342.988297] usb 1-1.1: new full-speed USB device number 7 using ehci-platform
[ 1343.203897] usb 1-1.1: New USB device found, idVendor=04e2, idProduct=1414, bcdDevice= 0.03
[ 1343.203914] usb 1-1.1: New USB device strings: Mfr=0, Product=0, SerialNumber=0
[ 1343.206127] cdc_xr_usb_serial 1-1.1:1.0: This device cannot do calls on its own. It is not a modem.
[ 1343.206480] cdc_xr_usb_serial 1-1.1:1.0: ttyXR_USB_SERIAL0: USB XR_USB_SERIAL device
[ 1343.210587] cdc_xr_usb_serial 1-1.1:1.2: This device cannot do calls on its own. It is not a modem.
[ 1343.210924] cdc_xr_usb_serial 1-1.1:1.2: ttyXR_USB_SERIAL1: USB XR_USB_SERIAL device
[ 1343.214331] cdc_xr_usb_serial 1-1.1:1.4: This device cannot do calls on its own. It is not a modem.
[ 1343.214605] cdc_xr_usb_serial 1-1.1:1.4: ttyXR_USB_SERIAL2: USB XR_USB_SERIAL device
[ 1343.218160] cdc_xr_usb_serial 1-1.1:1.6: This device cannot do calls on its own. It is not a modem.
[ 1343.218523] cdc_xr_usb_serial 1-1.1:1.6: ttyXR_USB_SERIAL3: USB XR_USB_SERIAL device
</pre></div>
</div>
<p>2. Check the usb device status by lsusb:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsusb
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 007: ID 04e2:1414 Exar Corp.
Bus 001 Device 002: ID 1a40:0101 Terminus Technology Inc. Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre></div>
</div>
<p>Check whether a serial port node is generated under dev:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@3562:/# ls /dev/ ttyXRUSB*
/dev/ttyXRUSB0  /dev/ttyXRUSB1  /dev/ttyXRUSB2  /dev/ttyXRUSB3 
</pre></div>
</div>
<p>3. The mapping between the four extended serial ports and their corresponding device nodes is shown in the diagram below:</p>
<p><img alt="Image" src="_images/1720417684392_b4febc8c_5724_401d_a9a4_20165a269a9c.png" /></p>
<p>4. Refer to ‚Äú3.2.7 UART Test‚Äù for the test methods.</p>
</section>
<section id="usb3-0-usb-otg-test">
<h4>3.2.14 USB3.0 / USB OTG Test<a class="headerlink" href="#usb3-0-usb-otg-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>USB3.0 / USB OTG and PCIe on the OK3562-C platform are multiplexed functions. USB3.0 supports only Host mode, and USB OTG supports only USB2.0.</p>
<p>To test the USB function (including USB3.0 and USB otg), turn the S3 DIP switch on the carrier board to the OFF position, and set the combphy _ type as USB in the Uboot menu. Refer to ‚Äú4.2.29 Uboot Menu‚Äù.</p>
<p>USB Host mode allows you to connect standard USB devices, while Device mode supports functions such as firmware flashing, ADB file transfer, and debugging.</p>
<section id="usb3-0-host-mode">
<h5>3.2.14.1 USB3.0 Host Mode:<a class="headerlink" href="#usb3-0-host-mode" title="Link to this heading">ÔÉÅ</a></h5>
<p>1. Set the S2 DIP switch on the development board to the ON position;</p>
<p>2. Modify the device tree file arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi (default in factory image, no need to modify) to change the ‚Äúdr_mode‚Äù property of the ‚Äúusbdrd_dwc3‚Äù node to ‚Äúhost‚Äô, as shown in the following image.</p>
<p><img alt="Image" src="_images/1720417684738_0e90d5d6_c5d0_4484_806e_8fc65da65829.png" /></p>
<p>3. Recompile the image and flash it into the development board;</p>
<p>4. Set the S3 DIP switch on the carrier board to the OFF position, and also set combphy_type to usb in the U-Boot menu;</p>
<p>5. Connect the USB 3.0 flash drive to the USB 3.0-A port (labeled P33) on the development board and recognize the flash drive.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   28.483585] usb 4-1: new SuperSpeed Gen 1 USB device number 3 using xhci-hcd
[   28.502741] usb 4-1: New USB device found, idVendor=05e3, idProduct=0747, bcdDevice= 8.19
[   28.502758] usb 4-1: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[   28.502762] usb 4-1: Product: USB Storage
[   28.502765] usb 4-1: Manufacturer: Generic
[   28.502768] usb 4-1: SerialNumber: 000000000819
[   28.505286] usb-storage 4-1:1.0: USB Mass Storage device detected
[   28.506496] scsi host0: usb-storage 4-1:1.0
[   29.528489] scsi 0:0:0:0: Direct-Access     Generic  STORAGE DEVICE   0819 PQ: 0 ANSI: 6
[   29.929357] sd 0:0:0:0: [sda] 31116288 512-byte logical blocks: (15.9 GB/14.8 GiB)
[   29.930565] sd 0:0:0:0: [sda] Write Protect is off
[   29.930583] sd 0:0:0:0: [sda] Mode Sense: 87 00 00 00
[   29.931626] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   29.963619]  sda: sda1
[   29.967627] sd 0:0:0:0: [sda] Attached SCSI removable disk
</pre></div>
</div>
<p>6. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# mount | grep &quot;sda&quot;
/dev/sda1 on /run/media/sda1 type vfat (rw,relatime,gid=6,fmask=0007,dmask=0007,allow_utime=0020,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>The mount path for the USB storage device can be found at /run/media/sda.</p>
<p>7. View the contents of the USB drive (replace ‚Äúsda‚Äù with the actual partition name of the USB drive).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls -l /run/media/sda1/
total 1048576
-rwxrwxrwx 1 root root 1073741824 Jan  1  1980 test1g
</pre></div>
</div>
<p>8. Write test: Write speeds are limited by the specific storage device:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 3.60126 s, 146 MB/s
</pre></div>
</div>
<p>9. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# dd if=/run/media/sda1/test of=/dev/null bs=1M count=500 iflag=direct
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 1.15981 s, 452 MB/s
</pre></div>
</div>
<p>10. Before removing the USB flash drive, it‚Äôs necessary to unmount it using ‚Äò‚Äôumount‚Äô‚Äô.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Exit the USB flash drive mount path before plugging and unplugging the USB flash drive.</strong></p>
</section>
<section id="usb-otg-mode">
<h5>3.2.14.2 USB OTG Mode<a class="headerlink" href="#usb-otg-mode" title="Link to this heading">ÔÉÅ</a></h5>
<p>1. Modify the usbdrd_dwc3 node in the device tree; arch/arm64/boot/dts/rockchip/OK3562-C-common.dtsi, as shown in the following image;</p>
<p><img alt="Image" src="_images/1720417684997_25146b9b_12f9_40f2_a6e2_3938db623bb8.png" /></p>
<p>2. Recompile the image and flash it into the development board;</p>
<p>3. Set the S3 DIP switch on the carrier board to the OFF position, and also set combphy_type to usb in the U-Boot menu;</p>
<p>Host mode requires setting switch S2 on the carrier board to the ON position.</p>
<p>Insert a USB flash drive into the P33 USB-A port to enable recognition. The USB flash drive operates at USB 2.0 speed (Toggle switch S2 to OFF and back to ON if automatic recognition fails).</p>
<p>Connect the USB flash disk to the USB3.0-A port of the development board (silk-screen P33) to identify the USB flash disk:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[   48.317004] usb 3-1: new high-speed USB device number 3 using xhci-hcd
[   48.460355] usb 3-1: New USB device found, idVendor=05e3, idProduct=0747, bcdDevice= 8.19
[   48.460422] usb 3-1: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[   48.460449] usb 3-1: Product: USB Storage
[   48.460470] usb 3-1: Manufacturer: Generic
[   48.460491] usb 3-1: SerialNumber: 000000000819
[   48.463227] usb-storage 3-1:1.0: USB Mass Storage device detected
[   48.465081] scsi host0: usb-storage 3-1:1.0
[   49.492654] scsi 0:0:0:0: Direct-Access     Generic  STORAGE DEVICE   0819 PQ: 0 ANSI: 6
[   49.940084] sd 0:0:0:0: [sda] 124735488 512-byte logical blocks: (63.9 GB/59.5 GiB)
[   49.941418] sd 0:0:0:0: [sda] Write Protect is off
[   49.942545] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#39;t support DPO or FUA
[   49.970261] sd 0:0:0:0: [sda] Attached SCSI removable disk
</pre></div>
</div>
<p>In Device mode, the S2 DIP switch on the carrier board needs to be set to the OFF position.</p>
<p>Connect the computer to the development board P35 USB-type C socket with the USB-a to USB-C cable, and restart the development board.</p>
<p><img alt="Image" src="_images/1720417685359_31c37e27_76b7_4b1f_acd6_01f0c457490a.png" /></p>
<p>Rockchip development tool shows ‚Äúfound an ADB device‚Äù, you can download files from the development board to the computer through ADB pull, and upload files from the computer to the development board through ADB push.</p>
<p>Open the RKDevTool_Release/bin directory in the Win10 PowerShell terminal.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Windows PowerShell
Copyright(C) Microsoft Corporation. All rights reserved.

Try a new cross-platform PowerShell https://aka.ms/pscore6

PS C:\Users\Acer&gt; cd D:\rk3562\RKDevTool\RKDevTool_Release\bin
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe devices
List of devices attached
38bc17e18f2c57bc        device

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe push D:\test.mp3 /home/forlinx/
D:\test.mp3: 1 file pushed. 13.8 MB/s (4818092 bytes in 0.334s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; .\adb.exe pull /home/forlinx/test
/home/forlinx/test: 1 file pulled. 0.0 MB/s (29 bytes in 0.002s)
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt; ls .\test

    Directory: D:\rk3562\RKDevTool\RKDevTool_Release\bin

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         2024/4/25     12:14             29 test

PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
PS D:\rk3562\RKDevTool\RKDevTool_Release\bin&gt;
</pre></div>
</div>
</section>
</section>
<section id="pcie-test">
<h4>3.2.15 PCIE Test<a class="headerlink" href="#pcie-test" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: OK3562 PCIE 2.0 and USB 3.0 cannot be used simultaneously.</strong></p>
<p>OK3562-C board has 1 x PCIE 2.0.</p>
<p>Before powering up the system, insert the PCIE module into the PCIE card slot on the carrier board. Set the DIP switch S3 on the carrier board to ON, and in the U-Boot menu, set combphy_type to pcie. Refer to 4.2.29  Uboot Menu</p>
<p>After powering up and booting, from lspci we can see that the corresponding device enumeration is successful.</p>
<p><img alt="Image" src="_images/1749198994358_453da366_3386_489f_8f85_810a40fa3009.png" /></p>
<p>Due to the many types of pcie devices, it may not be supported by the kernel by default, so you need to add the corresponding driver for the compiled device by yourself.</p>
<p>Take PCIe to M.2 SSD as an example, the Linux kernel by default already includes the driver for this type of SSD. After inserting and powering on, you will be able to see enumeration information and corresponding devices will appear.</p>
<p><img alt="Image" src="_images/1749198994421_0a670412_4fca_4a92_bbf7_5787c390330e.png" /></p>
</section>
<section id="ethernet-configuration">
<h4>3.2.16 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C development board is equipped with two network cards, one Gigabit and one hundred-megabit. When connected to the network, eth0 is configured with a static IP address by default upon factory settings.</p>
<p>Configuration file path is:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>forlinx@ok3562:~$ vi /etc/netplan/01-netcfg.yaml   					//Configuration file
network:
        ethernets:
                eth0:									      //Specify the network card
                        addresses: [192.168.0.123/24]		
    //Specify a fixed IP address and subnet mask
                        gateway4: 192.168.0.1							//Specify the gateway
                        nameservers:
                                addresses: [114.114.114.114,8.8.8.8]	//Specify the DNS
                eth1:									
    //Specify the network card
                        dhcp4: true		
    //Specify to obtain an IP address automatically
        version: 2
</pre></div>
</div>
</section>
<section id="id1">
<h4>3.2.17 WiFi Test<a class="headerlink" href="#id1" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note: The network environment is different, so please set it according to the actual situation when you do this experiment.</strong></p>
<p>OK3562 platform supports WIFI Bluetooth 2-in-1 module: 6221A-SRC (RTL8821CS).</p>
<ul class="simple">
<li><p><strong>STA Mode</strong></p></li>
</ul>
<p>This mode means that it acts as a station and connects to the wireless network. In the following test, the router uses WPA encryption, the connected wifi hotspot name is: H3C_708_5G and the password is: 123456785. Due to the different network environments, please set up according to the actual situation when conducting this test:</p>
<p>1. Enter the following command in the development board terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# nmcli dev wifi connect &quot;forlinx-wlan&quot; password &quot;fl03123102650&quot;
</pre></div>
</div>
<p>The meanings of the related parameters in the command are as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>connect</p></td>
<td><p>Actual wifi hotspot connected</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>password</p></td>
<td><p>Password for wifi hotspot</p></td>
</tr>
</tbody>
</table>
<p>The serial port prints as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# nmcli dev wifi connect ‚Äúforlinx-wlan‚Äù password ‚Äúfl03123102650‚Äù
Device ‚Äúwlan0‚Äù was successfully activated with ‚Äú2e0632c5-926a-437d-9288-7809948965e0‚Äù.
</pre></div>
</div>
<p>2. Check whether it can ping the external network and enter the following command in the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping baidu.com -c 4                 //Specify to ping 4 times
PING baidu.com (39.156.66.10) 56(84) bytes of data.
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=1 ttl=51 time=14.6 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=2 ttl=51 time=8.19 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=3 ttl=51 time=8.86 ms
64 bytes from 39.156.66.10 (39.156.66.10): icmp_seq=4 ttl=51 time=7.93 ms

--- baidu.com ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3005ms
rtt min/avg/max/mdev = 7.925/9.884/14.565/2.723 ms
root@ok3562:/#
</pre></div>
</div>
<ul class="simple">
<li><p><strong>AP Mode</strong></p></li>
</ul>
<p>Before conducting this test, ensure that the Gigabit network card eth0 is connected to the network and functioning properly, so that the mobile phone can access the Internet after connecting to the hotspot.</p>
<p>1. View the drive loading status;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsmod                    							   //View the loaded moudule
Module                  Size  Used by
8821cs               2822144  0
</pre></div>
</div>
<p>2. Download iptables and configure to enable the forwarding function;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# apt-get install iptables
Reading package lists‚Ä¶ Done
Building dependency tree‚Ä¶ Done
Reading state information‚Ä¶ Done
The following packages were automatically installed and are no longer required:
activity-log-manager ibus-data ibus-gtk ibus-gtk3 ibus-gtk4 libdee-1.0-4 libgeonames-common libgeonames0 libtimezonemap-data libtimezonemap1 libunity-control-center1 libxcb-xv0
libzeitgeist-2.0-0 python3-ibus-1.0 zeitgeist-core
Use ‚Äòapt autoremove‚Äô to remove them.
The following additional packages will be installed:
libip6tc2 libnftnl11
Suggested packages:
firewalld nftables
The following NEW packages will be installed:
iptables libip6tc2 libnftnl11
0 upgraded, 3 newly installed, 0 to remove and 19 not upgraded.
Need to get 536 kB of archives.
After this operation, 2,653 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 libip6tc2 arm64 1.8.7-1ubuntu5.2 [20.2 kB]
Get:2 http://ports.ubuntu.com/ubuntu-ports jammy/main arm64 libnftnl11 arm64 1.2.1-1build1 [64.5 kB]
Get:3 http://ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 iptables arm64 1.8.7-1ubuntu5.2 [451 kB]
Fetched 536 kB in 2s (254 kB/s)
Selecting previously unselected package libip6tc2:arm64.
(Reading database ‚Ä¶ There are 176092 files and directories currently installed.)
Preparing to unpack ‚Ä¶/libip6tc2_1.8.7-1ubuntu5.2_arm64.deb ‚Ä¶
Unpacking libip6tc2:arm64 (1.8.7-1ubuntu5.2) ‚Ä¶
Selecting previously unselected package libnftnl11:arm64.
Preparing to unpack ‚Ä¶/libnftnl11_1.2.1-1build1_arm64.deb ‚Ä¶
Unpacking libnftnl11:arm64 (1.2.1-1build1) ‚Ä¶
Selecting previously unselected package iptables.
Preparing to unpack ‚Ä¶/iptables_1.8.7-1ubuntu5.2_arm64.deb ‚Ä¶
Unpacking iptables (1.8.7-1ubuntu5.2) ‚Ä¶
Setting up libip6tc2:arm64 (1.8.7-1ubuntu5.2) ‚Ä¶
Setting up libnftnl11:arm64 (1.2.1-1build1) ‚Ä¶
Setting up iptables (1.8.7-1ubuntu5.2) ‚Ä¶
update-alternatives: using /usr/sbin/iptables-legacy to provide /usr/sbin/iptables (iptables) in auto mode
update-alternatives: using /usr/sbin/ip6tables-legacy to provide /usr/sbin/ip6tables (ip6tables) in auto mode
update-alternatives: using /usr/sbin/iptables-nft to provide /usr/sbin/iptables (iptables) in auto mode
update-alternatives: using /usr/sbin/ip6tables-nft to provide /usr/sbin/ip6tables (ip6tables) in auto mode
update-alternatives: using /usr/sbin/arptables-nft to provide /usr/sbin/arptables (arptables) in auto mode
update-alternatives: using /usr/sbin/ebtables-nft to provide /usr/sbin/ebtables (ebtables) in auto mode
Processing triggers for man-db (2.10.2-1) ‚Ä¶
Processing triggers for doc-base (0.11.1) ‚Ä¶
Processing 2 added doc-base files‚Ä¶
Error in ‚Äú/usr/share/doc-base/iptables.nat‚Äù, line 11: all Format&#39; sections are invalid. Error in &quot;/usr/share/doc-base/iptables.packet-filter&quot;, line 10: all Format‚Äô sections are invalid.
Note: Use ‚Äúinstall-docs --verbose --check file_name‚Äù for more details on the above errors.
Processing triggers for libc-bin (2.35-0ubuntu3.9) ‚Ä¶

root@ok3562:~# update-alternatives --set iptables /usr/sbin/iptables-legacy
root@ok3562:~# iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
root@ok3562:~# sysctl net.ipv4.ip_forward=1
net.ipv4.ip_forward = 1
</pre></div>
</div>
<p>3. Configure Hotspot;</p>
<p>WiFi Hotspot Name: OK3562_WIFI_2.4G_AP</p>
<p>Password: 12345678</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# nmcli device wifi hotspot con-name 3568-test-AP ssid OK3562_WIFI_2.4G_AP password 12345678 ifname wlan0
Device ‚Äúwlan0‚Äù was successfully activated with ‚Äúdc0d2529-bb39-4b5b-ba61-8c692cb9eeee‚Äù.
Hint: ‚Äúnmcli dev wifi show-password‚Äù shows Wi-Fi names and passwords.
</pre></div>
</div>
<p>4. Test connection.</p>
<p>At this point, a phone or computer can search for the Wi-Fi hotspot ‚ÄúOK3562_WIFI_2.4G_AP‚Äù. Once connected, you can access the internet.</p>
</section>
<section id="id2">
<h4>3.2.18 Bluetooth Test<a class="headerlink" href="#id2" title="Link to this heading">ÔÉÅ</a></h4>
<p>6221A-SRCÔºàRTL8821CSÔºâmodule on the OK3562 carrier board integrates Bluetooth. This section demonstrates data transfer via Bluetooth between a cell phone and the development board. It can support Bluetooth up to 4.2.</p>
<p>1. Bluetooth Configuration;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# bluetoothctl // Open the bluez Bluetooth tool
Agent registered
[bluetooth]# power on // Start the Bluetooth device
Changing power on succeeded
[bluetooth]# pairable on // Set to pairing mode
Changing pairable on succeeded
[bluetooth]# discoverable on // Set to discoverable mode
Changing discoverable on succeeded
[CHG] Controller 5C:C5:63:67:54:B1 Discoverable: yes
[bluetooth]# agent on // Start the agent
Agent is already registered
[bluetooth]# default-agent // Set the current agent as the default
Default agent request successful
</pre></div>
</div>
<p>2. Development Board Passive Pairing.</p>
<p>At this time, open the PC Bluetooth search, and a ‚ÄúOK3562‚Äù device will appear. Select pairing.</p>
<p><img alt="Image" src="_images/1749198994494_1226cc85_42fd_4cdf_94f7_6bbdf5074ee3.png" /></p>
<p>At the same time the printing message displays on the development board as follows, enter yes</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[NEW] Device 8C:88:2B:43:64:63 WORK_PC
Request confirmation
[agent] Confirm passkey 187378 (yes/no): yes
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 Modalias: bluetooth:v0006p0001d0A00
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 00001000-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000111e-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 8C:88:2B:43:64:63 UUIDs: c7f94713-891e-496a-a0e7-983a0946126e
[CHG] Device 8C:88:2B:43:64:63 ServicesResolved: yes
[CHG] Device 8C:88:2B:43:64:63 Paired: yes
Authorize service
[agent] Authorize service 0000110e-0000-1000-8000-00805f9b34fb (yes/no): yes
[WORK_PC]#
</pre></div>
</div>
<p>View and remove connected devices:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[WORK_PC]# devices												//View connected Bluetooth device
Device 8C:88:2B:43:64:63 WORK_PC
[WORK_PC]# remove 8C:88:2B:43:64:63								//Remove the device
[CHG] Device 8C:88:2B:43:64:63 ServicesResolved: no
Device has been removed
[CHG] Device 8C:88:2B:43:64:63 Connected: no
</pre></div>
</div>
<p>3. Development board active pairing</p>
<p>In addition to passive pairing, it is also possible to send an active pairing request from the development board terminal</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[bluetooth]# scan on									// Search for discoverable Bluetooth devices
Discovery started
[CHG] Controller 5C:C5:63:67:54:B1 Discovering: yes
[NEW] Device 5B:1A:92:34:64:27 5B-1A-92-34-64-27
[NEW] Device 08:F0:B0:B9:E7:C3 EDIFIER BLE
[NEW] Device 3D:F2:A4:5A:9E:B4 3D-F2-A4-5A-9E-B4
[NEW] Device 8C:88:2B:43:64:63 WORK_PC
[NEW] Device 82:77:16:CA:2E:28 Xiaomi Watch S1 2E28
[NEW] Device 4F:46:D7:2D:E4:DF 4F-46-D7-2D-E4-DF
[bluetooth]# scan off													//Stop searching
Discovery stopped
[CHG] Device 4F:46:D7:2D:E4:DF TxPower is nil
[CHG] Device 4F:46:D7:2D:E4:DF RSSI is nil
[CHG] Device 82:77:16:CA:2E:28 RSSI is nil
[CHG] Device 8C:88:2B:43:64:63 TxPower is nil
[CHG] Device 8C:88:2B:43:64:63 RSSI is nil
[CHG] Device 3D:F2:A4:5A:9E:B4 RSSI is nil
[CHG] Device 08:F0:B0:B9:E7:C3 RSSI is nil
[CHG] Device 5B:1A:92:34:64:27 TxPower is nil
[CHG] Device 5B:1A:92:34:64:27 RSSI is nil
[CHG] Controller 5C:C5:63:67:54:B1 Discovering: no
[bluetooth]# pair 8C:88:2B:43:64:63								//Pair the bluethooth
Attempting to pair with 8C:88:2B:43:64:63
[CHG] Device 8C:88:2B:43:64:63 Connected: yes
Request confirmation
[agent] Confirm passkey 526680 (yes/no): yes					//Confirm the password
</pre></div>
</div>
<p>4. Development board to receive documents</p>
<p>After successful pairing, on the PC side, Bluetooth can send files to the OK3562-C.</p>
<p><img alt="Image" src="_images/1720417686733_a7c68469_02b0_45da_af81_789c0d2f93e3.png" /></p>
<p>Received files are saved in the /tmp directory.</p>
</section>
<section id="g">
<h4>3.2.19 4G<a class="headerlink" href="#g" title="Link to this heading">ÔÉÅ</a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>When using the IoT card to test, the module firmware version needs to be confirmed, the low firmware version is not supported, and EC20 needs to be upgraded;</strong></p></li>
<li><p><strong>Some IoT cards require a dedicated account number and password when dialing, and users adjust the commands according to the situation;</strong></p></li>
<li><p><strong>The quectelCM ‚Äìhelp command allows you to see the meaning of the relevant parameters.</strong></p></li>
</ul>
<p>The OK3562 supports the 4G module EC20. Before powering on the development board, connect the 4G module and insert the SIM card, then start the board.</p>
<p>1. After connecting the module and powering up the board and module, check the USB status through the lsusb command;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# lsusb
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 005: ID 2c7c:0125 Quectel Wireless Solutions Co., Ltd. EC25 LTE modem
Bus 001 Device 002: ID 1a40:0101 Terminus Technology Inc. Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre></div>
</div>
<p>View device node status under /dev.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ls /dev/ttyUSB*
/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2  /dev/ttyUSB3
</pre></div>
</div>
<p>2. After the equipment is successfully identified, the dial-up Internet access test can be conducted. fltest_quectel.sh calls quectelCM, see /usr/bin/fltest_quectel.sh for specific commands;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# fltest_quectel.sh &amp;
</pre></div>
</div>
<p>Printing information is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[02-20_21:28:46:481] QConnectManager_Linux_V1.6.4
[02-20_21:28:46:482] Find /sys/bus/usb/devices/1-1.4 idVendor=0x2c7c idProduct=0x125, bus=0x001, dev=0x005
[02-20_21:28:46:483] Auto find qmichannel = /dev/qcqmi0
[02-20_21:28:46:483] Auto find usbnet_adapter = enx0250f4000000
[02-20_21:28:46:483] netcard driver = GobiNet, driver version = V1.6.2.14
[02-20_21:28:46:483] Modem works in QMI mode
[02-20_21:28:46:505] Get clientWDS = 7
[02-20_21:28:46:537] Get clientDMS = 8
[02-20_21:28:46:569] Get clientNAS = 9
[02-20_21:28:46:601] Get clientUIM = 10
[02-20_21:28:46:634] Get clientWDA = 11
[02-20_21:28:46:665] requestBaseBandVersion EC20CEHDLGR06A07M1G
[02-20_21:28:46:794] requestGetSIMStatus SIMStatus: SIM_READY
[02-20_21:28:46:825] requestGetProfile[1] cmnet///0/IPV4V6
[02-20_21:28:46:857] requestRegistrationState2 MCC: 460, MNC: 0, PS: Attached, DataCap: LTE
[02-20_21:28:46:889] requestQueryDataCall IPv4ConnectionStatus: DISCONNECTED
[02-20_21:28:46:889] ifconfig enx0250f4000000 0.0.0.0
[02-20_21:28:46:902] ifconfig enx0250f4000000 down
[02-20_21:28:46:954] requestSetupDataCall WdsConnectionIPv4Handle: 0x86f55c40
[02-20_21:28:47:115] ifconfig enx0250f4000000 up
[02-20_21:28:47:127] dhclient -4 -d --no-pid enx0250f4000000
Internet Systems Consortium DHCP Client 4.4.1
Copyright 2004-2018 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/

Listening on LPF/enx0250f4000000/02:50:f4:00:00:00
Sending on   LPF/enx0250f4000000/02:50:f4:00:00:00
Sending on   Socket/fallback
DHCPREQUEST for 10.186.158.144 on enx0250f4000000 to 255.255.255.255 port 67 (xid=0x2848adb2)
DHCPACK of 10.186.158.144 from 10.186.158.145 (xid=0xb2ad4828)
bound to 10.186.158.144 -- renewal in 2738 seconds.
</pre></div>
</div>
<p>3. Before testing, check the relevant configuration;</p>
<p>View Gateway Configuration.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         _gateway        0.0.0.0         UG    0      0        0 enx0250f4000000
10.186.158.128  0.0.0.0         255.255.255.224 U     0      0        0 enx0250f4000000
</pre></div>
</div>
<p>Viewing DNS Configuration.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /etc/resolv.conf
# This is /run/systemd/resolve/stub-resolv.conf managed by man:systemd-resolved(8).
# Do not edit.
#
# This file might be symlinked as /etc/resolv.conf. If you&#39;re looking at
# /etc/resolv.conf and seeing this text, you have followed the symlink.
#
# This is a dynamic resolv.conf file for connecting local clients to the
# internal DNS stub resolver of systemd-resolved. This file lists all
# configured search domains.
#
# Run &quot;resolvectl status&quot; to see details about the uplink DNS servers
# currently in use.
#
# Third party programs should typically not access this file directly, but only
# through the symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a
# different way, replace this symlink by a static file or a different symlink.
#
# See man:systemd-resolved.service(8) for details about the supported modes of
# operation for /etc/resolv.conf.

nameserver 127.0.0.53
options edns0 trust-ad
search .
</pre></div>
</div>
<p>4. After setting up DNS and routing, we can ping the domain name.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# ping  www.baidu.com -c 3
PING www.a.shifen.com (39.156.70.46): 56 data bytes
64 bytes from 39.156.70.46: icmp_seq=0 ttl=51 time=50.003 ms
64 bytes from 39.156.70.46: icmp_seq=1 ttl=51 time=40.150 ms
64 bytes from 39.156.70.46: icmp_seq=2 ttl=51 time=48.250 ms
--- www.a.shifen.com ping statistics ---
3 packets transmitted, 3 packets received, 0% packet loss
round-trip min/avg/max/stddev = 40.150/46.134/50.003/4.292 ms
</pre></div>
</div>
</section>
<section id="play-record-test">
<h4>3.2.20 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>There is a standard 3.5mm audio socket, which is led out via a white XH2.0 - 2P socket P22. It can drive an 8Œ© speaker with a maximum output power of 1W. Before carrying out the sound - playback test, the prepared earphones should be inserted into the earpiece interface, or the speaker should be inserted into the corresponding slot on the carrier board for testing.</p>
<p>Play the sound</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# gst-play-1.0 /userdata/media/test.mp3
Press the &quot;k&quot; key to display the keyboard shortcut list.
Playing /userdata/media/test.mp3
Redistribute latency...
Redistribute latency...
0:00:04.9 / 0:05:00.0
</pre></div>
</div>
<p>By default, the audio is played through the speaker; inserting headphones automatically mutes the speaker.</p>
<p>MIC input</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# arecord -l
**** List of CAPTURE Hardware Devices ****
card 0: rockchiprk809 [rockchip-rk809], device 0: dailink-multicodecs rk817-hifi-0 [dailink-multicodecs rk817-hifi-0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
root@ok3562:~# arecord -d 5 -f cd -t wav test1.wav    		// Record audio for 5 seconds and save it in WAV format
Recording WAVE &#39;test1.wav&#39;: Signed 16 bit Little Endian, 44100 Hz, Stereo
root@ok3562:~# aplay  test1.wav   							// Play the recorded audio
Playing WAVE &#39;test1.wav&#39;: Signed 16 bit Little Endian, 44100 Hz, Stereo
</pre></div>
</div>
</section>
<section id="lcd-backlight-adjustment">
<h4>3.2.21 LCD Backlight Adjustment<a class="headerlink" href="#lcd-backlight-adjustment" title="Link to this heading">ÔÉÅ</a></h4>
<p>Backlight level range (0‚Äì255), maximum level 255, 0 indicating turn off. After connecting the mipi screen on the mipi dsi0, power up and start. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<p>1. View the current screen backlight value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# cat /sys/class/backlight/backlight/brightness
200                                    //The current backlight is 200
</pre></div>
</div>
<p>2. Backlight is off:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 0 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
<p>3. LCD backlight is on:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:~# echo 125 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
</section>
<section id="can-test">
<h4>3.2.22 CAN Test<a class="headerlink" href="#can-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562-C platform has an industrial-grade configuration with two CAN bus interfaces and CAN connectivity: The ‚ÄúH‚Äù terminal of CAN should be connected to the ‚ÄúH‚Äù terminal of other CAN devices. The ‚ÄúL‚Äù terminal of CAN should be connected to the ‚ÄúL‚Äù terminal of other CAN devices.</p>
<p>Short CAN0 and CAN1, short pins CAN1_L and CAN0_L, and CAN1_H and CAN0_H on port P36, as shown in the diagram:</p>
<p><img alt="Image" src="_images/1720417687199_550c88e4_6a67_4cac_a4bb_574c91738d6d.png" /></p>
<p>Execute the following command in the development board terminal:</p>
<p>1. View CAN network devices;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig -a
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:78

can1      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:79
</pre></div>
</div>
<p>2. CAN device baud rate;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ip link set can0 type can bitrate 500000
root@ok3562:/# ip link set can1 type can bitrate 500000
</pre></div>
</div>
<p>Set the baud rate of the can0 and can1 devices to 500000</p>
<p>3. Open the can device;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# ifconfig can0 up
root@ok3562:/# ifconfig can1 up
</pre></div>
</div>
<p>4. Client sending data; Server receiving data.</p>
<p>The can0 device acts as a server (the server first executes the following command).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# candump can0 &amp;
</pre></div>
</div>
<p>can1 device as a client (client sends data)</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# cansend can1 1F334455#1122334455667788
  can0  1F334455   [8]  11 22 33 44 55 66 77 88
</pre></div>
</div>
</section>
<section id="spi-test">
<h4>3.2.23 SPI Test<a class="headerlink" href="#spi-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>In the OK3562 platform‚Äôs carrier board schematic, there is an SPI test pinout located at carrier board position P8.</p>
<p><img alt="Image" src="_images/1720417687846_dfff0204_6506_4d62_9a85_c3de443e5b21.png" /></p>
<p>Short the SPI2_MOSI_MO and SPI2_MISO_M0 pins.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3562:/# fltest_spidev_test -D /dev/spidev2.0
 spi mode: 0
bits per word: 8
max speed: 500000 Hz (500 KHz)

FF FF FF FF FF FF
40 00 00 00 00 95
FF FF FF FF FF FF
FF FF FF FF FF FF
FF FF FF FF FF FF
DE AD BE EF BA AD
F0 0D
PASS 
</pre></div>
</div>
</section>
<section id="uboot-menu">
<h4>3.2.24 Uboot Menu<a class="headerlink" href="#uboot-menu" title="Link to this heading">ÔÉÅ</a></h4>
<p>Press space during U-boot startup to enter the U-boot menu when you see the following message.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;Spacebar&#39;):  0
</pre></div>
</div>
<p>The numbers in front of each item in the menu correspond to the respective operation commands.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display type:mipi
3:amp start:off
4:combphy type:usb
---------------------------------------------
</pre></div>
</div>
<p>Enter 0 to access the U-Boot shell</p>
<p>Enter 1 to reboot the board</p>
<p>Enter 2 to modify the display mode. The Display type will cycle between ‚Äúmipi‚Äù, ‚Äúlvds‚Äù, and ‚Äúnone‚Äù.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>mipi, for MIPI display, it is compatible with Forlinx‚Äôs 7 - inch capacitive touch MIPI screen with a resolution of 1024*600.

lvds, for LVDS display, it is compatible with Forlinx‚Äôs 10.1 - inch capacitive touch LVDS screen with a resolution of 1280*800.

none, turn off the display.
</pre></div>
</div>
<p>Enter 3 to modify the amp operation status, and amp start will be displayed cyclically in the on ‚Äú‚Äù off ‚Äú.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>on: Turn on the AMP.

off: Turn off the AMP.
</pre></div>
</div>
<p>Enter 4 to modify the combphy multiplexing function. The combphy type will cycle through ‚Äúusb‚Äù, ‚Äúpcie‚Äù, and ‚Äúnone‚Äù options.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>usb: Multiplex Combphy to function as USB.

pcie: Multiplex Combphy to function as PCIe.

none: Turn off the Combphy function.
</pre></div>
</div>
<p>After modifying through the U-Boot menu, changes are automatically saved without the need for manual saving.</p>
</section>
</section>
</section>
<section id="ok3562-platform-multimedia-test">
<h2>4. OK3562 Platform Multimedia Test<a class="headerlink" href="#ok3562-platform-multimedia-test" title="Link to this heading">ÔÉÅ</a></h2>
<p>Some application layer software for audio and video on the OK3562 platform uses Gstreamer, which supports hardware codecs. All examples in this section based on the GStreamer command line form. If users need a player with an interface, they can also use qt‚Äôs multimedia classes, which also support codecs, see the Qt Tests chapter.</p>
<p>The OK3562 platform has an internal video processing unit, the VPU, which supports hardware codecs for video in the following formats:</p>
<p>Video Decoding: H264, H265, VP9; maximum support 4Kx2K&#64;30fps.</p>
<p>Video Encoding: H264, maximum support 1080p&#64;60fps</p>
<p>Table of hardware codec parameters for the OK3562 platform:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Video Decoder</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Profile</p></th>
<th class="head"><p>Resolution</p></th>
<th class="head"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p>H.265</p></td>
<td><p>Main Profile yuv420&#64;L5.0</p></td>
<td><p>4096√ó2304</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.264</p></td>
<td><p>Main Profile yuv400/yuv420/yuv422/&#64;L5.0</p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>VP9</p></td>
<td><p>Profile0 yuv420&#64;L5.0</p></td>
<td><p>4096x2304</p></td>
<td><p>30fps</p></td>
</tr>
<tr class="row-odd"><td><p>Video Encoder</p></td>
<td><p>H.264</p></td>
<td><p>High Profile level4.2</p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
</tbody>
</table>
<section id="audio-video-playback">
<h3>4.1 Audio &amp; Video Playback<a class="headerlink" href="#audio-video-playback" title="Link to this heading">ÔÉÅ</a></h3>
<p>Note: Since the Ubuntu desktop manager does not utilize hardware acceleration, it is recommended to disable the desktop manager when playing videos with GStreamer to achieve smoother playback.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>lightdm
</pre></div>
</div>
<section id="playing-audio-and-video-with-gst-play">
<h4>4.1.1 Playing Audio and Video With Gst-play<a class="headerlink" href="#playing-audio-and-video-with-gst-play" title="Link to this heading">ÔÉÅ</a></h4>
<p>Gplay is an audio/video player based on GStreamer that can automatically select the right plugin for audio/video play according to the hardware, and it is easy to run.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-play-1.0<span class="w"> </span>/userdata/media/1080p_60fps_h264-30S.mp4
//<span class="w"> </span>Play<span class="w"> </span>a<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>sound.<span class="w"> </span>Test<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span>via<span class="w"> </span>headphones.
Press<span class="w"> </span>the<span class="w"> </span>‚Äúk‚Äù<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>the<span class="w"> </span>keyboard<span class="w"> </span>shortcut<span class="w"> </span>list.
Playing<span class="w"> </span>/userdata/media/1080p_60fps_h264-30S.mp4
arm_release_ver:<span class="w"> </span>g13p0<span class="w"> </span>-<span class="w"> </span>01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
Redistribute<span class="w"> </span>latency‚Ä¶
Redistribute<span class="w"> </span>latency‚Ä¶
Redistribute<span class="w"> </span>latency‚Ä¶
<span class="m">0</span>:00:03.0<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0
</pre></div>
</div>
</section>
<section id="playing-video-with-gst-launch">
<h4>4.1.2 Playing Video With gst-launch<a class="headerlink" href="#playing-video-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_h265-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink
//<span class="w"> </span>Play<span class="w"> </span>video<span class="w"> </span>only.
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0<span class="w"> </span>-<span class="w"> </span>01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>‚Äúautovideosink0‚Äù<span class="p">;</span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="m">0</span>:00:25.3<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">84</span>.6<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="playing-audio-with-gst-launch">
<h4>4.1.3 Playing Audio With Gst-launch<a class="headerlink" href="#playing-audio-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/test.mp3<span class="w"> </span>!<span class="w"> </span>id3demux<span class="w"> </span>!<span class="w"> </span>mpegaudioparse<span class="w"> </span>!<span class="w"> </span>mpg123audiodec<span class="w"> </span>!<span class="w"> </span>alsasink<span class="w"> </span><span class="nv">device</span><span class="o">=</span>plughw:0,0
//<span class="w"> </span>Play<span class="w"> </span>audio<span class="w"> </span>only.<span class="w"> </span>Test<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span>via<span class="w"> </span>headphones.
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
<span class="m">0</span>:00:02.1<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:05:00.0<span class="w"> </span><span class="o">(</span><span class="m">0</span>.7<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="playing-video-and-audio-with-gst-launch">
<h4>4.1.4 Playing Video and Audio With gst-launch<a class="headerlink" href="#playing-video-and-audio-with-gst-launch" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_h265-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>dec<span class="w"> </span>dec.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink<span class="w"> </span>dec.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>avdec_aac<span class="w"> </span>!<span class="w"> </span>audioconvert<span class="w"> </span>!<span class="w"> </span>alsasink<span class="w"> </span><span class="nv">device</span><span class="o">=</span>plughw:0,0
//<span class="w"> </span>Play<span class="w"> </span>a<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>sound.<span class="w"> </span>Test<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span>via<span class="w"> </span>headphones.
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0<span class="w"> </span>-<span class="w"> </span>01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
Redistributing<span class="w"> </span>latency‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
<span class="m">0</span>:00:01.8<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">6</span>.2<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-encoding">
<h3>4.2 Video Hardware Encoding<a class="headerlink" href="#video-hardware-encoding" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports up to H264 1920x1080 &#64; 60fps</p>
<section id="video-hardware-encoding-h-264">
<h4>4.2.1 Video Hardware Encoding H.264<a class="headerlink" href="#video-hardware-encoding-h-264" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0<span class="w"> </span>videotestsrc<span class="w"> </span>num<span class="w"> </span>-<span class="w"> </span><span class="nv">buffers</span><span class="o">=</span><span class="m">600</span><span class="w"> </span>!<span class="w"> </span>video/x<span class="w"> </span>-<span class="w"> </span>raw,framerate<span class="o">=</span><span class="m">60</span>/1,width<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1920</span>,height<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1080</span>,format<span class="w"> </span><span class="o">=</span><span class="w"> </span>NV12<span class="w"> </span>!<span class="w"> </span>mpph264enc<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mp4mux<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>test.mp4
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
rga_api<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.9.2_<span class="o">[</span><span class="m">1</span><span class="o">]</span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Received<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>‚Äòpipeline0‚Äô.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:17.808362671
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL‚Ä¶
Freeing<span class="w"> </span>pipeline<span class="w"> </span>resources‚Ä¶
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-decoding">
<h3>4.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading">ÔÉÅ</a></h3>
<p>OK3562 supports H.264 and H.265 video hardware decoding. The H.264 decoder handles up to 1920x1080&#64;60fps, and the H.265 decoder supports 4K&#64;30fps.</p>
<p>OK3562 uses the mppvideodec component for hardware video decoding, and its output formats are NV12, I420, and YV12.</p>
<section id="decoding-and-playing-h264-format-video">
<h4>4.3.1 Decoding and Playing H264 Format Video<a class="headerlink" href="#decoding-and-playing-h264-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_60fps_h264-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="m">0</span>:00:03.7<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">12</span>.4<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h264-format-video-with-audio">
<h4>4.3.2 Decoding and Playing H264 Format Video With Audio<a class="headerlink" href="#decoding-and-playing-h264-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_60fps_h264-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>dec<span class="w"> </span>dec.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink<span class="w"> </span>dec.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>avdec_aac<span class="w"> </span>!<span class="w"> </span>audioconvert<span class="w"> </span>!<span class="w"> </span>alsasink<span class="w"> </span><span class="nv">device</span><span class="o">=</span>plughw:0,0
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
Redistributing<span class="w"> </span>latency‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
<span class="m">0</span>:00:02.8<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">9</span>.3<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h265-format-video">
<h4>4.3.3 Decoding and Playing H265 Format Video<a class="headerlink" href="#decoding-and-playing-h265-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_h265-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink
//<span class="w"> </span>Play<span class="w"> </span>video<span class="w"> </span>only
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="m">0</span>:00:25.3<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">84</span>.6<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h265-format-video-with-audio">
<h4>4.3.4 Decoding and Playing H265 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-h265-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_h265-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>dec<span class="w"> </span>dec.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink<span class="w"> </span>dec.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>avdec_aac<span class="w"> </span>!<span class="w"> </span>audioconvert<span class="w"> </span>!<span class="w"> </span>alsasink<span class="w"> </span><span class="nv">device</span><span class="o">=</span>plughw:0,0
//<span class="w"> </span>Play<span class="w"> </span>a<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>sound.<span class="w"> </span>Test<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span>via<span class="w"> </span>headphones.
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
Redistributing<span class="w"> </span>latency‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
<span class="m">0</span>:00:01.8<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">6</span>.2<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video">
<h4>4.3.5 Decoding and Playing VP9 Format Video<a class="headerlink" href="#decoding-and-playing-vp9-format-video" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_vp9-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>vp9parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span><span class="w"> </span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="m">0</span>:00:02.7<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">9</span>.1<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video-with-audio">
<h4>4.3.6 Decoding and Playing VP9 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-vp9-format-video-with-audio" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/4k_30fps_vp9-30S.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>dec<span class="w"> </span>dec.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>vp9parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>autovideosink<span class="w"> </span>dec.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>avdec_aac<span class="w"> </span>!<span class="w"> </span>audioconvert<span class="w"> </span>!<span class="w"> </span>alsasink<span class="w"> </span><span class="nv">device</span><span class="o">=</span>plughw:0,0
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED‚Ä¶
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING‚Ä¶
Obtain<span class="w"> </span>contextÔºögst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span>autovideosink0<span class="p">;</span>
Redistributing<span class="w"> </span>latency‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED‚Ä¶<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>%<span class="o">)</span>
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING‚Ä¶
Redistributing<span class="w"> </span>latency‚Ä¶
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
<span class="m">0</span>:00:02.7<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:30.0<span class="w"> </span><span class="o">(</span><span class="m">9</span>.1<span class="w"> </span>%<span class="o">)</span>
</pre></div>
</div>
</section>
</section>
<section id="camera-test">
<h3>4.4 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading">ÔÉÅ</a></h3>
<p>The OK3562 supports the OV13855 MIPI camera as well as the UVC camera. First to test the UVC camera, here to Logitech C270 process test, the USB camera will be inserted into the development board, will automatically install uvc driver.</p>
<section id="uvc-camera-test">
<h4>4.4.1 UVC Camera Test<a class="headerlink" href="#uvc-camera-test" title="Link to this heading">ÔÉÅ</a></h4>
<section id="camera-recognition-detection-and-format-support-queries">
<h5>4.4.1.1 Camera Recognition Detection and Format Support Queries<a class="headerlink" href="#camera-recognition-detection-and-format-support-queries" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Recognition Detection</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-devices<span class="w">	</span>//View<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>node,<span class="w"> </span>and<span class="w"> </span>see<span class="w"> </span>that/dev/video40<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span><span class="m">41</span><span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>USB<span class="w"> </span>camera<span class="w"> </span>node.
rk<span class="w"> </span>rkisp-statistics<span class="w"> </span><span class="o">(</span>platform:<span class="w"> </span>rkisp<span class="o">)</span>:
<span class="w">        </span>/dev/video38
<span class="w">        </span>/dev/video39

rkcif-mipi-lvds<span class="w"> </span><span class="o">(</span>platform:rkcif<span class="o">)</span>:
<span class="w">        </span>/dev/media0
<span class="w">        </span>/dev/media1
<span class="w">        </span>/dev/media2
<span class="w">        </span>‚Ä¶‚Ä¶..

WIN2<span class="w"> </span>USB2.0<span class="w"> </span>PC<span class="w"> </span>Camera:<span class="w"> </span>WIN2<span class="w"> </span>USB<span class="w"> </span><span class="o">(</span>usb-fed00000.usb-1.3<span class="o">)</span>:
<span class="w">        </span>/dev/video40
<span class="w">        </span>/dev/video41
<span class="w">        </span>/dev/media4
Support<span class="w"> </span>format<span class="w"> </span>queries
root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-formats-ext<span class="w"> </span>-d<span class="w"> </span>/dev/video40<span class="w"> 	</span>//View<span class="w"> </span>formats<span class="w"> </span>supported<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>camera
ioctl:<span class="w"> </span>VIDIOC_ENUM_FMT
<span class="w">        </span>Type:<span class="w"> </span>Video<span class="w"> </span>Capture

<span class="w">        </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;YUYV&#39;</span><span class="w"> </span><span class="o">(</span>YUYV<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Discrete<span class="w"> </span>640x480
<span class="w">                        </span>Interval:<span class="w"> </span>Discrete<span class="w"> </span><span class="m">0</span>.033s<span class="w"> </span><span class="o">(</span><span class="m">30</span>.000<span class="w"> </span>fps<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Discrete<span class="w"> </span>352x288
<span class="w">                        </span>Interval:<span class="w"> </span>Discrete<span class="w"> </span><span class="m">0</span>.033s<span class="w"> </span><span class="o">(</span><span class="m">30</span>.000<span class="w"> </span>fps<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Discrete<span class="w"> </span>320x240
<span class="w">                        </span>Interval:<span class="w"> </span>Discrete<span class="w"> </span><span class="m">0</span>.033s<span class="w"> </span><span class="o">(</span><span class="m">30</span>.000<span class="w"> </span>fps<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Discrete<span class="w"> </span>176x144
<span class="w">                        </span>Interval:<span class="w"> </span>Discrete<span class="w"> </span><span class="m">0</span>.033s<span class="w"> </span><span class="o">(</span><span class="m">30</span>.000<span class="w"> </span>fps<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Discrete<span class="w"> </span>160x120
<span class="w">                        </span>Interval:<span class="w"> </span>Discrete<span class="w"> </span><span class="m">0</span>.033s<span class="w"> </span><span class="o">(</span><span class="m">30</span>.000<span class="w"> </span>fps<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="camera-capture-format-queries-and-modifications">
<h5>4.4.1.2 Camera Capture Format Queries and Modifications<a class="headerlink" href="#camera-capture-format-queries-and-modifications" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Capture Format Queries</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>-V<span class="w"> </span>-d<span class="w"> </span>/dev/video40
Format<span class="w"> </span>Video<span class="w"> </span>Capture:
<span class="w">        </span>Width/Height<span class="w">      </span>:<span class="w"> </span><span class="m">640</span>/480
<span class="w">        </span>Pixel<span class="w"> </span>Format<span class="w">      </span>:<span class="w"> </span><span class="s1">&#39;YUYV&#39;</span><span class="w"> </span><span class="o">(</span>YUYV<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">        </span>Field<span class="w">             </span>:<span class="w"> </span>None
<span class="w">        </span>Bytes<span class="w"> </span>per<span class="w"> </span>Line<span class="w">    </span>:<span class="w"> </span><span class="m">1280</span>
<span class="w">        </span>Size<span class="w"> </span>Image<span class="w">        </span>:<span class="w"> </span><span class="m">614400</span>
<span class="w">        </span>Colorspace<span class="w">        </span>:<span class="w"> </span>sRGB
<span class="w">        </span>Transfer<span class="w"> </span>Function<span class="w"> </span>:<span class="w"> </span>Rec.<span class="w"> </span><span class="m">709</span>
<span class="w">        </span>YCbCr/HSV<span class="w"> </span>Encoding:<span class="w"> </span>ITU-R<span class="w"> </span><span class="m">601</span>
<span class="w">        </span>Quantization<span class="w">      </span>:<span class="w"> </span>Default<span class="w"> </span><span class="o">(</span>maps<span class="w"> </span>to<span class="w"> </span>Limited<span class="w"> </span>Range<span class="o">)</span>
<span class="w">        </span>Flags<span class="w">             </span>:
</pre></div>
</div>
</section>
<section id="camera-image-preview-and-taking-pictures">
<h5>4.4.1.3 Camera Image Preview and Taking Pictures<a class="headerlink" href="#camera-image-preview-and-taking-pictures" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Image Preview</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video40<span class="w"> </span>!<span class="w"> </span>videoconvert<span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,width<span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>autovideosink
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
Obtaining<span class="w"> </span>context<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;autovideosink0&#39;</span>:<span class="w"> </span>gst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="p">;</span>
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Redistributing<span class="w"> </span>latency...9.
<span class="m">0</span>:00:05.7<span class="w"> </span>/<span class="w"> </span><span class="m">99</span>:99:99.
</pre></div>
</div>
<p>Camera to take pictures</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video40<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">1</span><span class="w"> </span>!<span class="w"> </span>videoconvert<span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,width<span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>mppjpegenc<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>pic.jpg
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Redistributing<span class="w"> </span>latency...
EOS<span class="w"> </span>signal<span class="w"> </span>received<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;pipeline0&#39;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:02.079244679
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL...
Releasing<span class="w"> </span>pipeline<span class="w"> </span>resources...
//<span class="w"> </span>After<span class="w"> </span>the<span class="w"> </span>execution<span class="w"> </span>is<span class="w"> </span>completed,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>view<span class="w"> </span>the<span class="w"> </span>generated<span class="w"> </span>pic.jpg<span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>root<span class="w"> </span>directory.
</pre></div>
</div>
</section>
</section>
<section id="ov13855-test">
<h4>4.4.2 OV13855 Test<a class="headerlink" href="#ov13855-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>For raw sensors such as OV13855, each sensor corresponds to 5 device nodes:</p>
<p><img alt="Image" src="_images/1749198996317_8da83a34_e128_4a5c_8258_35862238fd37.png" /></p>
<p>Mainpath, refers to an output node of Rockchip ISP, which can output full-resolution images, generally used to take photos and capture Raw images.</p>
<p>Self Path, refers to an output node of Rockchip ISP, which can only output up to 1080p resolution and is generally used as a preview.</p>
<p>Statistics 3A</p>
<p>Input-params 3A parameter setting</p>
<p>The test methods for the OV13855 are essentially the same as those for the UVC Camera. This section takes OV13855 as an example for testing</p>
<section id="id3">
<h5>4.4.2.1 Camera Recognition Detection and Format Support Queries<a class="headerlink" href="#id3" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-devices<span class="w">			</span>//View<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>node
rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds<span class="o">)</span>:
<span class="w">        </span>/dev/video0
<span class="w">        </span>/dev/video1
<span class="w">        </span>/dev/video2
<span class="w">        </span>/dev/video3
<span class="w">        </span>/dev/video4
<span class="w">        </span>/dev/video5
<span class="w">        </span>/dev/video6
<span class="w">        </span>/dev/video7
<span class="w">        </span>/dev/video8
<span class="w">        </span>/dev/video9
<span class="w">        </span>/dev/video10

rkisp_mainpath<span class="w"> </span><span class="o">(</span>platform:rkisp-vir0<span class="o">)</span>:
<span class="w">        </span>/dev/video33
<span class="w">        </span>/dev/video34
<span class="w">        </span>/dev/video35
<span class="w">        </span>/dev/video36
<span class="w">        </span>/dev/video37
<span class="w">        </span>/dev/media3

WIN2<span class="w"> </span>USB2.0<span class="w"> </span>PC<span class="w"> </span>Camera:<span class="w"> </span>WIN2<span class="w"> </span>USB<span class="w"> </span><span class="o">(</span>usb-fed00000.usb-1.3<span class="o">)</span>:
<span class="w">        </span>/dev/video40
<span class="w">        </span>/dev/video41
<span class="w">        </span>/dev/media4<span class="w"> </span>
<span class="w">        </span>
Format<span class="w"> </span>supported<span class="w"> </span>queries
root@ok3562:~#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-formats-ext<span class="w"> </span>-d<span class="w"> </span>/dev/video33<span class="w">		</span>//View<span class="w"> </span>formats<span class="w"> </span>supported<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>camera
ioctl:<span class="w"> </span>VIDIOC_ENUM_FMT
<span class="w">        </span>Type:<span class="w"> </span>Video<span class="w"> </span>Capture<span class="w"> </span>Multiplanar

<span class="w">        </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;UYVY&#39;</span><span class="w"> </span><span class="o">(</span>UYVY<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">1</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV16&#39;</span><span class="w"> </span><span class="o">(</span>Y/CbCr<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">2</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV61&#39;</span><span class="w"> </span><span class="o">(</span>Y/CrCb<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV21&#39;</span><span class="w"> </span><span class="o">(</span>Y/CrCb<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV12&#39;</span><span class="w"> </span><span class="o">(</span>Y/CbCr<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">5</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NM21&#39;</span><span class="w"> </span><span class="o">(</span>Y/CrCb<span class="w"> </span><span class="m">4</span>:2:0<span class="w"> </span><span class="o">(</span>N-C<span class="o">))</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">6</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NM12&#39;</span><span class="w"> </span><span class="o">(</span>Y/CbCr<span class="w"> </span><span class="m">4</span>:2:0<span class="w"> </span><span class="o">(</span>N-C<span class="o">))</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>4224x3136<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
</pre></div>
</div>
</section>
<section id="camera-previews">
<h5>4.4.2.2. Camera Previews<a class="headerlink" href="#camera-previews" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video33<span class="w"> </span>!<span class="w"> </span>video/x-raw,<span class="w"> </span><span class="nv">format</span><span class="o">=</span>NV12,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">640</span>,<span class="w"> </span><span class="nv">height</span><span class="o">=</span><span class="m">480</span>,<span class="w"> </span><span class="nv">framerate</span><span class="o">=</span><span class="m">30</span>/1<span class="w"> </span>!<span class="w"> </span>autovideosink
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
Obtaining<span class="w"> </span>context<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;autovideosink0&#39;</span>:<span class="w"> </span>gst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="p">;</span>
<span class="o">[</span><span class="w"> </span><span class="m">1804</span>.445831<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>on,<span class="w"> </span>src_sd:<span class="w"> </span>0000000079d6d796,<span class="w"> </span>sd_name:rockchip-csi2-dphy0
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
<span class="o">[</span><span class="w"> </span><span class="m">1804</span>.445843<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>ON
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Redistributing<span class="w"> </span>latency...9.
<span class="m">0</span>:00:02.3<span class="w"> </span>/<span class="w"> </span><span class="m">99</span>:99:99.
</pre></div>
</div>
</section>
<section id="camera-to-take-pictures">
<h5>4.4.2.3 Camera to Take Pictures<a class="headerlink" href="#camera-to-take-pictures" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video33<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">1</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,width<span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>mppjpegenc<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>pic.jpg
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="o">[</span><span class="w"> </span><span class="m">1834</span>.394184<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>on,<span class="w"> </span>src_sd:<span class="w"> </span>0000000079d6d796,<span class="w"> </span>sd_name:rockchip-csi2-dphy0
<span class="o">[</span><span class="w"> </span><span class="m">1834</span>.394197<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>ON
rga_api<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.9.2_<span class="o">[</span><span class="m">1</span><span class="o">]</span>
Redistributing<span class="w"> </span>latency...
EOS<span class="w"> </span>signal<span class="w"> </span>received<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;pipeline0&#39;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:00.255613244
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL...
<span class="o">[</span><span class="w"> </span><span class="m">1834</span>.764004<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>off,<span class="w"> </span>src_sd:<span class="w"> </span>0000000079d6d796,<span class="w"> </span>sd_name:rockchip-csi2-dphy0
<span class="o">[</span><span class="w"> </span><span class="m">1834</span>.764032<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>OFF
Releasing<span class="w"> </span>pipeline<span class="w"> </span>resources...
root@ok3562:~#<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>pic.jpg
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">154027</span><span class="w">  </span>Apr<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">13</span>:46<span class="w"> </span>pic.jpg
</pre></div>
</div>
</section>
<section id="recording-h264-format-video">
<h5>4.4.2.4 Recording H264 Format Video<a class="headerlink" href="#recording-h264-format-video" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video33<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">100</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>tee<span class="w"> </span><span class="nv">name</span><span class="o">=</span>t<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>mpph264enc<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>qtmux<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>13855_h264.mp4<span class="w"> </span>t.<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>autovideosink
//<span class="w"> </span>Encode<span class="w"> </span>H264<span class="w"> </span><span class="k">while</span><span class="w"> </span>previewing<span class="w"> </span>the<span class="w"> </span>camera
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
Obtaining<span class="w"> </span>context<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;autovideosink0&#39;</span>:<span class="w"> </span>gst.gl.GLDisplay<span class="o">=</span>context,<span class="w"> </span>gst.gl.GLDisplay<span class="o">=(</span>GstGLDisplay<span class="o">)</span><span class="s2">&quot;\(GstGLDisplayGBM\)\ gldisplaygbm0&quot;</span><span class="p">;</span>
<span class="o">[</span><span class="w"> </span><span class="m">2026</span>.629225<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>on,<span class="w"> </span>src_sd:<span class="w"> </span>0000000079d6d796,<span class="w"> </span>sd_name:rockchip-csi2-dphy0
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
<span class="o">[</span><span class="w"> </span><span class="m">2026</span>.629238<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>ON
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
rga_api<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.9.2_<span class="o">[</span><span class="m">1</span><span class="o">]</span>
Redistributing<span class="w"> </span>latency...
Redistributing<span class="w"> </span>latency...9.
EOS<span class="w"> </span>signal<span class="w"> </span>received<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s1">&#39;pipeline0&#39;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:06.868994417
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL...
<span class="o">[</span><span class="w"> </span><span class="m">2033</span>.610005<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>off,<span class="w"> </span>src_sd:<span class="w"> </span>0000000079d6d796,<span class="w"> </span>sd_name:rockchip-csi2-dphy0
<span class="o">[</span><span class="w"> </span><span class="m">2033</span>.610031<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi0-csi2:<span class="w"> </span>stream<span class="w"> </span>OFF
Releasing<span class="w"> </span>pipeline<span class="w"> </span>resources...
root@ok3562:~#<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>13855_h264.mp4<span class="w">				</span>//<span class="w"> </span>Check<span class="w"> </span><span class="k">if</span><span class="w"> </span>the<span class="w"> </span>H264<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>generated
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">386944</span><span class="w">  </span>Apr<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">13</span>:49<span class="w"> </span>13855_h264.mp4
</pre></div>
</div>
</section>
<section id="playing-h264-format-video">
<h5>4.4.2.5 Playing H264 Format Video<a class="headerlink" href="#playing-h264-format-video" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-play-1.0<span class="w"> </span>13855_h264.mp4
//<span class="w"> </span>Play<span class="w"> </span>the<span class="w"> </span>recorded<span class="w"> </span>video
Press<span class="w"> </span>the<span class="w"> </span><span class="s2">&quot;k&quot;</span><span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>the<span class="w"> </span>keyboard<span class="w"> </span>shortcut<span class="w"> </span>list.
Playing<span class="w"> </span>/root/13855_h264.mp4
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
Redistribute<span class="w"> </span>latency...
<span class="m">0</span>:00:06.6<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:06.6
Reached<span class="w"> </span>the<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>playlist.
</pre></div>
</div>
</section>
</section>
<section id="ov5645-test">
<h4>4.4.3 OV5645 Test<a class="headerlink" href="#ov5645-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>The corresponding nodes of OV5645 camera are as follows:</p>
<p>P17 (center ov5645 mipi camera): rkcif-mipi-lvds2 P18 (left ov5645 mipi camera): rkcif-mipi-lvds3</p>
<section id="camera-identification-detection-and-format-support-queries">
<h5>4.4.3.1 Camera Identification Detection and Format Support Queries<a class="headerlink" href="#camera-identification-detection-and-format-support-queries" title="Link to this heading">ÔÉÅ</a></h5>
<p>Camera Recognition Detection</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-devices
//View<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>node,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>see<span class="w"> </span>that/dev/video11<span class="w"> </span>and/dev/video<span class="w"> </span><span class="m">22</span><span class="w"> </span>are<span class="w"> </span>ov5645<span class="w"> </span>cameras

rkisp-statistics<span class="w"> </span><span class="o">(</span>platform:<span class="w"> </span>rkisp<span class="o">)</span>:
<span class="w">        </span>/dev/video38
<span class="w">        </span>/dev/video39

rkcif-mipi-lvds<span class="w"> </span><span class="o">(</span>platform:rkcif<span class="o">)</span>:
<span class="w">        </span>/dev/media0
<span class="w">        </span>/dev/media1
<span class="w">        </span>/dev/media2

rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds<span class="o">)</span>:
<span class="w">        </span>/dev/video0
<span class="w">        </span>/dev/video1
<span class="w">        </span>/dev/video2
<span class="w">        </span>/dev/video3
<span class="w">        </span>/dev/video4
<span class="w">        </span>/dev/video5
<span class="w">        </span>/dev/video6
<span class="w">        </span>/dev/video7
<span class="w">        </span>/dev/video8
<span class="w">        </span>/dev/video9
<span class="w">        </span>/dev/video10

rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds2<span class="o">)</span>:
<span class="w">        </span>/dev/video11
<span class="w">        </span>/dev/video12
<span class="w">        </span>/dev/video13
<span class="w">        </span>/dev/video14
<span class="w">        </span>/dev/video15
<span class="w">        </span>/dev/video16
<span class="w">        </span>/dev/video17
<span class="w">        </span>/dev/video18
<span class="w">        </span>/dev/video19
<span class="w">        </span>/dev/video20
<span class="w">        </span>/dev/video21

rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds3<span class="o">)</span>:
<span class="w">        </span>/dev/video22
<span class="w">        </span>/dev/video23
<span class="w">        </span>/dev/video24
<span class="w">        </span>/dev/video25
<span class="w">        </span>/dev/video26
<span class="w">        </span>/dev/video27
<span class="w">        </span>/dev/video28
<span class="w">        </span>/dev/video29
<span class="w">        </span>/dev/video30
<span class="w">        </span>/dev/video31
<span class="w">        </span>/dev/video32

rkisp_mainpath<span class="w"> </span><span class="o">(</span>platform:rkisp-vir0<span class="o">)</span>:
<span class="w">        </span>/dev/video33
<span class="w">        </span>/dev/video34
<span class="w">        </span>/dev/video35
<span class="w">        </span>/dev/video36
<span class="w">        </span>/dev/video37
<span class="w">        </span>/dev/media3

UVC<span class="w"> </span>Camera<span class="w"> </span><span class="o">(</span>046d:0825<span class="o">)</span><span class="w"> </span><span class="o">(</span>usb-fed00000.usb-1.1<span class="o">)</span>:
<span class="w">        </span>/dev/video40
<span class="w">        </span>/dev/video41
<span class="w">        </span>/dev/media4
The<span class="w"> </span>format<span class="w"> </span>supports<span class="w"> </span>query.<span class="w"> </span>Take<span class="w"> </span>P18<span class="w"> </span><span class="o">(</span>ov5645<span class="w"> </span>mipi<span class="w"> </span>camera<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>left<span class="o">)</span><span class="w"> </span>rkcif-mipi-lvds3<span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>example:
root@ok3562:~#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-formats-ext<span class="w"> </span>-d<span class="w"> </span>/dev/video22<span class="w">		</span>//View<span class="w"> </span>the<span class="w"> </span>formats<span class="w"> </span>supported<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>camera
ioctl:<span class="w"> </span>VIDIOC_ENUM_FMT
<span class="w">        </span>Type:<span class="w"> </span>Video<span class="w"> </span>Capture<span class="w"> </span>Multiplanar

<span class="w">        </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV16&#39;</span><span class="w"> </span><span class="o">(</span>Y/CbCr<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">1</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV61&#39;</span><span class="w"> </span><span class="o">(</span>Y/CrCb<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">2</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV12&#39;</span><span class="w"> </span><span class="o">(</span>Y/CbCr<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV21&#39;</span><span class="w"> </span><span class="o">(</span>Y/CrCb<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;YUYV&#39;</span><span class="w"> </span><span class="o">(</span>YUYV<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">5</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;YVYU&#39;</span><span class="w"> </span><span class="o">(</span>YVYU<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">6</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;UYVY&#39;</span><span class="w"> </span><span class="o">(</span>UYVY<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">        </span><span class="o">[</span><span class="m">7</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;VYUY&#39;</span><span class="w"> </span><span class="o">(</span>VYUY<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">                </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>64x64<span class="w"> </span>-<span class="w"> </span>1920x1080<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
</pre></div>
</div>
</section>
<section id="id4">
<h5>4.4.3.2 Camera Capture Format Queries and Modifications<a class="headerlink" href="#id4" title="Link to this heading">ÔÉÅ</a></h5>
<p>The camera capture format query, taking P18 (ov5645 mipi camera on the left) rkcif-mipi-lvds3 as an example</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>-V<span class="w"> </span>-d<span class="w"> </span>/dev/video40
Format<span class="w"> </span>Video<span class="w"> </span>Capture:
<span class="w">        </span>Width/Height<span class="w">      </span>:<span class="w"> </span><span class="m">640</span>/480
<span class="w">        </span>Pixel<span class="w"> </span>Format<span class="w">      </span>:<span class="w"> </span><span class="s1">&#39;YUYV&#39;</span><span class="w"> </span><span class="o">(</span>YUYV<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">        </span>Field<span class="w">             </span>:<span class="w"> </span>None
<span class="w">        </span>Bytes<span class="w"> </span>per<span class="w"> </span>Line<span class="w">    </span>:<span class="w"> </span><span class="m">1280</span>
<span class="w">        </span>Size<span class="w"> </span>Image<span class="w">        </span>:<span class="w"> </span><span class="m">614400</span>
<span class="w">        </span>Colorspace<span class="w">        </span>:<span class="w"> </span>sRGB
<span class="w">        </span>Transfer<span class="w"> </span>Function<span class="w"> </span>:<span class="w"> </span>Rec.<span class="w"> </span><span class="m">709</span>
<span class="w">        </span>YCbCr/HSV<span class="w"> </span>Encoding:<span class="w"> </span>ITU-R<span class="w"> </span><span class="m">601</span>
<span class="w">        </span>Quantization<span class="w">      </span>:<span class="w"> </span>Default<span class="w"> </span><span class="o">(</span>maps<span class="w"> </span>to<span class="w"> </span>Limited<span class="w"> </span>Range<span class="o">)</span>
<span class="w">        </span>Flags<span class="w">             </span>:
</pre></div>
</div>
</section>
<section id="id5">
<h5>4.4.3.3 Camera Previews<a class="headerlink" href="#id5" title="Link to this heading">ÔÉÅ</a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video22<span class="w"> </span>!<span class="w"> </span>video/x-raw,<span class="w"> </span><span class="nv">format</span><span class="o">=</span>NV12,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">640</span>,<span class="w"> </span><span class="nv">height</span><span class="o">=</span><span class="m">480</span>,<span class="w"> </span><span class="nv">framerate</span><span class="o">=</span><span class="m">30</span>/1<span class="w"> </span>!<span class="w"> </span>autovideosink
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED...
The<span class="w"> </span>pipeline<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>use<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>require<span class="w"> </span>PREROLL...
The<span class="w"> </span>pipeline<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>PREROLLED...
Setting<span class="w"> </span>the<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="o">[</span><span class="w"> </span><span class="m">4118</span>.728856<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi3-csi2:<span class="w"> </span>stream<span class="w"> </span>on,<span class="w"> </span>src_sd:<span class="w"> </span>0000000041e9f9af,<span class="w"> </span>sd_name:rockchip-csi2-dphy5
<span class="o">[</span><span class="w"> </span><span class="m">4118</span>.728880<span class="o">]</span><span class="w"> </span>rockchip-mipi-csi2<span class="w"> </span>mipi3-csi2:<span class="w"> </span>stream<span class="w"> </span>ON
<span class="o">[</span><span class="w"> </span><span class="m">4118</span>.728957<span class="o">]</span><span class="w"> </span>mipi3-csi2-hw<span class="w"> </span>ERR1:0x1000000<span class="w"> </span><span class="o">(</span>crc,vc:<span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span><span class="w"> </span><span class="m">4118</span>.757033<span class="o">]</span><span class="w"> </span>mipi3-csi2-hw<span class="w"> </span>ERR1:0x1010<span class="w"> </span><span class="o">(</span>fs/fe<span class="w"> </span>mis,vc:<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">(</span>err_data,vc:<span class="w"> </span><span class="m">0</span><span class="o">)</span>
Redistributing<span class="w"> </span>latency...
<span class="m">0</span>:00:03.0<span class="w"> </span>/<span class="w"> </span><span class="m">99</span>:99:99.
</pre></div>
</div>
</section>
</section>
<section id="gpu-test">
<h4>4.5 GPU Test<a class="headerlink" href="#gpu-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>OK3562 supports GPU test, first install glmark2-es2</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>glmark2-es2
Reading<span class="w"> </span>package<span class="w"> </span>lists...<span class="w"> </span>Done
Building<span class="w"> </span>dependency<span class="w"> </span>tree...<span class="w"> </span>Done
Reading<span class="w"> </span>state<span class="w"> </span>information...<span class="w"> </span>Done
The<span class="w"> </span>following<span class="w"> </span>packages<span class="w"> </span>were<span class="w"> </span>automatically<span class="w"> </span>installed<span class="w"> </span>and<span class="w"> </span>are<span class="w"> </span>no<span class="w"> </span>longer<span class="w"> </span>required:
<span class="w">  </span>activity-log-manager<span class="w"> </span>ibus-data<span class="w"> </span>ibus-gtk<span class="w"> </span>ibus-gtk3<span class="w"> </span>ibus-gtk4<span class="w"> </span>libdee-1.0-4<span class="w"> </span>libgeonames-common<span class="w"> </span>libgeonames0<span class="w"> </span>libtimezonemap-data<span class="w"> </span>libtimezonemap1<span class="w"> </span>libunity-control-center1<span class="w"> </span>libxcb-xv0
<span class="w">  </span>libzeitgeist-2.0-0<span class="w"> </span>python3-ibus-1.0<span class="w"> </span>zeitgeist-core
Use<span class="w"> </span><span class="s1">&#39;apt autoremove&#39;</span><span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span>them.
The<span class="w"> </span>following<span class="w"> </span>NEW<span class="w"> </span>packages<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>installed:
<span class="w">  </span>glmark2-es2
<span class="m">0</span><span class="w"> </span>upgraded,<span class="w"> </span><span class="m">1</span><span class="w"> </span>newly<span class="w"> </span>installed,<span class="w"> </span><span class="m">0</span><span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span>and<span class="w"> </span><span class="m">19</span><span class="w"> </span>not<span class="w"> </span>upgraded.
Need<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span><span class="m">176</span><span class="w"> </span>kB<span class="w"> </span>of<span class="w"> </span>archives.
After<span class="w"> </span>this<span class="w"> </span>operation,<span class="w"> </span><span class="m">522</span><span class="w"> </span>kB<span class="w"> </span>of<span class="w"> </span>additional<span class="w"> </span>disk<span class="w"> </span>space<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>used.
Get:1<span class="w"> </span>http://ports.ubuntu.com/ubuntu-ports<span class="w"> </span>jammy/universe<span class="w"> </span>arm64<span class="w"> </span>glmark2-es2<span class="w"> </span>arm64<span class="w"> </span><span class="m">2021</span>.02-0ubuntu1<span class="w"> </span><span class="o">[</span><span class="m">176</span><span class="w"> </span>kB<span class="o">]</span>
<span class="m">176</span><span class="w"> </span>kB<span class="w"> </span>downloaded<span class="w"> </span><span class="k">in</span><span class="w"> </span>3s<span class="w"> </span><span class="o">(</span><span class="m">57</span>.1<span class="w"> </span>kB/s<span class="o">)</span>
Selecting<span class="w"> </span>previously<span class="w"> </span>unselected<span class="w"> </span>package<span class="w"> </span>glmark2-es2.
<span class="o">(</span>Reading<span class="w"> </span>database<span class="w"> </span>...<span class="w"> </span>There<span class="w"> </span>are<span class="w"> </span><span class="m">176499</span><span class="w"> </span>files<span class="w"> </span>and<span class="w"> </span>directories<span class="w"> </span>currently<span class="w"> </span>installed<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>system.<span class="o">)</span>
Preparing<span class="w"> </span>to<span class="w"> </span>unpack<span class="w"> </span>.../glmark2-es2_2021.02-0ubuntu1_arm64.deb<span class="w"> </span>...
Unpacking<span class="w"> </span>glmark2-es2<span class="w"> </span><span class="o">(</span><span class="m">2021</span>.02-0ubuntu1<span class="o">)</span><span class="w"> </span>...
Setting<span class="w"> </span>up<span class="w"> </span>glmark2-es2<span class="w"> </span><span class="o">(</span><span class="m">2021</span>.02-0ubuntu1<span class="o">)</span><span class="w"> </span>...
Processing<span class="w"> </span>triggers<span class="w"> </span><span class="k">for</span><span class="w"> </span>man-db<span class="w"> </span><span class="o">(</span><span class="m">2</span>.10.2-1<span class="o">)</span><span class="w"> </span>...
</pre></div>
</div>
<p>Perform the glmark2-es2 test:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3562:~#<span class="w"> </span>glmark2-es2<span class="w"> </span>--fullscreen<span class="w"> </span>--visual-config<span class="o">=</span><span class="s1">&#39;a=0:buf=24&#39;</span><span class="w"> </span>--annotate
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="m">3</span>
arm_release_ver:<span class="w"> </span>g13p0-01eac0,<span class="w"> </span>rk_so_ver:<span class="w"> </span><span class="nv">3</span>
<span class="o">=======================================================</span>
<span class="w">    </span>glmark2<span class="w"> </span><span class="m">2021</span>.02
<span class="o">=======================================================</span>
<span class="w">    </span>OpenGL<span class="w"> </span>Information
<span class="w">    </span>GL_VENDOR:<span class="w">     </span>ARM
<span class="w">    </span>GL_RENDERER:<span class="w">   </span>Mali-G52
<span class="w">    </span>GL_VERSION:<span class="w">    </span>OpenGL<span class="w"> </span>ES<span class="w"> </span><span class="m">3</span>.2<span class="w"> </span>v1.g13p0-01eac0.0fd2effaec483a5f4c440d2ffa25eb7a
<span class="o">=======================================================</span>
<span class="o">[</span>build<span class="o">]</span><span class="w"> </span>use-vbo<span class="o">=</span>false:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">221</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.525<span class="w"> </span>ms
<span class="o">[</span>build<span class="o">]</span><span class="w"> </span>use-vbo<span class="o">=</span>true:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">252</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.968<span class="w"> </span>ms
<span class="o">[</span>texture<span class="o">]</span><span class="w"> </span>texture-filter<span class="o">=</span>nearest:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">322</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.106<span class="w"> </span>ms
<span class="o">[</span>texture<span class="o">]</span><span class="w"> </span>texture-filter<span class="o">=</span>linear:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">317</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.155<span class="w"> </span>ms
<span class="o">[</span>texture<span class="o">]</span><span class="w"> </span>texture-filter<span class="o">=</span>mipmap:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">319</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.135<span class="w"> </span>ms
<span class="o">[</span>shading<span class="o">]</span><span class="w"> </span><span class="nv">shading</span><span class="o">=</span>gouraud:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">243</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.115<span class="w"> </span>ms
<span class="o">[</span>shading<span class="o">]</span><span class="w"> </span><span class="nv">shading</span><span class="o">=</span>blinn-phong-inf:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">261</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.831<span class="w"> </span>ms
<span class="o">[</span>shading<span class="o">]</span><span class="w"> </span><span class="nv">shading</span><span class="o">=</span>phong:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">245</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.082<span class="w"> </span>ms
<span class="o">[</span>shading<span class="o">]</span><span class="w"> </span><span class="nv">shading</span><span class="o">=</span>cel:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">239</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.184<span class="w"> </span>ms
<span class="o">[</span>bump<span class="o">]</span><span class="w"> </span>bump-render<span class="o">=</span>high-poly:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">155</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">6</span>.452<span class="w"> </span>ms
<span class="o">[</span>bump<span class="o">]</span><span class="w"> </span>bump-render<span class="o">=</span>normals:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">324</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.086<span class="w"> </span>ms
<span class="o">[</span>bump<span class="o">]</span><span class="w"> </span>bump-render<span class="o">=</span>height:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">320</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.125<span class="w"> </span>ms
<span class="o">[</span>effect2d<span class="o">]</span><span class="w"> </span><span class="nv">kernel</span><span class="o">=</span><span class="m">0</span>,1,0<span class="p">;</span><span class="m">1</span>,-4,1<span class="p">;</span><span class="m">0</span>,1,0<span class="p">;</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">219</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.566<span class="w"> </span>ms
<span class="o">[</span>effect2d<span class="o">]</span><span class="w"> </span><span class="nv">kernel</span><span class="o">=</span><span class="m">1</span>,1,1,1,1<span class="p">;</span><span class="m">1</span>,1,1,1,1<span class="p">;</span><span class="m">1</span>,1,1,1,1<span class="p">;</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">110</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">9</span>.091<span class="w"> </span>ms
<span class="o">[</span>pulsar<span class="o">]</span><span class="w"> </span><span class="nv">light</span><span class="o">=</span>false:quads<span class="o">=</span><span class="m">5</span>:texture<span class="o">=</span>false:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">325</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.077<span class="w"> </span>ms
<span class="o">[</span>desktop<span class="o">]</span><span class="w"> </span>blur-radius<span class="o">=</span><span class="m">5</span>:effect<span class="o">=</span>blur:passes<span class="o">=</span><span class="m">1</span>:separable<span class="o">=</span>true:windows<span class="o">=</span><span class="m">4</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">119</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">8</span>.403<span class="w"> </span>ms
<span class="o">[</span>desktop<span class="o">]</span><span class="w"> </span><span class="nv">effect</span><span class="o">=</span>shadow:windows<span class="o">=</span><span class="m">4</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">233</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.292<span class="w"> </span>ms
<span class="o">[</span>buffer<span class="o">]</span><span class="w"> </span><span class="nv">columns</span><span class="o">=</span><span class="m">200</span>:interleave<span class="o">=</span>false:update-dispersion<span class="o">=</span><span class="m">0</span>.9:update-fraction<span class="o">=</span><span class="m">0</span>.5:update-method<span class="o">=</span>map:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">111</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">9</span>.009<span class="w"> </span>ms
<span class="o">[</span>buffer<span class="o">]</span><span class="w"> </span><span class="nv">columns</span><span class="o">=</span><span class="m">200</span>:interleave<span class="o">=</span>false:update-dispersion<span class="o">=</span><span class="m">0</span>.9:update-fraction<span class="o">=</span><span class="m">0</span>.5:update-method<span class="o">=</span>subdata:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">111</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">9</span>.009<span class="w"> </span>ms
<span class="o">[</span>buffer<span class="o">]</span><span class="w"> </span><span class="nv">columns</span><span class="o">=</span><span class="m">200</span>:interleave<span class="o">=</span>true:update-dispersion<span class="o">=</span><span class="m">0</span>.9:update-fraction<span class="o">=</span><span class="m">0</span>.5:update-method<span class="o">=</span>map:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">138</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">7</span>.246<span class="w"> </span>ms
<span class="o">[</span>ideas<span class="o">]</span><span class="w"> </span><span class="nv">speed</span><span class="o">=</span>duration:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">192</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">5</span>.208<span class="w"> </span>ms
<span class="o">[</span>jellyfish<span class="o">]</span><span class="w"> </span>&lt;default&gt;:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">204</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">4</span>.902<span class="w"> </span>ms
<span class="o">[</span>terrain<span class="o">]</span><span class="w"> </span>&lt;default&gt;:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">31</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">32</span>.258<span class="w"> </span>ms
<span class="o">[</span>shadow<span class="o">]</span><span class="w"> </span>&lt;default&gt;:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">155</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">6</span>.452<span class="w"> </span>ms
<span class="o">[</span>refract<span class="o">]</span><span class="w"> </span>&lt;default&gt;:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">57</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">17</span>.544<span class="w"> </span>ms
<span class="o">[</span>conditionals<span class="o">]</span><span class="w"> </span>fragment-steps<span class="o">=</span><span class="m">0</span>:vertex-steps<span class="o">=</span><span class="m">0</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">318</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.145<span class="w"> </span>ms
<span class="o">[</span>conditionals<span class="o">]</span><span class="w"> </span>fragment-steps<span class="o">=</span><span class="m">5</span>:vertex-steps<span class="o">=</span><span class="m">0</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">286</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.497<span class="w"> </span>ms
<span class="o">[</span>conditionals<span class="o">]</span><span class="w"> </span>fragment-steps<span class="o">=</span><span class="m">0</span>:vertex-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">318</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.145<span class="w"> </span>ms
<span class="o">[</span><span class="k">function</span><span class="o">]</span><span class="w"> </span>fragment-complexity<span class="o">=</span>low:fragment-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">305</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.279<span class="w"> </span>ms
<span class="o">[</span><span class="k">function</span><span class="o">]</span><span class="w"> </span>fragment-complexity<span class="o">=</span>medium:fragment-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">265</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.774<span class="w"> </span>ms
<span class="o">[</span>loop<span class="o">]</span><span class="w"> </span>fragment-loop<span class="o">=</span>false:fragment-steps<span class="o">=</span><span class="m">5</span>:vertex-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">305</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.279<span class="w"> </span>ms
<span class="o">[</span>loop<span class="o">]</span><span class="w"> </span>fragment-steps<span class="o">=</span><span class="m">5</span>:fragment-uniform<span class="o">=</span>false:vertex-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">317</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">3</span>.155<span class="w"> </span>ms
<span class="o">[</span>loop<span class="o">]</span><span class="w"> </span>fragment-steps<span class="o">=</span><span class="m">5</span>:fragment-uniform<span class="o">=</span>true:vertex-steps<span class="o">=</span><span class="m">5</span>:<span class="w"> </span>FPS:<span class="w"> </span><span class="m">336</span><span class="w"> </span>FrameTime:<span class="w"> </span><span class="m">2</span>.976<span class="w"> </span><span class="nv">ms</span>
<span class="o">=======================================================</span>
<span class="w">                                  </span>glmark2<span class="w"> </span>Score:<span class="w"> </span><span class="nv">232</span>
<span class="o">=======================================================</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="system-flashing">
<h2>5. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading">ÔÉÅ</a></h2>
<p>The OK3562-C development board currently supports both OTG and TF card programming. The corresponding burning tool is provided in the user information, and the user can choose anyone to burn the image.</p>
<section id="otg-flashing-system">
<h3>5.1 OTG Flashing System<a class="headerlink" href="#otg-flashing-system" title="Link to this heading">ÔÉÅ</a></h3>
<section id="otg-driver-installation">
<h4>5.1.1 OTG Driver Installation<a class="headerlink" href="#otg-driver-installation" title="Link to this heading">ÔÉÅ</a></h4>
<p>Path: User Information \ Software Information \ 3-Tools \ DriverAssitant _ v5.1.1.zip</p>
<p>Extract the above path file to any directory and run it with administrator privileges</p>
<p>Open DriverInstall.exe</p>
<p><img alt="Image" src="_images/1720418372654_458dfae6_fe39_4e90_a884_b5c76a0d4659.png" /></p>
<p>Click ‚ÄúDriver Installation‚Äù</p>
<p><img alt="Image" src="_images/1720418372998_55b52477_7160_490a_9674_11b926fabb18.png" /></p>
</section>
<section id="otg-full-flashing-test">
<h4>5.1.2 OTG Full Flashing Test<a class="headerlink" href="#otg-full-flashing-test" title="Link to this heading">ÔÉÅ</a></h4>
<section id="rkdevtool-flashing-test">
<h5>5.1.2.1 RKDevTool Flashing Test<a class="headerlink" href="#rkdevtool-flashing-test" title="Link to this heading">ÔÉÅ</a></h5>
<p>Path: User Information \ Software Information \ 3-Tools \ \RKDevTool_v3.19_for_window.zip.**</p>
<p>It is a development tool provided by Rockchip Micro. Unzip it to a full English path before use, connect the TYPE-C0 port of the development board and the host computer with a Type-C cable, press and hold the recovery key of the development board and don‚Äôt release it, then press the reset key to reset the system, and release the recovery key after about two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The device detection operation requires the recovery button to be held down when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn‚Äôt match the following figure, please consider unzipping it in an English directory;</strong></p></li>
<li><p><strong>The OTG port is on the back of the development board.</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1750401646610_08816be2_b951_49df_8683_dc9c7c2b2fa9.jpeg" /></p>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1720418373238_ded5a5da_5ef9_4382_9150_a8fccf92f309.png" /></p>
<p>Click the ‚ÄúUpgrade Firmware‚Äù tab, click the ‚ÄúFirmware‚Äù button to select the full upgrade image update.img. The program will be parsing the firmware, so wait a while.</p>
<p><img alt="Image" src="_images/1720418373446_68f5d3be_afdc_4bdd_ac64_912497c76847.png" /></p>
<p>Click ‚ÄúSwitch‚Äù to wait for the board to enter the LOADER mode, and click the ‚ÄúUpgrade‚Äù button to upgrade.</p>
<p><img alt="Image" src="_images/1720418373687_e2ee7480_1523_4f1d_bba1_4836940ca5d5.png" /></p>
<p><strong>Introduction to MASKROM mode</strong></p>
<p>If Loader mode is inaccessible (loader problem, etc.), press and hold the BOOT key, then press the reset key to enter maskrom mode for burning.</p>
<p><img alt="Image" src="_images/1720418373917_956f9b2d_54fd_48c6_b4e6_069c8e8488af.png" /></p>
<p>At this time, the system will prompt the discovery of a maskrom device. The flashing process is consistent with the loader mode, so it is best to use an update.img burning.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Don‚Äôt click ‚ÄúDevice Partition Table‚Äù in maskrom mode, it is invalid;</strong></p></li>
<li><p><strong>Note: A separate flash in maskrom mode will not clear the UBOOT environment variables.</strong></p></li>
</ul>
</section>
<section id="factory-tool-flashing-test">
<h5>5.1.2.2 Factory Tool Flashing Test<a class="headerlink" href="#factory-tool-flashing-test" title="Link to this heading">ÔÉÅ</a></h5>
<p>Factory Tool is a factory batch OTG flashing tool, which does not need to read the image and supports large file flashing. Use this tool if RKDevTool is not compatible. Before use, you need to decompress to the full English path, connect the development board to the host, press the recovery key, press the reset key to reset, and release the recovery key after two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The device detection operation requires the recovery button to be held down when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn‚Äôt match the following figure, please consider unzipping it in an English directory.</strong></p></li>
</ul>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1720418374138_b6613de5_c4e7_4c57_ab8b_6d41d165e5c3.png" /></p>
<p>Click to select the firmware, and click to start. At this time to recognize the loader device will automatically start burning.</p>
<p><img alt="Image" src="_images/1720418374490_7567e660_737f_4218_8cfa_3b7c9be57d3e.png" /></p>
<p><img alt="Image" src="_images/1720418374807_bd102591_2c43_41da_83b9_2f7307977ca3.png" /></p>
</section>
</section>
<section id="otg-step-flashing-test">
<h4>5.1.3 OTG Step Flashing Test<a class="headerlink" href="#otg-step-flashing-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>In the development phase, it is very time-consuming to burn all of them every time, so here is the method of using OTG burning tool to burn in separate partitions.</p>
<p><strong>Note: The condition for recognition is that the development board is powered up and the recover key is in the pressed state.</strong></p>
<p>First, after OK3562-linux-release is compiled, a separate partition image can be found in the rockdev directory.</p>
<p>Take separate programming boot.img (including device tree and startup logo) as an example to demonstrate the programming method.</p>
<p>Use the Type-C cable to connect the development board to the host. Press and hold the recover key and do not release it. Then press the reset key to reset the system. Release the recover key after about two seconds. The system will prompt to discover the loader device.</p>
<p><img alt="Image" src="_images/1720418375129_89e69424_6ab1_40ec_a113_86f2437728d9.png" /></p>
<p>Click the ‚ÄúDevice Partition Table‚Äù button, which will automatically read the partition address, and prompt you to update the download address, click ‚ÄúYes‚Äù, will be reported to read the partition table successfully, click on the partition of the right test area to select the partition image, and check the partition.</p>
<p><img alt="Image" src="_images/1720418375357_f7716cdb_bc83_43f5_83d6_717dff0f7495.png" /></p>
<p>Click the ‚ÄúExecute‚Äù button will automatically burn and restart.</p>
</section>
</section>
<section id="tf-card-flashing">
<h3>5.2 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading">ÔÉÅ</a></h3>
<p>TF card flashing and testing.</p>
<p><strong>Note: The maximum capacity of the test TF card is 32G, using a TF card above 32G may fail to flash.</strong></p>
<p>Copy SDDiskTool_v1.76.zip from the user profile tools directory to any directory on windows. Run SD_Firmware_Tool.exe with administrator privileges.</p>
<p><img alt="Image" src="_images/1720418375573_2107d191_e37e_4a2c_96d2_442aa8f4b146.png" /></p>
<p>Select the disk device, check ‚ÄúFirmware Upgrade‚Äù and select update.img. Click Start Creating.</p>
<p><img alt="Image" src="_images/1720418375797_0c018d08_61c7_48e9_9500_72810e54ce87.png" /></p>
<p><img alt="Image" src="images/OK3562J-C_Forlinx_Desktop22_04_User_Manual/1720418375991_5a26cc1b_497f_4931_a823_0e988fadcaf9.png" /></p>
<p>Insert the TF card into the development board and start, the system will automatically enter the flashing process. When the flashing is complete, both the screen and the serial port will prompt:</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>At this time, pull out the TF card, the system automatically restarts (please do not power down directly).</p>
<p>During mass production, check the flashing status by SoM heartbeat light.  Heartbeat light modes are as follows:</p>
<ol class="arabic simple">
<li><p>Kernel startup phase: Heartbeat light mode, regular intermittent flashes.</p></li>
<li><p>Flashing preparation phase: EMMC indicator light, off.</p></li>
<li><p>Flashing in progress phase: EMMC indicator light, on.</p></li>
<li><p>Flashing completion phase: Heartbeat light mode, regular intermittent flashes.</p></li>
</ol>
<p>Serial port information during the burning process:</p>
<p><img alt="Image" src="_images/1720418376211_f91fcd64_b82e_4d38_bd9d_aa4f8d390be0.png" /></p>
<p>If the automatic restart does not occur after removing the TF card, a manual restart can also complete the burning. Please be patient during the burning process.</p>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- Â∑¶‰æßÁâàÊùÉ‰ø°ÊÅØ -->
    <span style="font-size: 14px; color: #444;">
      ¬© <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- Âè≥‰æßÁ§æ‰∫§ÂõæÊ†á -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>