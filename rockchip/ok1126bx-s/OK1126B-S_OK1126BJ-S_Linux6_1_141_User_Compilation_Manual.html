

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux6.1.141_User‚Äôs Compilation Manual_V1.0 &mdash; Forlinx Embedded RV1126B/RV1126BJ Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok1126bx-s/OK1126B-S_OK1126BJ-S_Linux6_1_141_User_Compilation_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=fd6eb6e6"></script>
      <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Linux6.1.141_User‚Äôs Manual_V1.0" href="OK1126B-S_OK1126BJ-S_Linux6_1_141_User_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK1126B-S_OK1126BJ-S_User_Hardware_Manual.html">User‚Äôs Hardware Manual_V1.0</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OK1126B-S_OK1126BJ-S_Linux6_1_141_User_Manual.html">Linux6.1.141_User‚Äôs Manual_V1.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux6.1.141_User‚Äôs Compilation Manual_V1.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vmware-virtual-machine-software-installation">1. VMware Virtual Machine Software Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-download-and-purchase">1.1 VMware Software Download and Purchase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-installation">1.2 VMware Software Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#loading-the-existing-ubuntu-development-environment">2. Loading the Existing Ubuntu Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#new-ubuntu-development-environment-setup">3. New Ubuntu Development Environment Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu-system-setup">3.1 Ubuntu System Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-virtual-machine-setup">3.1.1 Ubuntu Virtual Machine Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-installation">3.1.2 System Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-ubuntu-installation">3.1.3 Basic Ubuntu Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-network-settings">3.1.4 Ubuntu Network Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#u-disk-loading">3.1.5 U Disk Loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="#virtual-machine-basic-library-installation">3.1.6 Virtual Machine Basic Library Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-of-necessary-libraries-for-compiling-ok1126b-linux-source-code">3.1.7 Installation of Necessary Libraries for Compiling OK1126B Linux Source Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation-of-cross-compilation-chain">3.2 Installation of Cross-compilation Chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qt-creator-installation">3.3 Qt Creator Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#related-code-compilation">4. Related Code Compilation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-compilation">4.1 Preparation Before Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#environment-description">4.1.1 Environment Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-code-copy">4.1.2 Source Code Copy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#source-code-compilation">4.2 Source Code Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#full-compilation-test">4.2.1 Full Compilation Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#individual-compilation">4.2.2 Individual Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearance-of-files-generated-by-the-compilation">4.2.3 Clearance of Files Generated by the Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-configuration">4.2.4 Kernel Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#use-of-image-file">4.3 Use of Image File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qt-creator-environment-configuration">4.4 Qt Creator Environment Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cross-compiler-configuration">4.4.1 Cross Compiler Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-versions-configuration">4.4.2 Qt Versions Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kits-configuration">4.4.3 Kits Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#application-compilation-and-operation">4.5 Application Compilation and Operation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line-application-compilation-and-operation">4.5.1 Command Line Application Compilation and Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-application-compilation-and-operation">4.5.2 QT Application Compilation and Operation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/index.html">RK Development Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RV1126B/RV1126BJ Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux6.1.141_User‚Äôs Compilation Manual_V1.0</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux6-1-141-users-compilation-manual-v1-0">
<h1>Linux6.1.141_User‚Äôs Compilation Manual_V1.0<a class="headerlink" href="#linux6-1-141-users-compilation-manual-v1-0" title="Link to this heading">ÔÉÅ</a></h1>
<p>Document classification: ‚ñ° Top secret ‚ñ° Secret ‚ñ° Internal information ‚ñ† Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading">ÔÉÅ</a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading">ÔÉÅ</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Date</strong></p></th>
<th class="head text-center"><p><strong>Manual Version</strong></p></th>
<th class="head text-center"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>22/12/2025</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>Linux6.1.141 User‚Äôs Compilation Manual Initial Version</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">ÔÉÅ</a></h2>
<p>This manual is designed to enable you to quickly understand the compilation process of the products and familiarize yourselves with the compilation methods of Forlinx products. The application program needs to be cross-compiled on the  Linux operating system before it can run on the development board. According to the method in the compilation manual, users can compile their own software code through practical operation.</p>
<p>The manual will provide instructions for setting up the environment but there may be some unforeseen issues during the environment setup process. For beginners, it is recommended to use the pre-configured development environment provided by us. This will allow you to quickly get started and reduce development time.</p>
<p>Linux systems are typically installed in three ways: dual system on a real machine, single system on a real machine, and virtual machine. Different installation methods have their advantages and disadvantages. This manual only provides methods to build ubuntu in a virtual machine.</p>
<p>Hardware requirements: It is recommended to have at least 16GB of memory or more, so that you can allocate some memory to run the virtual machine (the virtual machine is recommended to have more than 8GB) and still do other operations on Windows, otherwise it will affect the performance of Windows.</p>
<p>The manual is mainly divided into four chapters:</p>
<ul class="simple">
<li><p>Chapter 1. is mainly about the installation of VMware, and the version used is VMware¬Æ Workstation 17 v17.0.0. Users need to install VMware before using the ubuntu development environment;</p></li>
<li><p>Chapter 2. mainly introduces the method of loading the ubuntu development environment provided by Forlinx, and the development environment is 64-bit ubuntu22.04;</p></li>
<li><p>Chapter 3. mainly introduces the method of building a new ubuntu development environment. Chapter 4. uses 64bit Ubuntu 22.04 as an example to describe the creation process of Ubuntu. Due to different computer configurations, unexpected problems may arise during the setup process. It is recommended for beginners to use the environment that we have set up directly;</p></li>
<li><p>Chapter 4. mainly introduces the methods of compiling the source code related to the development board.</p></li>
</ul>
<p>A description of some of the symbols and formats in the manual:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><strong>Note</strong></p></td>
<td><p>Note or information that requires special attention, be sure to read carefully.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>üìö</p></td>
<td><p>Relevant notes on the test chapters</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Ô∏èÔ∏èÔ∏èÔ∏èÔ∏èüõ§Ô∏èÔ∏è</p></td>
<td><p>Indicates the related path.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><strong>Bold black</strong></p></td>
<td><p>Key information in the serial port output message</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>//</p></td>
<td><p>Interpretation of input instructions or output information</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Username&#64;Hostname</p></td>
<td><p>root&#64;OK3568 - buildroot:~#: Account information for serial port and network login of the development board;<br />forlinx&#64;ubuntu: Account information for the Ubuntu development environment.</p></td>
</tr>
</tbody>
</table>
<p>After packaging the file system, you can use the ‚Äúls‚Äù command to view the generated files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/3568$<span class="w"> </span>ls<span class="w">                              </span>//List<span class="w"> </span>the<span class="w"> </span>files<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span>directory
OK3568_Linux_fs<span class="w">  </span>OK3568_Linux_fs.tar.bz2.00<span class="w"> </span>OK3568_Linux_fs.tar.bz2.01<span class="w"> </span>OK3568_Linux_fs.tar.bz2.02<span class="w"> </span>OK3568_Linux_fs.tar.bz2.03
</pre></div>
</div>
<ul class="simple">
<li><p>forlinx&#64;ubuntu: the username is forlinx and the hostname is ubuntu, indicating that the operation is performed in the development environment ubuntu;</p></li>
<li><p>//: Explanation of the instruction, no input required;</p></li>
<li><p>For detailed information, refer to the OK1126B-S user manual. In this document, the directory where the user manual is located is taken as the root directory of the OK1126B-S user manual.</p></li>
</ul>
</section>
<section id="vmware-virtual-machine-software-installation">
<h2>1. VMware Virtual Machine Software Installation<a class="headerlink" href="#vmware-virtual-machine-software-installation" title="Link to this heading">ÔÉÅ</a></h2>
<p><font style="color:#000000;">This chapter mainly introduces the installation of</font>VMware virtual machines, using VMware Workstation 17 Pro v17.0.0 as an example to demonstrate the installation and configuration process of the operating system.</p>
<section id="vmware-software-download-and-purchase">
<h3>1.1 VMware Software Download and Purchase<a class="headerlink" href="#vmware-software-download-and-purchase" title="Link to this heading">ÔÉÅ</a></h3>
<p>Go to the VMware website https://www.vmware.com/cn.html to download Workstation Pro and get the product key. VMware is a paid software that requires purchasing, or you can choose to use a trial version.</p>
<p><img alt="Image" src="_images/1726292018801_8230a6f7_bdc2_4fd7_a6ac_9b9051a28f3d_1767171625516.png" /></p>
<p>After the download is complete, double-click the startup file to start the installer.</p>
</section>
<section id="vmware-software-installation">
<h3>1.2 VMware Software Installation<a class="headerlink" href="#vmware-software-installation" title="Link to this heading">ÔÉÅ</a></h3>
<p>Double-click the startup program to enter the installation wizard, and click on ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1731053236062_e6163fc5_83f0_49e5_929c_eebc92b1a120.png" /></p>
<p>Check ‚ÄúI accept the terms in the license agreement‚Äù and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1731053236157_1918637e_6248_43c7_b9a5_da1bf102a3d1.png" /></p>
<p>Modify the installation location to the partition of your computer where the software is installed, and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1731053236236_cc76f4d3_e20c_43f3_8c1b_c220b4612d89.png" /></p>
<p>Uncheck and click on ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1731053236318_03575207_5d88_460c_960c_a0a9aa376413.png" /></p>
<p>Check Add Shortcut and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1731053236415_14a81961_27b3_45e0_b913_0e6a57d7f0a7.png" /></p>
<p>Click ‚ÄúInstallation‚Äù.</p>
<p><img alt="Image" src="_images/1731053236499_00595516_2ab4_4710_8e66_e106ba2373f8.png" /></p>
<p>Wait for the installation to complete.</p>
<p><img alt="Image" src="_images/1731053236612_a2ed395b_f9d8_4e02_bdb8_c328421677b1.png" /></p>
<p>Click ‚ÄúFinish‚Äù to try it out. If users need to use it for a long time, they need to buy it from the official and fill in the license.</p>
<p><img alt="Image" src="_images/1731053236706_bd43dd1e_44de_401c_9e61_6b8d181f0f55.png" /></p>
</section>
</section>
<section id="loading-the-existing-ubuntu-development-environment">
<h2>2. Loading the Existing Ubuntu Development Environment<a class="headerlink" href="#loading-the-existing-ubuntu-development-environment" title="Link to this heading">ÔÉÅ</a></h2>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>It is recommended for beginners to directly use the pre-built virtual machine environment provided by Forlinx, which already includes installed cross-compiler and Qt environment. After understanding this chapter, you can directly jump to the compilation chapter for further study;</strong></p></li>
<li><p><strong>The development environment provided for general users is: forlinx (username), forlinx (password);</strong></p></li>
<li><p><strong>Please ask your sales representative for the download link.</strong></p></li>
</ul>
<p>There are two ways to use a virtual machine environment in VMware: one is to directly load an existing environment, and the other is to create a new environment. First talk about how to load an existing environment.</p>
<p>First, download the development environment provided by Forlinx. In the development environment documentation, there should be an MD5 checksum file. After downloading the development environment, you should verify the integrity of the compressed package using the MD5 checksum (You can use an on-line MD5 checksum tool or download a specific MD5 checksum tool for this purpose). To check if the checksum in the verification file matches the checksum of the file itself. If they match, the file download is successful. If they don‚Äôt match, it suggests that the file may be corrupt, and you should consider downloading it again.</p>
<p><img alt="Image" src="_images/1766382060256_61fea8f4_1836_4bc3_8430_1a1e3a2b7169.png" /></p>
<p>Select all compressed files, right-click and extract to the current folder or your own directory: After unzipping, the development environment 35XX is obtained.</p>
<p>In the development environment folder of OK35XX - linux6.1 - VM17 - ubuntu22.04, the file 35XX.vmx is the one to be opened by the virtual machine.</p>
<p>Open the installed virtual machine.</p>
<p><img alt="Image" src="_images/1766382060335_6b9be91f_fc9c_4874_86ef_2e5e4b37e5bf.png" /></p>
<p>Select the directory where the recently extracted OK35XX-linux6.1-VM17-ubuntu22.04 virtual machine file is located, then double-click to open the startup file.</p>
<p><img alt="Image" src="_images/1766382060407_2cc177c9_24c3_4989_9698_ca1bad96d584.png" /></p>
<p>Turn on this virtual machine after loading is complete to run it and enter the system‚Äôs interface.</p>
<p><img alt="Image" src="_images/1766382060472_c64edde3_62fb_4d3c_9239_9e55cb61a8d4.png" /></p>
<p>The default automatic login account is ‚Äúforlinx‚Äù, and the password is ‚Äúforlinx‚Äù.</p>
<p><img alt="Image" src="_images/1731053238308_7897f6cc_11b8_43dc_9aea_19646fa266ec.png" /></p>
</section>
<section id="new-ubuntu-development-environment-setup">
<h2>3. New Ubuntu Development Environment Setup<a class="headerlink" href="#new-ubuntu-development-environment-setup" title="Link to this heading">ÔÉÅ</a></h2>
<p>Note: Beginners are not recommended to build the system by themselves. It is suggested to use the existing virtual machine environment. If you do not need to build the environment, you can skip this section. This section mainly explains the process of building the <strong>ubuntu</strong> system.</p>
<section id="ubuntu-system-setup">
<h3>3.1 Ubuntu System Setup<a class="headerlink" href="#ubuntu-system-setup" title="Link to this heading">ÔÉÅ</a></h3>
<section id="ubuntu-virtual-machine-setup">
<h4>3.1.1 Ubuntu Virtual Machine Setup<a class="headerlink" href="#ubuntu-virtual-machine-setup" title="Link to this heading">ÔÉÅ</a></h4>
<p>Open the VMware software, click on create a new virtual machine. Enter the following interface</p>
<p><img alt="Image" src="_images/1766382061988_04c94945_484b_4487_9596_42ac7a277785.png" /></p>
<p>Choose custom, and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1766382062060_30b39de8_153d_43a3_aafa_a6470e1a5489.png" /></p>
<p>Select the compatibility with the corresponding version of VMware, which can be found in Help-&gt;About VMware Workstation, and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1766382062231_90a01986_7bb6_4173_ba1a_625399fc05e2.png" /></p>
<p>Select Install the operating system later and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1766382062317_2700dd52_596b_468c_ba2a_b024e30f06aa.png" /></p>
<p>Leave the default and click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1766382062408_f66500a0_f66d_41f8_9564_5fe7eaa208c6.png" /></p>
<p>Modify the virtual machine name and installation location, click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1766382062491_b0dca4b0_8393_4d74_8988_49a12e807db7.png" /></p>
<p>Set the number of processors as appropriate.</p>
<p><img alt="Image" src="_images/1766382062557_e2f2b034_5acb_4fae_b932_fa19ab06e419.png" /></p>
<p>Set the memory size according to the actual situation. It is recommended to use 16G.</p>
<p><img alt="Image" src="_images/1719278533112_8f49bb5a_64b5_47df_8798_044888bfa83b.png" /></p>
<p>Set the network type, the default is NAT mode, click Next. Keep the default values for the remaining steps until you reach the step to specify the disk capacity.</p>
<p><img alt="Image" src="_images/1719278533381_8dc68236_561d_4840_abb7_3512def5cecf.png" /></p>
<p>The default selection for the IO controller type here is LSI.</p>
<p><img alt="Image" src="_images/1719278533635_d54cda44_50e2_4643_b3d3_54dc41a1bfa6.png" /></p>
<p>The default selection here is also SCSI.</p>
<p><img alt="Image" src="_images/1719278533807_86b2d601_916f_4f7d_b7c0_4a672e97d659.png" /></p>
<p>Choose to create a new virtual disk here.</p>
<p><img alt="Image" src="_images/1719278534036_c400a9dc_bdac_4dde_bd52_d4e721fb4ccd.png" /></p>
<p>Set the disk size to 200 gigabytes and select the form in which the disk exists, then click ‚ÄúNext‚Äù to finish.</p>
<p><img alt="Image" src="_images/1719278534210_b2fc7391_1c76_4148_80c8_855cd9174698.png" /></p>
<p>Specify the disk file, the default one here is fine.</p>
<p><img alt="Image" src="_images/1719278534358_9585162d_5c54_42eb_be37_f9361aebf91d.png" /></p>
<p>Click ‚ÄúFinish‚Äù by default.</p>
<p><img alt="Image" src="_images/1719278534538_0cb90337_6bc8_4fc5_8009_267ab1d2617c.png" /></p>
<p>The virtual machine creation is now complete.</p>
<p>In the next section, we will introduce the installation of Ubuntu system in the virtual machine, which is similar to the installation method in the real machine. Here we describe the method of installing Ubuntu system in a virtual machine.</p>
</section>
<section id="system-installation">
<h4>3.1.2 System Installation<a class="headerlink" href="#system-installation" title="Link to this heading">ÔÉÅ</a></h4>
<p>The Ubuntu version to be installed is 22.04. First, go to the official Ubuntu website to obtain the 64-bit image of Ubuntu 22.04. The download address is <a class="reference external" href="https://old-releases.ubuntu.com/releases/22.04.4/">https://old-releases.ubuntu.com/releases/22.04.4/</a>. Download the version ‚Äúubuntu-22.04.4-desktop-amd64.iso‚Äù.</p>
<p>Right-click on the newly created Ubuntu 64bit and select Settings from the pop-up menu.</p>
<p><img alt="Image" src="_images/1719278534926_94943ef2_c4d9_4ddd_91e9_50c5088dfacc.png" /></p>
<p>The ‚ÄúVirtual Machine Settings Menu‚Äù pops up as shown below:</p>
<p><img alt="Image" src="_images/1766382062619_7ab02551_ab95_41c9_bc43_3923409db1c5.png" /></p>
<p>Click on CD/DVD (SATA), select ‚ÄúUse ISO image file,‚Äù browse and choose the previously downloaded Ubuntu image, then click ‚ÄúOK‚Äù to confirm.</p>
<p><img alt="Image" src="_images/1766382062680_c9c5193e_3353_4424_acd0_3d19755db6a6.png" /></p>
<p>After setting up the image, ensure that the network is available. Then, start the virtual machine and proceed with the installation of the Ubuntu image.</p>
<p><img alt="Image" src="_images/1719278535587_6fcfdee5_51f1_4e1c_9906_d39fc0048711.png" /></p>
<p>After starting the virtual machine, wait for the installation interface to appear as shown below.</p>
<p><img alt="Image" src="_images/1766382062740_8d4fffe6_3f92_47ff_82a5_9a738edd68c3.png" /></p>
<p>After selecting the language on the left side as shown in the image, click ‚ÄúInstall Ubuntu‚Äù, and the language selection interface will pop up. Ubuntu default language is English, of course, you can also choose others, the default choice of language in the later stage can also be reset,after selection then click continue.</p>
<p><img alt="Image" src="_images/1719278536000_eb047135_c38a_4252_8c28_ab4160903086.png" /></p>
<p>Next, by default, select continue to finish the installation, the installation process will be very slow, then click ‚Äúcontinue‚Äù:</p>
<p><img alt="Image" src="_images/1719278536210_5beb2cde_35d4_44aa_b6b6_4e9c8e760b06.png" /></p>
<p>Next, select continue by default to continue the installation, the installation process will be very slow, and then click ‚Äúcontinue‚Äù:</p>
<p><img alt="Image" src="_images/1719278536401_c42c25c7_6384_4061_a7e2_76c6349c64be.png" /></p>
<p><img alt="Image" src="_images/1719278536688_120370eb_2370_46c6_805f_a2041fe0149c.png" /></p>
<p>Next, select the timezone. You can either click on the Shanghai timezone or enter ‚ÄúShanghai‚Äù (or choose the appropriate timezone based on your location). Then, click ‚ÄúContinue‚Äù to proceed. Finally, set your username and password and click ‚Äúcontinue‚Äù to automatically install the program:</p>
<p><img alt="Image" src="_images/1766382062807_b52339a1_ad54_46c0_aa7c_6bf5f0d357b8.png" /></p>
<p>The installation process is shown in the figure below, you can skip it if the network is bad, it will not affect the installation.</p>
<p><img alt="Image" src="_images/1766382062878_28446a75_0c69_4238_be5a_68b2dfa643d6.png" /></p>
<p>After the installation, click ‚ÄúRestart Now‚Äù to reboot (or click ‚ÄúReboot Client‚Äù):</p>
<p><img alt="Image" src="_images/1766382062949_be55a3f4_2047_4102_b96b_3c11d505d5e5.png" /></p>
<p><img alt="Image" src="_images/1719278538153_32d91128_59b7_4c50_9745_84b3186f5a51.png" /></p>
<p>The system interface after the reboot is complete as shown below:</p>
<p><img alt="Image" src="_images/1766382063027_f48e7115_ead7_4aef_9d2e_d8450621631c.png" /></p>
</section>
<section id="basic-ubuntu-installation">
<h4>3.1.3 Basic Ubuntu Installation<a class="headerlink" href="#basic-ubuntu-installation" title="Link to this heading">ÔÉÅ</a></h4>
<p>After installing the Ubuntu22.04 operating system, there are a few configurations to make.</p>
<ul class="simple">
<li><p><strong>VMware Tools Installation:</strong></p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>open-vm-tools<span class="w"> </span>open-vm-tools-desktop
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Basic Settings:</strong></p></li>
</ul>
<p>Make most of the system settings in the location shown below. A lot of the setup requirements on Ubuntu can be done here.</p>
<p><img alt="Image" src="_images/1719278539972_31f94d63_6f34_4904_846e_cd72975c7e99.png" /></p>
</section>
<section id="ubuntu-network-settings">
<h4>3.1.4 Ubuntu Network Settings<a class="headerlink" href="#ubuntu-network-settings" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p><strong>NAT Mode</strong></p></li>
</ul>
<p>Before using the network, make sure that our virtual machine can connect to the Internet, open the virtual machine settings, and change the network bridge mode in the network adapter to ‚ÄúNAT mode‚Äù:</p>
<p><img alt="Image" src="_images/1719278540173_d56c3ec8_1d83_49da_99f7_6bbd9a9b6830.png" /></p>
<p>When the VMware virtual NIC is set to NAT mode in a virtual machine, the network in the Ubuntu environment can be set to dynamic IP. The virtual NAT device and the host NIC are connected to communicate for Internet access in this mode. This is the most common way for our VM to get on the extranet.</p>
<p><img alt="Image" src="_images/1719278540394_95e15661_d1d0_427e_93ed_e365eb39c296.png" /></p>
<p><img alt="Image" src="_images/1719278540571_3d28eb06_aea3_4fda_8397_e821b2b7fca1.png" /></p>
<p>The network is set to dynamic IP.</p>
<p><img alt="Image" src="_images/1719278540815_009829ab_476a_45b8_b02e_d7f42bfbe34f.png" /></p>
<ul class="simple">
<li><p><strong>Bridge Mode:</strong></p></li>
</ul>
<p>If TFTP, SFTP and other servers are used, the network contact mode of the virtual machine needs to be set as the bridge mode. When the VMware virtual NIC is set to bridge mode, the host NIC and the VM NIC communicate via a virtual bridge, which requires the Ubuntu IP to be set to the same network segment as the host IP.</p>
<p><img alt="Image" src="_images/1719278541083_4d9634db_a591_45be_ad82_f0c7b1e12e3e.png" /></p>
<p><img alt="Image" src="_images/1719278541277_05740351_022e_45fc_96c7_06caac0e068d.png" /></p>
<p><img alt="Image" src="_images/1719278541434_9c36b6f6_6539_4295_8eec_4df165beb02c.png" /></p>
<p>Set a static IP, where Ubuntu‚Äôs IP and host IP need to be set in the same network segment.</p>
<p><img alt="Image" src="_images/1719278541630_bf5fd69d_adc1_407d_915f_2503b2055225.png" /></p>
<p><strong>Note: The IP and DNS involved in the network settings section should be set according to the user‚Äôs own actual environment, the manual is an example.</strong></p>
</section>
<section id="u-disk-loading">
<h4>3.1.5 U Disk Loading<a class="headerlink" href="#u-disk-loading" title="Link to this heading">ÔÉÅ</a></h4>
<p>Open VM Settings, USB Controller, select USB 3.0 in Compatibility and ‚ÄúOK‚Äù. As shown in the picture below, since most computers nowadays support USB3.0 ports, if we don‚Äôt set it up, when we plug in the USB3.0 port, we can‚Äôt connect to the virtual machine. The principle is as follows:</p>
<p><img alt="Image" src="_images/1719278541851_33d6ec29_11c4_499b_867c_528314eef0ca.png" /></p>
<p>After the virtual machine boot, insert the U disk, the virtual machine will be more in the lower right corner of the icon similar to the ‚ÄúU disk‚Äù, right-click ‚Äì&gt; connect, and then you can see in the file system to see more than a directory, that the U disk loaded successfully, as shown in the figure:</p>
<p><img alt="Image" src="_images/1719278542123_ad4e8176_1557_40a0_b545_a4aa290b16d2.png" /></p>
<p><img alt="Image" src="_images/1719278542337_c0fe4886_515f_4fe1_9446_22882a83577e.png" /></p>
</section>
<section id="virtual-machine-basic-library-installation">
<h4>3.1.6 Virtual Machine Basic Library Installation<a class="headerlink" href="#virtual-machine-basic-library-installation" title="Link to this heading">ÔÉÅ</a></h4>
<p>Before development, there are some other necessary libraries, we use the following commands to install them one by one, before installation, you need to ensure that the network can be used normally, you can get on the extranet:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w">                        </span>//<span class="w"> </span>Update<span class="w"> </span>the<span class="w"> </span>download<span class="w"> </span><span class="nb">source</span><span class="w"> </span>information
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w">            </span>//<span class="w"> </span>Provide<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>information<span class="w"> </span>of<span class="w"> </span>software<span class="w"> </span>packages<span class="w"> </span>necessary<span class="w"> </span><span class="k">for</span><span class="w"> </span>compiling<span class="w"> </span>programs
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libncurses*<span class="w">               </span>//<span class="w"> </span>Used<span class="w"> </span>to<span class="w"> </span>generate<span class="w"> </span>text-based<span class="w"> </span>user<span class="w"> </span>interfaces
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>lzop<span class="w">                     </span>//<span class="w"> </span>A<span class="w"> </span>compression<span class="w"> </span>and<span class="w"> </span>decompression<span class="w"> </span>tool<span class="w"> </span>based<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>Lzo<span class="w"> </span>library
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>net-tools<span class="w">                 </span>//<span class="w"> </span>Network<span class="w"> </span>configuration<span class="w"> </span>tools
</pre></div>
</div>
</section>
<section id="installation-of-necessary-libraries-for-compiling-ok1126b-linux-source-code">
<h4>3.1.7 Installation of Necessary Libraries for Compiling OK1126B Linux Source Code<a class="headerlink" href="#installation-of-necessary-libraries-for-compiling-ok1126b-linux-source-code" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w">                                       </span>//Update<span class="w"> </span>apt-get<span class="w"> </span>download<span class="w"> </span><span class="nb">source</span>
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>openssh-server<span class="w"> </span>vim<span class="w"> </span>git<span class="w"> </span>fakeroot<span class="w"> </span>libsqlite3-dev<span class="w">          </span>//Installation<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>necessary<span class="w"> </span>tool<span class="w"> </span>kit
forlinx@ubuntu:~$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>ssh<span class="w"> </span>make<span class="w"> </span>gcc<span class="w"> </span>libssl-dev<span class="w"> </span><span class="se">\</span>
liblz4-tool<span class="w"> </span>expect<span class="w"> </span>expect-dev<span class="w"> </span>g++<span class="w"> </span>patchelf<span class="w"> </span>chrpath<span class="w"> </span>gawk<span class="w"> </span>texinfo<span class="w"> </span>chrpath<span class="w"> </span><span class="se">\</span>
diffstat<span class="w"> </span>binfmt-support<span class="w"> </span>qemu-user-static<span class="w"> </span>live-build<span class="w"> </span>bison<span class="w"> </span>flex<span class="w"> </span>fakeroot<span class="w"> </span><span class="se">\</span>
cmake<span class="w"> </span>gcc-multilib<span class="w"> </span>g++-multilib<span class="w"> </span>unzip<span class="w"> </span>device-tree-compiler<span class="w"> </span>ncurses-dev<span class="w"> </span><span class="se">\</span>
libgucharmap-2-90-dev<span class="w"> </span>bzip2<span class="w"> </span>expat<span class="w"> </span>gpgv2<span class="w"> </span>cpp-aarch64-linux-gnu<span class="w"> </span>libgmp-dev<span class="w"> </span><span class="se">\</span>
libmpc-dev<span class="w"> </span>bc<span class="w"> </span>python-is-python3<span class="w"> </span>python2<span class="w"> </span>gettext<span class="w"> </span>libc6-dev<span class="w"> </span>libncurses-dev<span class="w"> </span>rsync
</pre></div>
</div>
<p>These library files are the ones that need to be downloaded when compiling the Linux source code by building the OK1126B Linux compilation environment by yourself. If you are not building the OK1126B Linux development environment, you can skip this step.</p>
</section>
</section>
<section id="installation-of-cross-compilation-chain">
<h3>3.2 Installation of Cross-compilation Chain<a class="headerlink" href="#installation-of-cross-compilation-chain" title="Link to this heading">ÔÉÅ</a></h3>
<p>User Materials/2 - Images and Source Codes/Cross - Compilation Toolchain/aarch64 - buildroot - linux - gnu_sdk - buildroot.tar.gz.</p>
<p>Copy the above compressed package to the development environment/home/forlinx/, and decompress it in this directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span>tar<span class="w"> </span>-zvxf<span class="w"> </span>aarch64-buildroot-linux-gnu_sdk-buildroot.tar.gz
</pre></div>
</div>
<p>Go to the aarch64-buildroot-linux-gnu _ sdk -buildroot directory and execute relocate-sdk. Sh.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/aarch64-buildroot-linux-gnu_sdk-buildroot$<span class="w"> </span>./relocate-sdk.sh
</pre></div>
</div>
</section>
<section id="qt-creator-installation">
<h3>3.3 Qt Creator Installation<a class="headerlink" href="#qt-creator-installation" title="Link to this heading">ÔÉÅ</a></h3>
<p>Copy qt-creator-opensource-linux-x86_64-4.7.0.run to any directory within the current user‚Äôs home directory, and then run the following command.</p>
<ul class="simple">
<li><p>Path: OK1126B-CÔºàLinuxÔºâUser‚Äôs Manual\Linux\source code \qt-creator-opensource-linux-x86_64-4.7.0.run</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span>./qt-creator-opensource-linux-x86_64-4.7.0.run<span class="w">                   </span>
</pre></div>
</div>
<p>Then the installation window of the graphical interface will pop up, and install according to the instructions:</p>
<p><img alt="Image" src="_images/1719278542977_d1772186_fa60_442a_8cf2_6e5cffefaae2.png" /> <img alt="Image" src="_images/1719278543199_cbc234c5_2d49_43aa_864e_4daf0abe7a4c.png" /></p>
<p><img alt="Image" src="_images/1719278543389_eaacabb8_9343_4e45_8626_9a68c043e0a0.png" /> <img alt="Image" src="_images/1719278543608_c9d367f7_56c3_44b6_829c_04f29286f63d.png" /></p>
<p>If you install online, you need to register your own Qt account. If you already have a Qt account, you can log in directly. The requirements for the Qt password are: it should include capital letters, lowercase letters, and numbers. After successful registration and login, click ‚ÄúNext‚Äò.</p>
<p>If you install offline, you can skip it.</p>
<p><img alt="Image" src="_images/1719278543830_11d43ecf_8d67_4bd0_a472_fc52383a77b1.png" /></p>
<p>Click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1719278544047_02ae511b_f6df_49fc_94ad_50606afa9ac1.png" /></p>
<p>You can set the installation path according to your own habits. It is set by default here, so click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1719278544274_25984f38_7e0d_4029_97ec_25fc13e82651.png" /></p>
<p>To fully install, click ‚ÄúNext‚Äù.</p>
<p><img alt="Image" src="_images/1719278544480_43ea98bb_67e7_4632_a1cf_b917e22a17eb.png" /></p>
<p><img alt="Image" src="_images/1719278544690_a23e2f5f_b76b_46c9_8ebc_ef0ddc395677.png" /></p>
<p>Click ‚ÄúInstall‚Äù and wait for the installation to complete.</p>
<p><img alt="Image" src="_images/1719278544902_6e395fac_45b1_428e_b5ed_dd3045ed1597.png" /></p>
<p>When the installation is complete, click ‚ÄúFinish‚Äù. At this time, the Qt interface will be opened automatically. You can also start it through the command line. Execute the following command to open Qt Creator in the backstage. When you opens it, the actual installation path shall prevail:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/forlinx/qtcreator-4.7.0/bin
forlinx@ubuntu:~$<span class="w"> </span>./qtcreator<span class="w"> </span><span class="p">&amp;</span>
</pre></div>
</div>
<p><img alt="Image" src="_images/1719278545088_f7954df3_4aa6_40d1_9046_723786b916af.png" /></p>
<p>The Qt Creator tool screen appears. Qt Creator is installed.</p>
</section>
</section>
<section id="related-code-compilation">
<h2>4. Related Code Compilation<a class="headerlink" href="#related-code-compilation" title="Link to this heading">ÔÉÅ</a></h2>
<p>This chapter mainly describes the compiling method of the source code related to the development board, including the kernel source code compilation and the application program compilation.</p>
<section id="preparation-before-compilation">
<h3>4.1 Preparation Before Compilation<a class="headerlink" href="#preparation-before-compilation" title="Link to this heading">ÔÉÅ</a></h3>
<section id="environment-description">
<h4>4.1.1 Environment Description<a class="headerlink" href="#environment-description" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p>Development environment OS: Ubuntu22.04 64 bit version</p></li>
<li><p>Cross-toolchain: aarch64-linux-gnu</p></li>
<li><p>The board uses the Bootloader version: u-boot-2017.09.</p></li>
<li><p>Development Board Kernel: Linux-6.1.118</p></li>
<li><p>Development board porting QT version: qt5.15.11</p></li>
</ul>
</section>
<section id="source-code-copy">
<h4>4.1.2 Source Code Copy<a class="headerlink" href="#source-code-copy" title="Link to this heading">ÔÉÅ</a></h4>
<p>Program source code: User Materials\2 - Images and Source Codes\Source Codes\OK1126B - linux - source.tar.bz2.0*</p>
<p>Buildroot software package: User Materials\2 - Images and Source Codes\Source Codes\dl.tar.bz2</p>
<p>Create a working directory and place the source code and dl.tar.bz2 in the work directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/forlinx/work<span class="w">					</span>//Switch<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>working<span class="w"> </span>directory
forlinx@ubuntu:~/work$<span class="w"> </span>cat<span class="w"> </span>OK1126B-linux-source.tar.bz2.0*<span class="w"> </span>&gt;<span class="w"> </span>OK1126B-linux-source.tar.bz2
forlinx@ubuntu:~/work$<span class="w"> </span>tar<span class="w"> </span>-vxf<span class="w"> </span>OK1126B-linux-source.tar.bz2<span class="w">  </span>//Decompress<span class="w"> </span>the<span class="w"> </span>compressed<span class="w"> </span>packet<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>location
forlinx@ubuntu:~/work$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/forlinx/work/OK1126B-linux-source/buildroot
forlinx@ubuntu:~/work/OK1126B-linux-source/buildroot$<span class="w"> </span>tar<span class="w"> </span>-vxf<span class="w"> </span>../../dl.tar.bz2<span class="w">	</span>//Unzip<span class="w"> </span>dl.tar.bz2<span class="w"> </span>under<span class="w"> </span>buildroot
</pre></div>
</div>
<p>Just run the command and wait for it to complete.</p>
</section>
</section>
<section id="source-code-compilation">
<h3>4.2 Source Code Compilation<a class="headerlink" href="#source-code-compilation" title="Link to this heading">ÔÉÅ</a></h3>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>After the kernel source code is decompressed for the first time, the source code needs to be compiled as a whole;</strong></p></li>
<li><p><strong>After compiling as a whole, you can compile separately according to the actual situation;</strong></p></li>
<li><p><strong>The source code compilation requires a development environment with a running memory of 8G or above. Please do not modify the VM virtual machine image configuration provided by us.</strong></p></li>
</ul>
<section id="full-compilation-test">
<h4>4.2.1 Full Compilation Test<a class="headerlink" href="#full-compilation-test" title="Link to this heading">ÔÉÅ</a></h4>
<p>In the source code path, the compilation script build. Sh is provided. Run the script to compile the entire source code. You need to switch to the decompressed source code path at the terminal and find the build. Sh films</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source/buildroot$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/forlinx/work/OK1126B-linux-source
forlinx@ubuntu:~/work/OK1126B-linux-source$<span class="w"> </span>rm<span class="w"> </span>output/defconfig
</pre></div>
</div>
<p>The following operations need to be operated under the source code directory, and the full compilation method is:</p>
<p>Full Compilation.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source$<span class="w"> </span>./build.sh
</pre></div>
</div>
<p><img alt="Image" src="_images/1766382064881_3a068219_95c8_4feb_96c4_d3b505267669.png" /></p>
<p>After successful compilation, the system image will be generated under the rockdev folder, as shown in the following figure:</p>
<p><img alt="Image" src="_images/1766382064975_3caccdb5_8262_491c_86cb_8a953348dada.png" /></p>
<p><strong>Note: The update. img is packaged for full programming of OTG or TF card, and other files are programmed step by step.</strong></p>
</section>
<section id="individual-compilation">
<h4>4.2.2 Individual Compilation<a class="headerlink" href="#individual-compilation" title="Link to this heading">ÔÉÅ</a></h4>
<p>The user performs the operation in the kernel source code path.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source$<span class="w"> </span>./build.sh<span class="w"> </span>kernel
</pre></div>
</div>
<p><img alt="Image" src="_images/1766382065083_1d080843_e960_401a_84df_66948f623b6c.png" /></p>
<p>The kernel in the update. img is not updated after successful compilation. Please flash the kernel/boot. img file step by step.</p>
</section>
<section id="clearance-of-files-generated-by-the-compilation">
<h4>4.2.3 Clearance of Files Generated by the Compilation<a class="headerlink" href="#clearance-of-files-generated-by-the-compilation" title="Link to this heading">ÔÉÅ</a></h4>
<p>Perform the operation in the source code path.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source$<span class="w"> </span>./build.sh<span class="w"> </span>cleanall
</pre></div>
</div>
<p><img alt="Image" src="_images/1766382065175_a5de4356_0ed8_4d3a_acd8_7d1b39a9687a.png" /></p>
<p>This operation clears all intermediate files. However, it does not affect the source files, including those that have already had changes made to them.</p>
</section>
<section id="kernel-configuration">
<h4>4.2.4 Kernel Configuration<a class="headerlink" href="#kernel-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>If you want to configure the kernel, you must first complete a full compilation.</p>
<p>Perform the following operations in the source code directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source$<span class="w"> </span>./build.sh<span class="w"> </span>kconfig
</pre></div>
</div>
<p>After adding or modifying configurations, save and exit. Afterwards, it can be compiled directly.</p>
</section>
</section>
<section id="use-of-image-file">
<h3>4.3 Use of Image File<a class="headerlink" href="#use-of-image-file" title="Link to this heading">ÔÉÅ</a></h3>
<p>The update. img is packaged for full programming of OTG or TF card, and other files are programmed step by step. The Image file, generated by a separate compilation, will not be updated in the update.img file. And it needs to be burned using single-step burn (see user manual OTG burn for details).</p>
</section>
<section id="qt-creator-environment-configuration">
<h3>4.4 Qt Creator Environment Configuration<a class="headerlink" href="#qt-creator-environment-configuration" title="Link to this heading">ÔÉÅ</a></h3>
<p>Qt is a cross-platform graphics development library, which supports many operating systems. Before compiling, you need to configure the compiling environment of Qt Creator.</p>
<section id="cross-compiler-configuration">
<h4>4.4.1 Cross Compiler Configuration<a class="headerlink" href="#cross-compiler-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>Note: The default development environment does not have the cross - compilation chain installed. You need to refer to 3.3 Install the Cross - Compilation Chain to install it (the recommended installation path is /home/forlinx/aarch64 - buildroot - linux - gnu_sdk - buildroot).</p>
<p><strong>Note: Enter aarch64-buildroot-linux-gnu_sdk-buildroot to execute relocate-sdk.sh.</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/aarch64-buildroot-linux-gnu_sdk-buildroot$<span class="w"> </span>./relocate-sdk.sh
</pre></div>
</div>
<p>1. Enter the installation path of qtcreator and open qtcreator;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/qtcreator-4.7.0/bin$<span class="w"> </span>./qtcreator
</pre></div>
</div>
<p>2. Click Tools-&gt; Options-&gt; Kits-&gt; Compilers in Qt Creator, and then click Add-&gt; GCC-&gt; C;</p>
<p>3. Name enters GCC;</p>
<p>4. Paste the path of the compilation chain to the Compiler Path, as shown in the following figure:</p>
<ul class="simple">
<li><p>Path: /home/forlinx/aarch64-buildroot-linux-gnu_sdk-buildroot/bin/aarch64-linux-gcc</p></li>
</ul>
<p><img alt="Image" src="_images/1766382065325_5e782e89_6cef_430a_950f_f53deb46bd3b.png" /></p>
<p>5. Follow the same method to add the GCC compiler, click ‚ÄúAdd-&gt;GCC-&gt;C++‚Äù on the right, as shown in the figure:</p>
<ul class="simple">
<li><p>Path: /home/forlinx/aarch64-buildroot-linux-gnu_sdk-buildroot/bin/aarch64-linux-g++</p></li>
</ul>
<p><img alt="Image" src="_images/1766382065472_071286a0_07ff_4c35_a1bf_224dfd005874.png" /></p>
</section>
<section id="qt-versions-configuration">
<h4>4.4.2 Qt Versions Configuration<a class="headerlink" href="#qt-versions-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>1. Click Tools- &gt; Options- &gt; Qt Versions in Qt Creator;</p>
<p>2. Then click Add to pop up a dialog box to select /home/forlinx/aarch64-buildroot-linux-gnu_sdk-buildroot/bin/qmake;</p>
<p>3. Click open to add;</p>
<p>4. Then it will return to the Qt Version configuration box, and the Version name can be changed by itself;</p>
<p>5. Then click ‚ÄúApply and OK‚Äù.</p>
<p><img alt="Image" src="_images/1766382065550_14f7a743_402d_4bdd_84ba_00f069d1c974.png" /></p>
</section>
<section id="kits-configuration">
<h4>4.4.3 Kits Configuration<a class="headerlink" href="#kits-configuration" title="Link to this heading">ÔÉÅ</a></h4>
<p>Kits is a build kit for building and selecting development build environments useful for projects with multiple QT libraries. Add the previously added cross-compiler and QT Version to Kits to build a compilation environment suitable for the development board.</p>
<p>1. Click Tools- &gt; Options- &gt; Kits in Qt Creator, and then click Add to display the configuration section;</p>
<p>2. Name changes by itself;</p>
<p>3. Compiler selects GCC;</p>
<p>4. Qt version selects the name entered when the Qt version was created;</p>
<p>5. Then click ‚ÄúApply and OK‚Äù.</p>
<p><img alt="Image" src="_images/1766382065647_1ca23892_98fa_45dc_852f_bd63156eca6a.png" /></p>
</section>
</section>
<section id="application-compilation-and-operation">
<h3>4.5 Application Compilation and Operation<a class="headerlink" href="#application-compilation-and-operation" title="Link to this heading">ÔÉÅ</a></h3>
<section id="command-line-application-compilation-and-operation">
<h4>4.5.1 Command Line Application Compilation and Operation<a class="headerlink" href="#command-line-application-compilation-and-operation" title="Link to this heading">ÔÉÅ</a></h4>
<p>In this section, the watchdog test program is used. By default, the source code is copied to the /home/forlinx/work directory.</p>
<p>1. Use the cd command to enter the test source code directory;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/forlinx/work/OK1126B-linux-source/app/forlinx/forlinx_cmd/fltest_watchdog
</pre></div>
</div>
<p>2. Add the cross-compiler path and use make to cross-compile;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source/app/forlinx/forlinx_cmd/fltest_watchdog$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span>/home/forlinx/aarch64-buildroot-linux-gnu_sdk-buildroot/bin/:<span class="nv">$PATH</span>
forlinx@ubuntu:~/work/OK1126B-linux-source/app/forlinx/forlinx_cmd/fltest_watchdog$<span class="w"> </span>aarch64-linux-gcc<span class="w"> </span>watchdog.c<span class="w"> </span>-o<span class="w"> </span>fltest_watchdog
</pre></div>
</div>
<p>3. Use the file command to view the generated file information.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/OK1126B-linux-source/app/forlinx/forlinx_cmd/fltest_watchdog$<span class="w"> </span>/usr/bin/file<span class="w"> </span>fltest_watchdog<span class="w"> </span>
fltest_watchdog:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>pie<span class="w"> </span>executable,<span class="w"> </span>ARM<span class="w"> </span>aarch64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>SYSV<span class="o">)</span>,<span class="w"> </span>dynamically<span class="w"> </span>linked,<span class="w"> </span>interpreter<span class="w"> </span>/lib/ld-linux-aarch64.so.1,<span class="w"> </span><span class="k">for</span><span class="w"> </span>GNU/Linux<span class="w"> </span><span class="m">3</span>.7.0,<span class="w"> </span>not<span class="w"> </span>stripped
</pre></div>
</div>
<p>From the result, you can see that the compiled 64-bit ARM file.</p>
<p>4. Copy the fltest _ watchdog generated by compiling to the board through U disk or FTP, for example, under the/forlinx path. Take the TF card as an example, and copy it to the development board and run the test.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:~#<span class="w"> </span>cp<span class="w"> </span>/run/media/sda1/fltest_watchdog<span class="w"> </span>/root/
root@OK1126B-buildroot:~#<span class="w"> </span>./fltest_watchdog
Watchdog<span class="w"> </span>Ticking<span class="w"> </span>Away!
</pre></div>
</div>
</section>
<section id="qt-application-compilation-and-operation">
<h4>4.5.2 QT Application Compilation and Operation<a class="headerlink" href="#qt-application-compilation-and-operation" title="Link to this heading">ÔÉÅ</a></h4>
<p>Open Qt Creator in the development environment (users should open it according to their actual paths). Click File -&gt; Open File or Project in Qt Creator. In the pop - up window, select /home/forlinx/work/OK3568 - linux - source/app/forlinx/flapp/src/watchdog/watchdog.pro.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>qtcreator-4.7.0/bin/
forlinx@ubuntu~/qtcreator-4.7.0/bin$<span class="w"> </span>./qtcreator<span class="w"> </span><span class="p">&amp;</span>
</pre></div>
</div>
<p><img alt="Image" src="_images/1766382065759_68535180_827b_401c_9f5c_02ae512b187c.png" /></p>
<p>After opening the project, the interface is as follows: (If the page is not automatically changed, please select as shown in the screenshot).</p>
<p><img alt="Image" src="_images/1766382065860_f672a529_25ec_4069_9d2f_c0bed8e9b081.png" /></p>
<p>Click Configure Project to adapt to the build environment described in the ‚ÄúQt Creator Environment Configuration‚Äù section of this manual.</p>
<p><img alt="Image" src="_images/1766382065976_06b8a5a1_ce6b_4e63_9e96_f4a5bdaf8fa7.png" /></p>
<p>Click Build-&gt;Clean All to clear it. (If the intermediate file is not cleared, it can be deleted manually).</p>
<p>Click Projects to uncheck Shadow build.</p>
<p><img alt="Image" src="_images/1766382066079_0da61d98_b203_4c14_ab16_fab371086756.png" /></p>
<p>Then click Build-&gt; Build All to compile.</p>
<p>After the Build progress bar in the lower - right corner finishes, it means the compilation is complete. At this time, you will see the newly generated binary file fltest_qt_watchdog in the directory /home/forlinx/work/OK1126B - linux - source/app/forlinx/flapp_out/, as follows:</p>
<p><img alt="Image" src="_images/1766382066173_3aa58730_665e_42a5_9ead_2ff89ef1938f.png" /></p>
<p>Copy the executable file generated by compiling to the board through U disk or FTP, copy it to the development board, and run the test.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- Â∑¶‰æßÁâàÊùÉ‰ø°ÊÅØ -->
    <span style="font-size: 14px; color: #444;">
      ¬© <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- Âè≥‰æßÁ§æ‰∫§ÂõæÊ†á -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>