

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux6.1.141_User’s Manual_V1.0 &mdash; Forlinx Embedded RV1126B/RV1126BJ Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok1126bx-s/OK1126B-S_OK1126BJ-S_Linux6_1_141_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK1126B-S_OK1126BJ-S_User_Hardware_Manual.html">User’s Hardware Manual_V1.0</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">APPLICATION NOTE</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/index.html">RK Development Manual</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RV1126B/RV1126BJ Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux6.1.141_User’s Manual_V1.0</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux6-1-141-user-s-manual-v1-0">
<h1>Linux6.1.141_User’s Manual_V1.0<a class="headerlink" href="#linux6-1-141-user-s-manual-v1-0" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Date</strong></p></th>
<th class="head text-center"><p><strong>Manual Version</strong></p></th>
<th class="head"><p><strong>SoM Version</strong></p></th>
<th class="head"><p><strong>Carrier Board Version</strong></p></th>
<th class="head text-center"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>22/12/2025</p></td>
<td class="text-center"><p>V1.0</p></td>
<td><p>V1.0</p></td>
<td><p>V1.1 and Above</p></td>
<td class="text-center"><p>Linux6.1.141 User’s Manual Initial Version.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This manual is designed to help you quickly familiarize yourself with the product, and understand the interface functions and testing methods. It primarily covers the testing of interface functions on the development board, the methods for flashing images, and troubleshooting procedures for common issues encountered in use. During the testing process, some commands are annotated for easy understanding, focusing on practicality and sufficiency. Please refer to the “ OK1126B-S&amp;OK1126BJ-S_Linux6.1.141 User’s Compilation Manual” provided by Forlinx for the kernel compilation, compilation method, and development environment setup.</p>
<p>There are total six parts:</p>
<ul class="simple">
<li><p>Chapter 1. provides an overview of the product, briefly introducing the interface resources of the development board, the relevant driver paths in the kernel source code, supported flashing and booting methods, as well as explanations of key sections in the documentation;</p></li>
<li><p>Chapter 2. is the fast boot/startup of the product, which can adopt two ways of serial port login and network login;</p></li>
<li><p>Chapter 3. provides function test of product desktop and QT interface;</p></li>
<li><p>Chapter 4. is the command line operation of the product for functional testing;</p></li>
<li><p>Chapter 5. is the multimedia test of the product, including the playback test of the camera and the video hardware codec test;</p></li>
<li><p>Chapter 6. is the image update of the product, which mainly describes the method of updating the image to the storage device. Users can choose the corresponding flashing mode according to the actual situation.</p></li>
</ul>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>OK1126B-S development board is factory-installed with the Linux image by default. Before performing any operation on the board, please confirm that it is running the Linux operating system. If it is not running Linux, the Linux image needs to be re-burned. You can refer to the burning instructions provided in “System Flashing” re-burn the Linux image. After burning is complete, you can check the kernel version information by following the steps provided in “Serial Port Login”;</strong></p></li>
<li><p><strong>For detailed information, refer to the OK1126B-S user manual. In this document, the directory where the user manual is located is taken as the root directory of the OK1126B-S user manual.</strong></p></li>
</ul>
</section>
<section id="ok1126b-s-development-board-description">
<h2>1. OK1126B-S Development Board Description<a class="headerlink" href="#ok1126b-s-development-board-description" title="Link to this heading"></a></h2>
<section id="ok1126b-s-ok1126bj-s-development-board-description">
<h3>1.1 OK1126B-S/OK1126BJ-S Development Board Description<a class="headerlink" href="#ok1126b-s-ok1126bj-s-development-board-description" title="Link to this heading"></a></h3>
<p>OK1126B-S/OK1126BJ-S is a low-power, high-performance processor based on the ARM64 architecture. It features a quad-core Cortex-A53 and integrates NEON, FPU, NPU, and MCU. The NPU has a computing power of up to 3.0 TOPs, making it suitable for artificial intelligence applications such as intelligent vision.</p>
<p>Stamp hole connection, the main interfaces are shown in the following figure:</p>
<p><img alt="Image" src="_images/1766382043008_819ef8b3_9593_4f1d_bf32_07a0b66839d9.png" /></p>
<p><strong>Front</strong></p>
<p><img alt="Image" src="_images/1766382043134_894c09dd_def0_4577_939f_fced87f831f0.png" /></p>
<p><strong>Back</strong></p>
<p><strong>Note: The software manual no longer includes hardware parameter details. Prior to software development, please read the “OK1126B-S/OK1126BJ-S User’s Manual” located at “Hardware Information\User Manual” path. This manual clarifies product naming conventions and specific hardware configuration. It aids in understanding and utilizing the product effectively.</strong></p>
</section>
<section id="linux-6-1-118-system-software-resources-features">
<h3>1.2 Linux 6.1.118 System Software Resources Features<a class="headerlink" href="#linux-6-1-118-system-software-resources-features" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p><strong>Device Name</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p>/sys/class/backlight</p></td>
</tr>
<tr class="row-odd"><td><p>USB Port</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>USB Mouse</p></td>
<td><p>drivers/hid/usbhid/</p></td>
<td><p>/dev/input/mice</p></td>
</tr>
<tr class="row-odd"><td><p>Ethernet</p></td>
<td><p>drivers/net/ethernet/stmicro/stmmac</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SD/micro TF card driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk1pX</p></td>
</tr>
<tr class="row-odd"><td><p>EMMC Driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk2pX</p></td>
</tr>
<tr class="row-even"><td><p>OV13850</p></td>
<td><p>drivers/media/i2c/ov13850.c</p></td>
<td><p>/dev/videoX</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Controller</p></td>
<td><p>drivers/gpu/drm/rockchip/rockchip_drm_vop.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>MIPI CSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-mipi-rx.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>MIPI DSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LCD Touch Driver</p></td>
<td><p>drivers/input/touchscreen/gt9xx/*   drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-odd"><td><p>RTC Real Time Clock Driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c   drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>serial port</p></td>
<td><p>drivers/tty/serial/8250/8250_dw.c</p></td>
<td><p>/dev/ttySX</p></td>
</tr>
<tr class="row-odd"><td><p>LED</p></td>
<td><p>drivers/leds/leds-gpio.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>I2S</p></td>
<td><p>sound/soc/rockchip/rockchip_i2s.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Audio Driver</p></td>
<td><p>sound/soc/codecs/rk3506_codec.c</p></td>
<td><p>/dev/snd/</p></td>
</tr>
<tr class="row-even"><td><p>PMIC</p></td>
<td><p>drivers/mfd/rk808.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Watchdog</p></td>
<td><p>drivers/watchdog/dw_wdt.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>drivers/spi/spi-rockchip.c</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc-memory-partition-table">
<h3>1.3 EMMC Memory Partition Table<a class="headerlink" href="#emmc-memory-partition-table" title="Link to this heading"></a></h3>
<p>The following table shows the eMMC memory partition information for the Linux operating system (calculated with a block size of 512bit):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Partition Index</strong></p></th>
<th class="head text-center"><p><strong>Name</strong></p></th>
<th class="head text-center"><p><strong>Offset / block</strong></p></th>
<th class="head text-center"><p><strong>Size/block</strong></p></th>
<th class="head text-center"><p><strong>content</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>N/A</p></td>
<td class="text-center"><p>loader</p></td>
<td class="text-center"><p>0x00000000</p></td>
<td class="text-center"><p>0x00003fc0</p></td>
<td class="text-center"><p>MiniLoaderAll.bin</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>1</p></td>
<td class="text-center"><p>uboot</p></td>
<td class="text-center"><p>0x00004000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>uboot.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>2</p></td>
<td class="text-center"><p>env</p></td>
<td class="text-center"><p>0x00006000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>env.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>3</p></td>
<td class="text-center"><p>misc</p></td>
<td class="text-center"><p>0x00008000</p></td>
<td class="text-center"><p>0x00002000</p></td>
<td class="text-center"><p>misc.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>4</p></td>
<td class="text-center"><p>boot</p></td>
<td class="text-center"><p>0x0000a000</p></td>
<td class="text-center"><p>0x00020000</p></td>
<td class="text-center"><p>boot.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>5</p></td>
<td class="text-center"><p>recovery</p></td>
<td class="text-center"><p>0x0002a000</p></td>
<td class="text-center"><p>0x00040000</p></td>
<td class="text-center"><p>recovery.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>6</p></td>
<td class="text-center"><p>backup</p></td>
<td class="text-center"><p>0x0006a000</p></td>
<td class="text-center"><p>0x00010000</p></td>
<td class="text-center"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>7</p></td>
<td class="text-center"><p>rootfs</p></td>
<td class="text-center"><p>0x0007a000</p></td>
<td class="text-center"><p>0x00c00000</p></td>
<td class="text-center"><p>rootfs.img</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>8</p></td>
<td class="text-center"><p>oem</p></td>
<td class="text-center"><p>0x00c7a000</p></td>
<td class="text-center"><p>0x00040000</p></td>
<td class="text-center"><p>oem.img</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>9</p></td>
<td class="text-center"><p>userdata</p></td>
<td class="text-center"><p>0x00cba000</p></td>
<td class="text-center"><p>Remaining total</p></td>
<td class="text-center"><p>userdata.img</p></td>
</tr>
</tbody>
</table>
<p>The partition size can be viewed on the development board using the fdisk -l command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fdisk<span class="w"> </span>–l
Found<span class="w"> </span>valid<span class="w"> </span>GPT<span class="w"> </span>with<span class="w"> </span>protective<span class="w"> </span>MBR<span class="p">;</span><span class="w"> </span>using<span class="w"> </span>GPT

Disk<span class="w"> </span>/dev/mmcblk0:<span class="w"> </span><span class="m">122224640</span><span class="w"> </span>sectors,<span class="w"> </span>2336M
Logical<span class="w"> </span>sector<span class="w"> </span>size:<span class="w"> </span><span class="m">512</span>
Disk<span class="w"> </span>identifier<span class="w"> </span><span class="o">(</span>GUID<span class="o">)</span>:<span class="w"> </span>1f4a0000-0000-4f41-8000-567100007625
Partition<span class="w"> </span>table<span class="w"> </span>holds<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">128</span><span class="w"> </span>entries
First<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">34</span>,<span class="w"> </span>last<span class="w"> </span>usable<span class="w"> </span>sector<span class="w"> </span>is<span class="w"> </span><span class="m">122224606</span>

Number<span class="w">  </span>Start<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">    </span>End<span class="w"> </span><span class="o">(</span>sector<span class="o">)</span><span class="w">  </span>Size<span class="w"> </span>Name
<span class="w">     </span><span class="m">1</span><span class="w">           </span><span class="m">16384</span><span class="w">           </span><span class="m">24575</span><span class="w"> </span>4096K<span class="w"> </span>uboot
<span class="w">     </span><span class="m">2</span><span class="w">           </span><span class="m">24576</span><span class="w">           </span><span class="m">32767</span><span class="w"> </span>4096K<span class="w"> </span>env
<span class="w">     </span><span class="m">3</span><span class="w">           </span><span class="m">32768</span><span class="w">           </span><span class="m">40959</span><span class="w"> </span>4096K<span class="w"> </span>misc
<span class="w">     </span><span class="m">4</span><span class="w">           </span><span class="m">40960</span><span class="w">          </span><span class="m">172031</span><span class="w"> </span><span class="m">64</span>.0M<span class="w"> </span>boot
<span class="w">     </span><span class="m">5</span><span class="w">          </span><span class="m">172032</span><span class="w">          </span><span class="m">434175</span><span class="w">  </span>128M<span class="w"> </span>recovery
<span class="w">     </span><span class="m">6</span><span class="w">          </span><span class="m">434176</span><span class="w">          </span><span class="m">499711</span><span class="w"> </span><span class="m">32</span>.0M<span class="w"> </span>backup
<span class="w">     </span><span class="m">7</span><span class="w">          </span><span class="m">499712</span><span class="w">        </span><span class="m">13082623</span><span class="w"> </span>6144M<span class="w"> </span>rootfs
<span class="w">     </span><span class="m">8</span><span class="w">        </span><span class="m">13082624</span><span class="w">        </span><span class="m">13344767</span><span class="w">  </span>128M<span class="w"> </span>oem
<span class="w">     </span><span class="m">9</span><span class="w">        </span><span class="m">13344768</span><span class="w">       </span><span class="m">122224606</span><span class="w"> </span><span class="m">51</span>.9G<span class="w"> </span>userdata
Disk<span class="w"> </span>/dev/mmcblk0boot0:<span class="w"> </span><span class="m">4</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">4194304</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">8192</span><span class="w"> </span>sectors
<span class="m">128</span><span class="w"> </span>cylinders,<span class="w"> </span><span class="m">4</span><span class="w"> </span>heads,<span class="w"> </span><span class="m">16</span><span class="w"> </span>sectors/track
Units:<span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes

Disk<span class="w"> </span>/dev/mmcblk0boot0<span class="w"> </span>doesn<span class="s1">&#39;t contain a valid partition table</span>
<span class="s1">Disk /dev/mmcblk0boot1: 4 MB, 4194304 bytes, 8192 sectors</span>
<span class="s1">128 cylinders, 4 heads, 16 sectors/track</span>
<span class="s1">Units: sectors of 1 * 512 = 512 bytes</span>

<span class="s1">Disk /dev/mmcblk0boot1 doesn&#39;</span>t<span class="w"> </span>contain<span class="w"> </span>a<span class="w"> </span>valid<span class="w"> </span>partition<span class="w"> </span>table
</pre></div>
</div>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading"></a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>5V2A DC power cable</p></li>
<li><p>Debugging serial cable</p></li>
</ul>
<p><img alt="Image" src="_images/1766382044806_630e2cc3_c34c_41aa_b48a_41dc0948335a.png" /></p>
</section>
<section id="debugging-serial-driver-installation">
<h3>2.2 Debugging Serial Driver Installation<a class="headerlink" href="#debugging-serial-driver-installation" title="Link to this heading"></a></h3>
<p>OK1126B-S/OK1126BJ-S platform uses a Type-C interface for debugging serial port, with an on-board USB to UART chip. Customers do not need to purchase USB to serial debugging tools; it is extremely simple and convenient to use.</p>
<p>To install the driver, use the driver package CH343SER.EXE provided in the User Profile \Tool\ directory.</p>
</section>
<section id="serial-port-login">
<h3>2.3 Serial Port Login<a class="headerlink" href="#serial-port-login" title="Link to this heading"></a></h3>
<section id="serial-port-connection-settings">
<h4>2.3.1 Serial Port Connection Settings<a class="headerlink" href="#serial-port-connection-settings" title="Link to this heading"></a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Serial port terminal login user: login-free by default;</strong></p></li>
<li><p><strong>Serial port settings: Baud rate 115200, 8 data bits, 1 stop bit, no parity bit, no flow control;</strong></p></li>
<li><p><strong>Hardware Requirements: Type-C cable required to connect PC and development boards;</strong></p></li>
<li><p><strong>Software requirements: PC Windows system needs to install the super terminal software. Because the terminal software has many types, users can choose their familiar one.</strong></p></li>
</ul>
<p>In the following, we take the putty terminal software as an example to introduce the serial port login method:</p>
<p>Step 1: First, you need to confirm the serial port number connected to the computer. Check the serial port number in the Device Manager. The serial port with the ending “SERIAL - A” is the actual debugging serial port. In this document, the debugging serial port is COM61. The actual port number recognized by the computer shall prevail;</p>
<p><img alt="Image" src="_images/1766382044958_e582b6d5_61d4_41b3_9347_eda86eb8093d.png" /></p>
<p>Step 2: Open PuTTY and make settings. Set the “serial line” according to the actually recognized port number, and set the baud rate to 115200;</p>
<p><img alt="Image" src="_images/1766382045048_1dd66fbc_ad3b_48fa_b4a5_0ba6c9caf9bb.jpeg" /></p>
<p>Step 3: After the setting, input the COM port used by the computer in Saved Sessions. The following figure takes COM61 as an example, save the settings, open the serial port again later, and click on the saved port number.</p>
<p><img alt="Image" src="_images/1766382045160_1da2d235_3874_4fdc_a3a2_c46599d80255.png" /></p>
</section>
<section id="serial-login">
<h4>2.3.2 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading"></a></h4>
<p>After the terminal software on the PC side is set, connect the PC and the development board through the serial port cable, and power on after connecting the power supply. The startup information can be seen through the terminal software.</p>
<p>The following startup information indicates that the startup is successful, and you can enter Enter to create a new command line:</p>
<p><img alt="Image" src="_images/1766382045263_9d9b1b87_3b43_4b5e_ace2_ef55ca4f0b2b.png" /></p>
</section>
</section>
<section id="network-login">
<h3>2.4 Network Login<a class="headerlink" href="#network-login" title="Link to this heading"></a></h3>
<p>In addition to logging in via the debugging serial port, the OK1126B-S/OK1126BJ-S supports logging in to the development board via the SSH network method and also supports SFTP file transfer. The following example uses an IP address of 172.16.0.76 for the development board to illustrate the use of network tools. To modify the network IP, use the command “ifconfig eth0 172.16.0.76”. The development board and PC should be connected to the same switch or directly connected via an Ethernet cable.</p>
<section id="ssh">
<h4>2.4.1 SSH<a class="headerlink" href="#ssh" title="Link to this heading"></a></h4>
<p>The OK1126B-S/OK1126BJ-S development board supports the SSH service, which is automatically enabled at startup. After setting the IP address, it can serve as an SSH server. You can log in to the development board via SSH for development and debugging, as well as use scp for file transfer.</p>
<p>**Note: **</p>
<ul class="simple">
<li><p><strong>When logging in, enter the username “root” as prompted, and there is no password;</strong></p></li>
<li><p><strong>The following tests are conducted with the development board’s IP address set as 172.20.0.129. Please modify it according to the actual situation. Use the following commands in the debugging serial port terminal to make changes:</strong></p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ifconfig<span class="w"> </span>eth0<span class="w"> </span><span class="m">172</span>.16.0.129<span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0
</pre></div>
</div>
<p>You can log in using the “ssh” command in the Ubuntu terminal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$<span class="w"> </span>ssh<span class="w"> </span>root@172.20.0.129
The<span class="w"> </span>authenticity<span class="w"> </span>of<span class="w"> </span>host<span class="w"> </span><span class="s1">&#39;172.20.0.129 (172.20.0.129)&#39;</span><span class="w"> </span>can<span class="s1">&#39;t be established.</span>
<span class="s1">ECDSA key fingerprint is SHA256:H3l5SwCd8ghbc0Er4wKwHgLx/Yk1PNt9X9hIGwKciG0.</span>
<span class="s1">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span>
<span class="s1">Warning: Permanently added &#39;</span><span class="m">172</span>.20.0.129<span class="err">&#39;</span><span class="w"> </span><span class="o">(</span>ECDSA<span class="o">)</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>known<span class="w"> </span>hosts.
root@OK1126B-buildroot:~#
</pre></div>
</div>
<p>You can also use other terminal software that supports SSH login, such as PuTTY. The settings are as follows:</p>
<p>Open the putty software and make the following settings (the actual IP shall prevail):</p>
<p><img alt="Image" src="_images/1766382045341_54e6afbd_db82_4adc_a27e_922cc3d8cb98.png" /></p>
</section>
<section id="ftp">
<h4>2.4.2 FTP<a class="headerlink" href="#ftp" title="Link to this heading"></a></h4>
<p>OK1126B-S/OK1126BJ-S development board supports FTP service and automatically starts when powered on. Once you’ve set the IP address, it can be used as an FTP server. The following describes how to utilize the FTP tool for file transfer.</p>
<ul class="simple">
<li><p>Path: OK1126B-S/OK1126BJ-S（Linux）User’s profile\tools\FileZilla</p></li>
</ul>
<p>Install the file Zilla tool on windows and set it up as shown in the following figure.</p>
<p><strong>Note</strong>:</p>
<ul class="simple">
<li><p><strong>This feature requires connecting the development board to the network cable. Make sure the host IP setting and the client are on the same network segment, ensuring that the host and client are in the same local area netThe username is “forlinx” and the password is “forlinx”. Once logged in successfully, you can perform upload and download operations on the file system under the “/home/forlinx’ directory.”;</strong></p></li>
<li><p><strong>The following is tested with the development board IP 172.20.0.129. Please make modifications according to the actual situation. When debugging the serial port terminal, use the following command to make the changes:</strong></p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ifconfig<span class="w"> </span>eth0<span class="w"> </span><span class="m">172</span>.20.0.129<span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0
</pre></div>
</div>
<p><img alt="Image" src="_images/1766382045449_8867433f_18c2_4eb2_99bc_f6227475514d.png" /></p>
<p><img alt="Image" src="_images/1766382045535_ce0ae701_db7f_4d6d_bb2a_b1e64be374e8.png" /></p>
</section>
</section>
<section id="screen-switching">
<h3>2.5 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading"></a></h3>
<p>It supports two screen interfaces: LCD and MIPI DSI. There are two ways to control screen switching: uboot menu dynamic control and kernel device tree designation.</p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.5.1 Dynamic Control of Uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading"></a></h4>
<p>This method switches screens without recompiling and flashing in existing supported screens.</p>
<p>Press ctrl + C at the serial port terminal in the uboot self-starting process to pop up the control options:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Hit<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>autoboot<span class="o">(</span><span class="s1">&#39;CTRL+C&#39;</span><span class="o">)</span>:<span class="w">  </span><span class="m">0</span>
---------------------------------------------
<span class="m">0</span>:Exit<span class="w"> </span>to<span class="w"> </span>console
<span class="m">1</span>:Reboot
<span class="m">2</span>:Display<span class="w"> </span>type:mipi
<span class="m">3</span>:Ethernet<span class="w"> </span>type:<span class="w"> </span>rgmii_phy
<span class="m">4</span>:Change<span class="w"> </span>kernel<span class="w"> </span>loglevel<span class="o">(</span><span class="w"> </span>level<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">)</span>
---------------------------------------------
</pre></div>
</div>
<p>Two screen options: MIPI-DSI, RGB Press the option to switch whether it is enabled or not.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Terminal input:</strong></p></th>
<th class="head text-center"><p><strong>Screen selection parameters are:</strong></p></th>
<th class="head text-center"><p><strong>The corresponding meanings for the parameters:</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>0</p></td>
<td class="text-center"><p>Exit</p></td>
<td class="text-center"><p>Return to the previous menu</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>1</p></td>
<td class="text-center"><p>Reboot</p></td>
<td class="text-center"><p>Restart</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>2</p></td>
<td class="text-center"><p>Ethernet type: rgmii_phy</p></td>
<td class="text-center"><p>Switch between rgmii_phy(Gigabit PHY)/fephy(100Mbps PHY)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>3</p></td>
<td class="text-center"><p>Display type:mipi</p></td>
<td class="text-center"><p>Open MIPI-DSI/RGB screen signal output</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>4</p></td>
<td class="text-center"><p>Change kernel loglevel( level 1 )</p></td>
<td class="text-center"><p>Switch between kernel printing level 1 or 7</p></td>
</tr>
</tbody>
</table>
<p>Press the number 1 to perform the reboot operation. The screen option for the uboot phase operation takes effect after the reboot.</p>
<p>After the screen selection is completed, you can also press the reset key of the development board to restart, and it will take effect after starting.</p>
</section>
<section id="kernel-device-tree-specification">
<h4>2.5.2 Kernel Device Tree Specification<a class="headerlink" href="#kernel-device-tree-specification" title="Link to this heading"></a></h4>
<p>This method does not require the connection of a serial terminal, and the system image defaults to the desired configuration selection, which is suitable for mass production. However, we need to manually modify the device tree and regenerate the system image once again</p>
<p>Note: This method has higher priority than the uboot screen selection, and the uboot selection will not take effect after the device tree is modified.</p>
<p>Device tree path: kernel/arch/arm64/boot/dts/rockchip/OK1126B-S-common.dtsi</p>
<p>In the kernel source code, open the device dtsi file and find the following node:</p>
<p><img alt="Image" src="_images/1766382045612_5a2f5152_e084_4019_a540_97d590741056.png" /></p>
<p>The node has a default disabled state and needs to be changed to an okay enabled node. Change according to screen requirements.</p>
<p>Examples:</p>
<p>Turn on the RGB screen and change the attribute to ‘rgb’.</p>
<p><img alt="Image" src="_images/1766382045720_ebacc5d4_e15c_481a_bec4_90452b9d16d9.png" /></p>
<p>After saving, recompile to generate the image.</p>
<p>There are many types of MIPI screens, and the existing timing and control words may not meet the requirements, so it is necessary to change the display-timings under the dsi node. However, any node status attribute related to display is handled by default, and the program will automatically control it.</p>
</section>
</section>
<section id="system-shutdown">
<h3>2.6 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading"></a></h3>
<p>In general, you can turn off the power directly, but avoid doing so during important operations like data storage or usage to prevent irreversible file damage. Damaged files may require firmware rewrite. To ensure that data is not completely written, enter the sync command to complete data synchronization before turning off the power.</p>
<p><font style="color:rgb(0, 0, 0);background-color:rgb(218, 234, 252);"> Note: For products designed based on the SoM, if there are scenarios where accidental power loss causes the system to shut down unexpectedly, measures such as adding power-loss protection can be incorporated into the design.</p>
</section>
</section>
<section id="ok1126b-s-qt-function-test">
<h2>3. OK1126B-S_QT Function Test<a class="headerlink" href="#ok1126b-s-qt-function-test" title="Link to this heading"></a></h2>
<p>The OK1126B-S/OK1126BJ-S platform supports QT5.15.11 and comes with some built-in Qt applications for testing.</p>
<p>Before the test, please configure the corresponding screen through the uboot menu.</p>
<p><strong>Note: Applications that cannot pop up the on-screen keypad can be connected to a physical keyboard for input.</strong></p>
<section id="g-test">
<h3>3.1 4G Test<a class="headerlink" href="#g-test" title="Link to this heading"></a></h3>
<p>It supports 4G module (EM05). Insert the 4G module and SIM card while the power is off.</p>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382047384_be41b8c7_bd92_461b_9be7_c6e4e0e31a0b.png" /></p>
<p><img alt="Image" src="_images/1766382047485_f62db731_6135_4363_8a18_b103d9284672.jpeg" /></p>
<p>Click the start button, and the program will automatically enter the dialing process and obtain IP settings, DNS, etc.</p>
<p><img alt="Image" src="_images/1766382047622_3650689e_2f5a_4bcb_9450_e297bd3100c8.png" /></p>
<p>After successful dialing, you can use ping to test the serial port during debugging.</p>
</section>
<section id="wifi-test">
<h3>3.2 WIFI Test<a class="headerlink" href="#wifi-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382047770_177034a2_62d8_4658_b822_2ff41b5853c9.png" /></p>
<p><img alt="Image" src="_images/1766382047863_f8cd2ebc_1d87_4d45_95fd_457c16bad772.jpeg" /></p>
<p>Select wlan0, enter the router name(the one connected to wifi) in the SSID column, enter the router password in the PAWD column, click CONNECT to the router via wifi, enter a valid ip in the IP column, and then click ping to see if the currently used wifi network is smooth.</p>
<p><img alt="Image" src="_images/1766382047986_a31988c3_10a9_4846_88a7_9db76518f173.jpeg" /></p>
<p>Click ping to test the network after a successful connection.</p>
<p><img alt="Image" src="_images/1766382048135_18442e97_b827_4208_b593_0819ae76bc54.jpeg" /></p>
</section>
<section id="network-configuration-test">
<h3>3.3 Network Configuration Test<a class="headerlink" href="#network-configuration-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382048327_c2ab4068_61d1_44b1_b7ba_18ee6a16ed07.png" /></p>
<p>The DHCP mode interface is as follows:</p>
<p><img alt="Image" src="_images/1766382048417_7d9b04af_508c_4c59_b203_e21931d24817.jpeg" /></p>
<p>Check DHCP, select the NIC device needing to be configured, and click Apply and Restart Network at the bottom of the interface to restart the network and get the ip automatically.</p>
<p>The STATIC mode interface is as follows:</p>
<p><img alt="Image" src="_images/1766382048514_2b0f4a5d_0f51_44c8_808f_e770829c5bb1.jpeg" /></p>
<p>Select the NIC device to be configured in the interface, and enter the ip to be set in the ip field, enter the subnet mask in the netmask field, the gateway in the geteway field, and DNS in the dns field.</p>
<p>Note: Information such as ip set in STATIC mode is saved to the relevant configuration file of the system so each reboot will use the network information set this time; network information configured in DHCP mode, on the other hand, does not need to care about this; ip addresses are dynamically assigned every reboot.</p>
</section>
<section id="ping-test">
<h3>3.4 Ping Test<a class="headerlink" href="#ping-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382048614_d0b6e309_a184_4a3b_b046_3be345d3163f.png" /></p>
<p>Write the target IP address in the “hostname” column. Click the “ping” button, and the “result” column will display the ping outcome. Click “stop” to end the ping test, and “clear” to erase the information in the “result” column.</p>
<p><img alt="Image" src="_images/1766382048766_99ecaad0_38ed_4696_a42e_e8a8b034a453.jpeg" /></p>
</section>
<section id="watchdog-test">
<h3>3.5 Watchdog Test<a class="headerlink" href="#watchdog-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382048882_972b30db_ea47_4043_b015_46312d8544b7.png" /></p>
<p><img alt="Image" src="_images/1766382048964_b6332394_071d_43d1_a0f6_b0d88c5971aa.jpeg" /></p>
<p>Click the “start” button and check the “Feed dog” option. At this time, the watchdog function will be activated, and the program will perform the dog - feeding operation. Under normal circumstances, the system will not restart. When the “Feed dog” option is unchecked, the program will stop the dog - feeding operation. After the countdown ends, the system will restart, indicating that the watchdog function is working properly.</p>
</section>
<section id="rtc-test">
<h3>3.6 RTC Test<a class="headerlink" href="#rtc-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382049051_eb0ea5d4_ea7a_48d1_ae0c_c0fc2f75bcb1.png" /></p>
<p><img alt="Image" src="_images/1766382049116_4dce91cd_1592_46fc_88f9_58e7b7d06950.jpeg" /></p>
<p>Select the year, month, day, hour, minute, and second to set the time. After setting, click “apply” to complete the time setting.</p>
<p>With the RTC backup battery installed, power down and restart the development board to confirm that the RTC clock is set successfully.</p>
</section>
<section id="uart-test">
<h3>3.7 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading"></a></h3>
<p>This test is conducted by short circuiting the TX and RX of UART5. Please refer to section 4.2.6 for specific wiring.</p>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382049195_ccbc326b_3a20_48c0_a8d8_33710644cd8e.png" /></p>
<p><img alt="Image" src="_images/1766382049261_d632ed22_d53c_497c_8fc4_8f854f18ea0d.jpeg" /></p>
<p>Click the settings button on the right sidebar (third small gear), and set the serial port parameters as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Relevant Parameter</strong></p></th>
<th class="head text-center"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Select Serial Port</p></td>
<td class="text-center"><p>Setting the serial port (select UART5, i.e. ttyS5)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>BaudRate</p></td>
<td class="text-center"><p>Set baud rate (115200)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Data bits</p></td>
<td class="text-center"><p>Set data bits (8 bits)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Parity</p></td>
<td class="text-center"><p>Set parity bit (no parity)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Stop bits</p></td>
<td class="text-center"><p>Set stop bit (1 bit)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Flow control</p></td>
<td class="text-center"><p>Set flow control (no flow control)</p></td>
</tr>
</tbody>
</table>
<p><img alt="Image" src="_images/1766382049341_522d41ef_264a_40f5_85da_1eaa30e7ae1b.jpeg" /></p>
<p>After setting the serial port parameters, click the connection button at the top of the right sidebar (the first button). At this time, the test program can conduct data sending and receiving tests.</p>
<p>You can input in the black area. Each character you input will be displayed twice because the TX and RX are short - circuited, and the sent characters are received back.</p>
<p><img alt="Image" src="_images/1766382049644_07097b82_3404_44ca_86ff_fb8f11e8744a.jpeg" /></p>
</section>
<section id="backlight-test">
<h3>3.8 Backlight Test<a class="headerlink" href="#backlight-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382049730_169a7d68_529a_437b_bbcb_3780544e1c29.png" /></p>
<p><img alt="Image" src="_images/1766382049811_7f9b1fb0_3c51_4cf4_a261_1dd6dcdba278.jpeg" /></p>
<p>Select “Screen” to specify the screen backlight that needs to be adjusted. Drag the slider on the interface to set the backlight brightness. Level 5 is the lowest brightness, and level 200 is the highest brightness.</p>
<p>If you need to turn off the backlight, refer to section 4.2.13 “LCD backlight adjustment” and set the backlight brightness to 0.</p>
</section>
<section id="spi-test">
<h3>3.9 SPI Test<a class="headerlink" href="#spi-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382049914_7506d096_91de_4142_bf63_aa638b448169.png" /></p>
<p><img alt="Image" src="_images/1766382049998_bfc965d4_c466_4710_b225_a081eb9d7a8a.jpeg" /></p>
<p>Short - circuit the MOSI and MISO of SPI1. For specific wiring, refer to section 4.2.6. Select “SPIDEV” as “spi1” and click the “send” button. The content in the lower input box will be sent out through MOSI and received back through MISO, and will be displayed in the “Receive” box above. At this time, unplug the jumper that short - circuits MOSI and MISO and click the “send” button again. You will find that the “Receive” box receives garbled characters.</p>
<p><img alt="Image" src="_images/1766382050090_28228fb6_33e2_4d47_b919_cd2c978aafed.jpeg" /></p>
</section>
<section id="playback-test">
<h3>3.10. Playback Test<a class="headerlink" href="#playback-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382050173_18636d60_4ccc_4d1d_94fc_bdc8de99c2bd.png" /></p>
<p><img alt="Image" src="_images/1766382050252_6234c567_392a_4348_8ca8_be7045c3da17.png" /></p>
<p>Click the button with three dots in the lower - left corner, select the audio file you want to play, and then click “open”. The selected audio will start playing automatically.</p>
<p><img alt="Image" src="_images/1766382050335_cb807160_cede_4e1f_862c_f42e1a901874.png" /></p>
<p><img alt="Image" src="_images/1766382050423_190df503_745f_4af9_b1c1_be1e288faa4a.png" /></p>
</section>
<section id="video-playback-test">
<h3>3.11 Video Playback Test<a class="headerlink" href="#video-playback-test" title="Link to this heading"></a></h3>
<p>Click on the desktop icon to go to the next level menu:</p>
<p><img alt="Image" src="_images/1766382050563_6037ed34_2cec_40db_ab4b_67cc4b3ebb82.png" /></p>
<p>After opening the application, the video will play automatically.</p>
<p><img alt="Image" src="_images/1766382050668_e03835e4_7bd6_4252_8b1d_d979e43b0c6c.png" /></p>
</section>
</section>
<section id="ok1126b-s-command-line-function-test">
<h2>4. OK1126B - S Command - line Function Test<a class="headerlink" href="#ok1126b-s-command-line-function-test" title="Link to this heading"></a></h2>
<p>The OK1126B - S/OK1126BJ - S platform has a rich set of built - in command - line tools for users to use.</p>
<section id="system-information-queries">
<h3>4.1 System Information Queries<a class="headerlink" href="#system-information-queries" title="Link to this heading"></a></h3>
<p>To view kernel and CPU information:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>uname<span class="w"> </span>-a
Linux<span class="w"> </span>OK1126B-buildroot<span class="w"> </span><span class="m">6</span>.1.118<span class="w"> </span><span class="c1">#1 SMP Tue Nov  4 10:17:41 UTC 2025 aarch64 GNU/Linux</span>
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>env
<span class="nv">SHELL</span><span class="o">=</span>/bin/bash
<span class="nv">GST_V4L2_PREFERRED_FOURCC</span><span class="o">=</span>NV12:YU12:NV16:YUY2
<span class="nv">GST_VIDEO_CONVERT_PREFERRED_FORMAT</span><span class="o">=</span>NV12:NV16:I420:YUY2
<span class="nv">PLAYBIN2_PREFERRED_VIDEOSINK</span><span class="o">=</span>kmssink
<span class="nv">GST_V4L2_USE_LIBV4L2</span><span class="o">=</span><span class="m">1</span>
<span class="nv">WESTON_DRM_MIN_BUFFERS</span><span class="o">=</span><span class="m">2</span>
<span class="nv">WL_OUTPUT_VERSION</span><span class="o">=</span><span class="m">3</span>
<span class="nv">GST_INSPECT_NO_COLORS</span><span class="o">=</span><span class="m">1</span>
<span class="nv">EDITOR</span><span class="o">=</span>/bin/vi
<span class="nv">WESTON_DRM_KEEP_RATIO</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GST_DEBUG_NO_COLOR</span><span class="o">=</span><span class="m">1</span>
<span class="nv">PWD</span><span class="o">=</span>/root
<span class="nv">LOGNAME</span><span class="o">=</span>root
<span class="nv">WESTON_VNC_MIN_BUFFERS</span><span class="o">=</span><span class="m">4</span>
<span class="nv">HOME</span><span class="o">=</span>/root
<span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nv">ADB_TCP_PORT</span><span class="o">=</span><span class="m">5555</span>
<span class="nv">LS_COLORS</span><span class="o">=</span><span class="nv">rs</span><span class="o">=</span><span class="m">0</span>:di<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">34</span>:ln<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">36</span>:mh<span class="o">=</span><span class="m">00</span>:pi<span class="o">=</span><span class="m">40</span><span class="p">;</span><span class="m">33</span>:so<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:do<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:bd<span class="o">=</span><span class="m">40</span><span class="p">;</span><span class="m">33</span><span class="p">;</span><span class="m">01</span>:cd<span class="o">=</span><span class="m">40</span><span class="p">;</span><span class="m">33</span><span class="p">;</span><span class="m">01</span>:or<span class="o">=</span><span class="m">40</span><span class="p">;</span><span class="m">31</span><span class="p">;</span><span class="m">01</span>:mi<span class="o">=</span><span class="m">00</span>:su<span class="o">=</span><span class="m">37</span><span class="p">;</span><span class="m">41</span>:sg<span class="o">=</span><span class="m">30</span><span class="p">;</span><span class="m">43</span>:ca<span class="o">=</span><span class="m">00</span>:tw<span class="o">=</span><span class="m">30</span><span class="p">;</span><span class="m">42</span>:ow<span class="o">=</span><span class="m">34</span><span class="p">;</span><span class="m">42</span>:st<span class="o">=</span><span class="m">37</span><span class="p">;</span><span class="m">44</span>:ex<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">32</span>:*.tar<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tgz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.arc<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.arj<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.taz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lha<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lz4<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lzh<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lzma<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tlz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.txz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tzo<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.t7z<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.zip<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.z<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.dz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.gz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lrz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.lzo<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.xz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.zst<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tzst<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.bz2<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.bz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tbz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tbz2<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.tz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.deb<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.rpm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.jar<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.war<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.ear<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.sar<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.rar<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.alz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.ace<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.zoo<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.cpio<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.7z<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.rz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.cab<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.wim<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.swm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.dwm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.esd<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">31</span>:*.avif<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.jpg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.jpeg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mjpg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mjpeg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.gif<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.bmp<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.pbm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.pgm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.ppm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.tga<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.xbm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.xpm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.tif<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.tiff<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.png<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.svg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.svgz<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mng<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.pcx<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mov<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mpg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mpeg<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.m2v<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mkv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.webm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.webp<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.ogm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mp4<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.m4v<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.mp4v<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.vob<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.qt<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.nuv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.wmv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.asf<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.rm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.rmvb<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.flc<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.avi<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.fli<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.flv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.gl<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.dl<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.xcf<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.xwd<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.yuv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.cgm<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.emf<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.ogv<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.ogx<span class="o">=</span><span class="m">01</span><span class="p">;</span><span class="m">35</span>:*.aac<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.au<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.flac<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.m4a<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.mid<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.midi<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.mka<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.mp3<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.mpc<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.ogg<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.ra<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.wav<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.oga<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.opus<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.spx<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*.xspf<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">36</span>:*~<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*#<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.bak<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.old<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.orig<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.part<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.rej<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.swp<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.tmp<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.dpkg-dist<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.dpkg-old<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.ucf-dist<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.ucf-new<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.ucf-old<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.rpmnew<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.rpmorig<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:*.rpmsave<span class="o">=</span><span class="m">00</span><span class="p">;</span><span class="m">90</span>:
<span class="nv">WESTON_FREEZE_DISPLAY</span><span class="o">=</span>/tmp/.freeze_weston
<span class="nv">WAYLANDSINK_FORCE_DMABUF</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GST_V4L2SRC_DEFAULT_DEVICE</span><span class="o">=</span>/dev/video-camera0
<span class="nv">QT_QPA_PLATFORM</span><span class="o">=</span>wayland
<span class="nv">AUTOVIDEOSINK_PREFERRED</span><span class="o">=</span>kmssink
<span class="nv">USB_FW_VERSION</span><span class="o">=</span>0x0310
<span class="nv">TERM</span><span class="o">=</span>xterm-color
<span class="nv">USER</span><span class="o">=</span>root
<span class="nv">ADBD_SHELL</span><span class="o">=</span>/bin/bash
<span class="nv">GST_V4L2SRC_RK_DEVICES</span><span class="o">=</span>_mainpath:_selfpath:_bypass:_scale
<span class="nv">WESTON_DRM_MIRROR</span><span class="o">=</span><span class="m">1</span>
<span class="nv">SHLVL</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GST_VIDEO_FLIP_USE_RGA</span><span class="o">=</span><span class="m">1</span>
<span class="nv">USB_FUNCS</span><span class="o">=</span>adb
<span class="nv">WESTON_DISABLE_ATOMIC</span><span class="o">=</span><span class="m">1</span>
<span class="nv">USB_MANUFACTURER</span><span class="o">=</span>Rockchip
<span class="nv">USB_PRODUCT</span><span class="o">=</span>rk3xxx
<span class="nv">XDG_RUNTIME_DIR</span><span class="o">=</span>/var/run
<span class="nv">USB_VENDOR_ID</span><span class="o">=</span>0x2207
<span class="nv">GST_VIDEO_CONVERT_USE_RGA</span><span class="o">=</span><span class="m">1</span>
<span class="nv">PATH</span><span class="o">=</span>/usr/bin:/usr/sbin
<span class="nv">GST_V4L2SRC_MAX_RESOLUTION</span><span class="o">=</span>3840x2160
<span class="nv">GST_VIDEO_DECODER_QOS</span><span class="o">=</span><span class="m">0</span>
<span class="nv">_</span><span class="o">=</span>/usr/bin/env
</pre></div>
</div>
</section>
<section id="frequency-test">
<h3>4.2 Frequency Test<a class="headerlink" href="#frequency-test" title="Link to this heading"></a></h3>
<p><strong>Note: This process takes cpu0 as an example, and the actual process of cpu1, cpu2, and cpu3 will be changed at the same time.</strong></p>
<p>1. All cpufreq governor types supported in the current kernel:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
interactive<span class="w"> </span>conservative<span class="w"> </span>ondemand<span class="w"> </span>userspace<span class="w"> </span>powersave<span class="w"> </span>performance<span class="w"> </span>schedutil
</pre></div>
</div>
<p>The userspace indicates user mode, in which other users’ programs can adjust the CPU frequency.</p>
<p>2. To view the frequency gear supported by the current CPU</p>
<p>Commercial level CPU（RV1126B）：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
<span class="m">594000</span><span class="w"> </span><span class="m">816000</span><span class="w"> </span><span class="m">1008000</span><span class="w"> </span><span class="m">1200000</span><span class="w"> </span><span class="m">1296000</span><span class="w"> </span><span class="m">1416000</span><span class="w"> </span><span class="m">1512000</span><span class="w"> </span><span class="m">1608000</span>
</pre></div>
</div>
<p>Industrial grade CPU（RV1126BJ）：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
<span class="m">594000</span><span class="w"> </span><span class="m">816000</span><span class="w"> </span><span class="m">1008000</span><span class="w"> </span><span class="m">1200000</span><span class="w"> </span><span class="m">1296000</span>
</pre></div>
</div>
<p>3. Set to user mode and modify the frequency to 1296000:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>userspace<span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1296000</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>View the modified current frequency:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
<span class="m">1296000</span>
</pre></div>
</div>
</section>
<section id="temperature-test">
<h3>4.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading"></a></h3>
<p>View the temperature value:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/thermal/thermal_zone0/temp
<span class="m">41860</span>
</pre></div>
</div>
<p>The temperature value is 41°C.</p>
</section>
<section id="ddr-bandwidth-test">
<h3>4.4 DDR Bandwidth Test<a class="headerlink" href="#ddr-bandwidth-test" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>memory_bandwidth.sh<span class="w"> </span>
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>rd<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">22618</span>.09
<span class="m">0</span>.008192<span class="w"> </span><span class="m">22817</span>.50
<span class="m">0</span>.008192<span class="w"> </span><span class="m">22800</span>.99
<span class="m">0</span>.008192<span class="w"> </span><span class="m">22875</span>.47
<span class="m">0</span>.008192<span class="w"> </span><span class="m">22798</span>.30
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>rd<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10272</span>.25
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10210</span>.02
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10246</span>.21
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10302</span>.29
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10120</span>.04
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>rd<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">2717</span>.08
<span class="m">52</span>.43<span class="w"> </span><span class="m">2592</span>.28
<span class="m">52</span>.43<span class="w"> </span><span class="m">2673</span>.30
<span class="m">52</span>.43<span class="w"> </span><span class="m">2752</span>.60
<span class="m">52</span>.43<span class="w"> </span><span class="m">2744</span>.82
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>wr<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">20150</span>.45
<span class="m">0</span>.008192<span class="w"> </span><span class="m">20125</span>.47
<span class="m">0</span>.008192<span class="w"> </span><span class="m">20118</span>.17
<span class="m">0</span>.008192<span class="w"> </span><span class="m">20140</span>.09
<span class="m">0</span>.008192<span class="w"> </span><span class="m">20162</span>.06
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>wr<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10738</span>.14
<span class="m">0</span>.131072<span class="w"> </span><span class="m">11170</span>.64
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10887</span>.99
<span class="m">0</span>.131072<span class="w"> </span><span class="m">11243</span>.43
<span class="m">0</span>.131072<span class="w"> </span><span class="m">10789</span>.84
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>wr<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">2083</span>.73
<span class="m">52</span>.43<span class="w"> </span><span class="m">2116</span>.11
<span class="m">52</span>.43<span class="w"> </span><span class="m">2147</span>.58
<span class="m">52</span>.43<span class="w"> </span><span class="m">2124</span>.17
<span class="m">52</span>.43<span class="w"> </span><span class="m">2147</span>.93
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>rdwr<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">10201</span>.39
<span class="m">0</span>.008192<span class="w"> </span><span class="m">10194</span>.62
<span class="m">0</span>.008192<span class="w"> </span><span class="m">10205</span>.02
<span class="m">0</span>.008192<span class="w"> </span><span class="m">10108</span>.33
<span class="m">0</span>.008192<span class="w"> </span><span class="m">10203</span>.39
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>rdwr<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">7311</span>.63
<span class="m">0</span>.131072<span class="w"> </span><span class="m">7808</span>.02
<span class="m">0</span>.131072<span class="w"> </span><span class="m">7750</span>.06
<span class="m">0</span>.131072<span class="w"> </span><span class="m">7664</span>.32
<span class="m">0</span>.131072<span class="w"> </span><span class="m">7333</span>.03
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>rdwr<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">2120</span>.22
<span class="m">52</span>.43<span class="w"> </span><span class="m">2112</span>.36
<span class="m">52</span>.43<span class="w"> </span><span class="m">2117</span>.65
<span class="m">52</span>.43<span class="w"> </span><span class="m">2142</span>.31
<span class="m">52</span>.43<span class="w"> </span><span class="m">2142</span>.31
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>cp<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">12951</span>.42
<span class="m">0</span>.008192<span class="w"> </span><span class="m">13002</span>.95
<span class="m">0</span>.008192<span class="w"> </span><span class="m">13002</span>.08
<span class="m">0</span>.008192<span class="w"> </span><span class="m">12863</span>.30
<span class="m">0</span>.008192<span class="w"> </span><span class="m">12970</span>.17
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>cp<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4562</span>.78
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4693</span>.05
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4526</span>.98
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4435</span>.82
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4673</span>.00
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>cp<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">938</span>.37
<span class="m">52</span>.43<span class="w"> </span><span class="m">939</span>.85
<span class="m">52</span>.43<span class="w"> </span><span class="m">937</span>.79
<span class="m">52</span>.43<span class="w"> </span><span class="m">939</span>.13
<span class="m">52</span>.43<span class="w"> </span><span class="m">908</span>.83
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>frd<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">5202</span>.14
<span class="m">0</span>.008192<span class="w"> </span><span class="m">5119</span>.63
<span class="m">0</span>.008192<span class="w"> </span><span class="m">5188</span>.32
<span class="m">0</span>.008192<span class="w"> </span><span class="m">5137</span>.90
<span class="m">0</span>.008192<span class="w"> </span><span class="m">5201</span>.76
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>frd<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4501</span>.13
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4503</span>.63
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4601</span>.51
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4513</span>.14
<span class="m">0</span>.131072<span class="w"> </span><span class="m">4601</span>.11
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>frd<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">2708</span>.52
<span class="m">52</span>.43<span class="w"> </span><span class="m">2728</span>.53
<span class="m">52</span>.43<span class="w"> </span><span class="m">2731</span>.52
<span class="m">52</span>.43<span class="w"> </span><span class="m">2706</span>.84
<span class="m">52</span>.43<span class="w"> </span><span class="m">2690</span>.04
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>fwr<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">16452</span>.70
<span class="m">0</span>.008192<span class="w"> </span><span class="m">16717</span>.36
<span class="m">0</span>.008192<span class="w"> </span><span class="m">17988</span>.92
<span class="m">0</span>.008192<span class="w"> </span><span class="m">16309</span>.58
<span class="m">0</span>.008192<span class="w"> </span><span class="m">17020</span>.84
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>fwr<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">8805</span>.87
<span class="m">0</span>.131072<span class="w"> </span><span class="m">9297</span>.64
<span class="m">0</span>.131072<span class="w"> </span><span class="m">9567</span>.12
<span class="m">0</span>.131072<span class="w"> </span><span class="m">11108</span>.70
<span class="m">0</span>.131072<span class="w"> </span><span class="m">9112</span>.35
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>fwr<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">6525</span>.87
<span class="m">52</span>.43<span class="w"> </span><span class="m">6579</span>.92
<span class="m">52</span>.43<span class="w"> </span><span class="m">6393</span>.76
<span class="m">52</span>.43<span class="w"> </span><span class="m">6560</span>.98
<span class="m">52</span>.43<span class="w"> </span><span class="m">6566</span>.73
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>fcp<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">3266</span>.18
<span class="m">0</span>.008192<span class="w"> </span><span class="m">3275</span>.91
<span class="m">0</span>.008192<span class="w"> </span><span class="m">3281</span>.87
<span class="m">0</span>.008192<span class="w"> </span><span class="m">3277</span>.12
<span class="m">0</span>.008192<span class="w"> </span><span class="m">3260</span>.31
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>fcp<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">3096</span>.56
<span class="m">0</span>.131072<span class="w"> </span><span class="m">3110</span>.59
<span class="m">0</span>.131072<span class="w"> </span><span class="m">3106</span>.08
<span class="m">0</span>.131072<span class="w"> </span><span class="m">3128</span>.10
<span class="m">0</span>.131072<span class="w"> </span><span class="m">3107</span>.87
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>fcp<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">1740</span>.72
<span class="m">52</span>.43<span class="w"> </span><span class="m">1697</span>.71
<span class="m">52</span>.43<span class="w"> </span><span class="m">1738</span>.99
<span class="m">52</span>.43<span class="w"> </span><span class="m">1750</span>.37
<span class="m">52</span>.43<span class="w"> </span><span class="m">1707</span>.89
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>bzero<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">6635</span>.56
<span class="m">0</span>.008192<span class="w"> </span><span class="m">6657</span>.67
<span class="m">0</span>.008192<span class="w"> </span><span class="m">6627</span>.97
<span class="m">0</span>.008192<span class="w"> </span><span class="m">6651</span>.70
<span class="m">0</span>.008192<span class="w"> </span><span class="m">6571</span>.29
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>bzero<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6567</span>.88
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6559</span>.52
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6542</span>.97
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6323</span>.05
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6489</span>.47
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>bzero<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">6545</span>.42
<span class="m">52</span>.43<span class="w"> </span><span class="m">6555</span>.24
<span class="m">52</span>.43<span class="w"> </span><span class="m">6570</span>.85
<span class="m">52</span>.43<span class="w"> </span><span class="m">6551</span>.96
<span class="m">52</span>.43<span class="w"> </span><span class="m">6524</span>.24
L1<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>bcopy<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span><span class="c1"># process</span>
<span class="m">0</span>.008192<span class="w"> </span><span class="m">7381</span>.98
<span class="m">0</span>.008192<span class="w"> </span><span class="m">7335</span>.50
<span class="m">0</span>.008192<span class="w"> </span><span class="m">7401</span>.05
<span class="m">0</span>.008192<span class="w"> </span><span class="m">7368</span>.65
<span class="m">0</span>.008192<span class="w"> </span><span class="m">7394</span>.05
L2<span class="w"> </span>cache<span class="w"> </span>bandwidth<span class="w"> </span>bcopy<span class="w"> </span><span class="nb">test</span>
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6442</span>.06
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6306</span>.39
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6794</span>.02
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6623</span>.53
<span class="m">0</span>.131072<span class="w"> </span><span class="m">6770</span>.45
Main<span class="w"> </span>mem<span class="w"> </span>bandwidth<span class="w"> </span>bcopy<span class="w"> </span><span class="nb">test</span>
<span class="m">52</span>.43<span class="w"> </span><span class="m">1595</span>.28
<span class="m">52</span>.43<span class="w"> </span><span class="m">1600</span>.98
<span class="m">52</span>.43<span class="w"> </span><span class="m">1602</span>.59
<span class="m">52</span>.43<span class="w"> </span><span class="m">1619</span>.22
<span class="m">52</span>.43<span class="w"> </span><span class="m">1681</span>.70
</pre></div>
</div>
<p>The LPDDR4 write bandwidth of OK1126B-S/OK1126BJ-S is approximately 2100M/s, and the read bandwidth is approximately 2700M/s.</p>
</section>
<section id="serial-port-test">
<h3>4.5 Serial Port Test<a class="headerlink" href="#serial-port-test" title="Link to this heading"></a></h3>
<p>The UART of OK1126B - S/OK1126BJ - S supports odd and even parity, 8 data bits, and 1 stop bit.</p>
<p>Before conducting the UART loop - back test, please short - circuit the serial port to be tested first. On the schematic diagram of the carrier board of the OK1126B - S/OK1126BJ - S platform, there are a total of 3 serial ports marked and led out, namely UART0, UART2, and UART5. Among them, UART0 is the debugging serial port, and UART2 is the Bluetooth serial port. The serial port available to users is UART5. UART5 uses TTL level, and its corresponding device name on the development board is ttyS5. Here, taking the test of the UART5 serial port as an example, short - circuit the sending and receiving pins of UART5 according to the schematic diagram of the development board, which correspond to pins 8 and 10 of P16 respectively.</p>
<p><img alt="Image" src="_images/1766382052537_b3fd0748_d05b_47f6_b66a_a27be1378bc9.png" /></p>
<p>Turn on the test program after the short circuit is completed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_uarttest<span class="w"> </span>-d<span class="w"> </span>/dev/ttyS5
Welcome<span class="w"> </span>to<span class="w"> </span>uart<span class="w"> </span><span class="nb">test</span>
Send<span class="w"> </span><span class="nb">test</span><span class="w"> </span>data:
forlinx_uart_test.1234567890...
Read<span class="w"> </span>Test<span class="w"> </span>Data<span class="w"> </span>finished,Read:
forlinx_uart_test.1234567890...
</pre></div>
</div>
<p>If the serial port prints the above content after execution, it indicates that the serial port communication is basically normal.</p>
</section>
<section id="id1">
<h3>4.6 SPI Test<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>1 x SPI interface is led out from the carrier board. By default, it is configured as spidev in software for loop - back testing. When testing, refer to the schematic for shorting MOSI (PIN19) and MISO (PIN21), and then use the commands below to test each.</p>
<p><img alt="Image" src="_images/1766382052628_ca18f828_c09d_4dd7_b03e_54d149e28275.png" /></p>
<p>When SPI1_MOSI and SPI1_MISO are short - circuited, execute the test command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_spidev_test<span class="w"> </span>-D<span class="w"> </span>/dev/spidev1.0
spi<span class="w"> </span>mode:<span class="w"> </span><span class="m">0</span>
bits<span class="w"> </span>per<span class="w"> </span>word:<span class="w"> </span><span class="m">8</span>
max<span class="w"> </span>speed:<span class="w"> </span><span class="m">500000</span><span class="w"> </span>Hz<span class="w"> </span><span class="o">(</span><span class="m">500</span><span class="w"> </span>KHz<span class="o">)</span>

FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF
</pre></div>
</div>
<p>Short circuit the SPI1_MOSI and SPI1_MISO, then execute the test command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_spidev_test<span class="w"> </span>-D<span class="w"> </span>/dev/spidev1.0
spi<span class="w"> </span>mode:<span class="w"> </span><span class="m">0</span>
bits<span class="w"> </span>per<span class="w"> </span>word:<span class="w"> </span><span class="m">8</span>
max<span class="w"> </span>speed:<span class="w"> </span><span class="m">500000</span><span class="w"> </span>Hz<span class="w"> </span><span class="o">(</span><span class="m">500</span><span class="w"> </span>KHz<span class="o">)</span>

FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
<span class="m">40</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">95</span><span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>
DE<span class="w"> </span>AD<span class="w"> </span>BE<span class="w"> </span>EF<span class="w"> </span>BA<span class="w"> </span>AD<span class="w"> </span>
F0<span class="w"> </span>0D
</pre></div>
</div>
</section>
<section id="id2">
<h3>4.7 Watchdog Test<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>The watchdog is a commonly used function in embedded systems. The device node of the watchdog in OK1126B - S/OK1126BJ - S is /dev/watchdog0. This test provides two test procedures, and the user can choose one of them to test according to the actual situation.</p>
<ol class="arabic simple">
<li><p>Start fltest_watchdog, set the reset time to 10s, and feed the dog regularly;</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_watchdog
Watchdog<span class="w"> </span>Ticking<span class="w"> </span>Away!
</pre></div>
</div>
<p>This command turns on the watchdog and performs a feed, so the system does not reboot.</p>
<p>Note: When ctrl + C is used to end the test program, the system will reset after 10 seconds. If you do not want to reset, please input within 10 seconds after ctrl + C:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_watchdog<span class="w"> </span>-d
Watchdog<span class="w"> </span>card<span class="w"> </span>disabled.<span class="w">   </span>//Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>watchdog
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Start fltestw_watchdog, set the reset time to 10 seconds, and do not feed the dog.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_watchdog<span class="w"> </span>-e
<span class="o">[</span><span class="w">  </span><span class="m">181</span>.507014<span class="o">]</span><span class="w"> </span>watchdog:<span class="w"> </span>watchdog0:<span class="w"> </span>watchdog<span class="w"> </span>did<span class="w"> </span>not<span class="w"> </span>stop!
Watchdog<span class="w"> </span>card<span class="w"> </span>enabled.
</pre></div>
</div>
<p>This command turns on the watchdog, but does not feed the dog, and the system reboots after 10 seconds.</p>
</section>
<section id="id3">
<h3>4.8 WiFi Test<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>OK1126B - S/OK1126BJ - S supports the on - board 6221ASRC (RTL8821CS) by default, and supports both STA and AP modes.</p>
<section id="sta-mode">
<h4>4.8.1 STA Mode<a class="headerlink" href="#sta-mode" title="Link to this heading"></a></h4>
<p>Before using the wifi function, the following steps are required for configuration:</p>
<p>Step 1:</p>
<p>Assume that the SSID name of the Wifi hotspot is ChinaNet-Jvgv and the password is asdasd123</p>
<p>Enter the following command in the development board terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_wifi.sh<span class="w"> </span>-i<span class="w"> </span>wlan0<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;ChinaNet-Jvgv&quot;</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;asdasd123&quot;</span>
</pre></div>
</div>
<p>In the above command,</p>
<p>-i wlan0, the specific node corresponding to each module should be determined before use, depending on the actual situation.</p>
<p>-s The actual wifi hotspot name of the connection;</p>
<p>-p followed by the parameter Password refers to the password of the actual wifi hotspot to be connected. If the current hotspot does not have a password, the parameter after -p is NONE.</p>
<p>Step 2:</p>
<p>Check whether it can ping the external network and enter the following command in the terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>ping<span class="w"> </span>-I<span class="w"> </span>wlan0<span class="w"> </span>www.forlinx.com
PING<span class="w"> </span>www.forlinx.com<span class="w"> </span><span class="o">(</span><span class="m">220</span>.181.111.188<span class="o">)</span>:<span class="w"> </span><span class="m">56</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">5</span>.562<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">5</span>.884<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.595<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.323<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.682<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">3</span>.798<span class="w"> </span>ms
</pre></div>
</div>
<p>If you want to stop, you need to press Ctrl + C to ping, indicating that the network can be used normally at this time.</p>
</section>
<section id="ap-mode">
<h4>4.8.2 AP Mode<a class="headerlink" href="#ap-mode" title="Link to this heading"></a></h4>
<p>Before using the hotspot function, you need to connect and configure the network port to ensure that the network port can be connected to the Internet. As follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>fltest_hostap.sh
Stopping<span class="w"> </span>dnsmasq:<span class="w"> </span>FAIL
Starting<span class="w"> </span>dnsmasq:<span class="w"> </span>OK
<span class="k">done</span>!
root@OK1126B-buildroot:/#<span class="w"> </span>rfkill:<span class="w"> </span>Cannot<span class="w"> </span>open<span class="w"> </span>RFKILL<span class="w"> </span>control<span class="w"> </span>device
wlan0:<span class="w"> </span>interface<span class="w"> </span>state<span class="w"> </span>UNINITIALIZED-&gt;ENABLED
wlan0:<span class="w"> </span>AP-ENABLED
</pre></div>
</div>
<p>WiFi Hotspot Name: OK1126B_WIFI_2.4G_AP</p>
<p>Password: 12345678</p>
<p>At this time, the mobile phone can connect to this hotspot and connect to the Internet.</p>
</section>
</section>
<section id="bluetooth-test">
<h3>4.9 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading"></a></h3>
<p>The 6221ASRC (RTL8821CS) on the carrier board integrates the Bluetooth function. This section demonstrates file transfer between a mobile phone and the development board via Bluetooth.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>bluetoothctl<span class="w">								</span>//Open<span class="w"> </span>the<span class="w"> </span>bluez<span class="w"> </span>Bluetooth<span class="w"> </span>tool
hci0<span class="w"> </span>new_settings:<span class="w"> </span>powered<span class="w"> </span>bondable<span class="w"> </span>ssp<span class="w"> </span>br/edr<span class="w"> </span>le<span class="w"> </span>secure-conn<span class="w"> </span>
Agent<span class="w"> </span>registered
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">78</span>:BE:81:20:30:65<span class="w"> </span>Pairable:<span class="w"> </span>yes
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># power on										//Start the Bluetooth device</span>
Changing<span class="w"> </span>power<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># pairable on									//Set to pairing mode</span>
Changing<span class="w"> </span>pairable<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># agent on										//Start the agent</span>
Agent<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>registered
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># default-agent									//Set the current agent as the default</span>
Default<span class="w"> </span>agent<span class="w"> </span>request<span class="w"> </span>successful
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># discoverable on								//Set to discoverable mode</span>
hci0<span class="w"> </span>new_settings:<span class="w"> </span>powered<span class="w"> </span>connectable<span class="w"> </span>bondable<span class="w"> </span>ssp<span class="w"> </span>br/edr<span class="w"> </span>le<span class="w"> </span>secure-conn<span class="w"> </span>
hci0<span class="w"> </span>new_settings:<span class="w"> </span>powered<span class="w"> </span>connectable<span class="w"> </span>discoverable<span class="w"> </span>bondable<span class="w"> </span>ssp<span class="w"> </span>br/edr<span class="w"> </span>le<span class="w"> </span>secure-conn<span class="w"> </span>
Changing<span class="w"> </span>discoverable<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">78</span>:BE:81:20:30:65<span class="w"> </span>Discoverable:<span class="w"> </span>yes
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>OPPO<span class="w"> </span>Reno3<span class="w"> </span>元气版<span class="w"> </span>5G
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Modalias:<span class="w"> </span>bluetooth:v001Dp1200d1436
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001105</span>-0000-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110a-0000-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110c-0000-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110e-0000-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001112</span>-0000-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001115</span>-0000-1000-8000-00805f9b34fb
E:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000111f-0000-1000-8000-00805f9b34fbb34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUI-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78-1000-8000-00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:700-1000-8000-00805f9b34fb
<span class="o">[</span>OPPO<span class="w"> </span>Reno3<span class="w"> </span>元气版<span class="w"> </span>5G<span class="o">]</span><span class="c1">#vice C4:FE:5B:17:C7:78 UUIDs: 0000aa15-0000-1000-8000-008[CHG] Device C4:FE:5B:17:C7:95c-9f4f-bb80a90cdf00</span>
ice<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>ServicesResolved:<span class="w"> </span>yes
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Paired:<span class="w"> </span>yes
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">36</span>:DC:25:54:7C:CB<span class="w"> </span>Discoverable:<span class="w"> </span>no
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>ServicesResolved:<span class="w"> </span>no
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Connected:<span class="w"> </span>no
After<span class="w"> </span>successful<span class="w"> </span>pairing,<span class="w"> </span>the<span class="w"> </span>files<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>mobile<span class="w"> </span>phone<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>shared<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board<span class="w"> </span>through<span class="w"> </span>Bluetooth.
</pre></div>
</div>
<p>Type quit to exit bluetoothctl. The received file is located in the/root directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># quit</span>
root@OK1126B-buildroot:/#<span class="w">  </span>ls<span class="w"> </span>/root/
wx_camera_1581992646090.jpg
At<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>time,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>send<span class="w"> </span>the<span class="w"> </span>files<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>mobile<span class="w"> </span>phone.
root@OK1126B-buildroot:/#<span class="w"> </span>fltest_obexctl.sh
<span class="o">[</span>obex<span class="o">]</span><span class="c1"># connect C4:FE:5B:17:C7:78</span>
Attempting<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>C4:FE:5B:17:C7:78
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Session<span class="w"> </span>/org/bluez/obex/client/session0<span class="w"> </span><span class="o">[</span>default<span class="o">]</span>
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>ObjectPush<span class="w"> </span>/org/bluez/obex/client/session0
Connection<span class="w"> </span>successful
<span class="o">[</span>C4:FE:5B:17:C7:78<span class="o">]</span><span class="c1"># send /home/forlinx/audio/test.mp3</span>
Attempting<span class="w"> </span>to<span class="w"> </span>send<span class="w"> </span>/home/forlinx/audio/test.mp3<span class="w"> </span>to<span class="w"> </span>/org/bluez/obex/client/session0
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0
Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0
<span class="w">        </span>Status:<span class="w"> </span>queued
<span class="w">        </span>Name:<span class="w"> </span>test.mp3
<span class="w">        </span>Size:<span class="w"> </span><span class="m">4818092</span>
<span class="w">        </span>Filename:<span class="w"> </span>/home/forlinx/audio/test.mp3
<span class="w">        </span>Session:<span class="w"> </span>/org/bluez/obex/client/session0
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0<span class="w"> </span>Status:<span class="w"> </span>active
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0<span class="w"> </span>Transferred:<span class="w"> </span><span class="m">8046</span><span class="w"> </span><span class="o">(</span>@8KB/s<span class="w"> </span><span class="m">09</span>:57<span class="o">)</span>
</pre></div>
</div>
<p><strong>Note: The files received by some manufacturers’ mobile phones must have suffixes, otherwise they will be rejected by the Android system. Therefore, when testing, please try to use files with suffix names for testing.</strong></p>
</section>
<section id="rtc-function-test">
<h3>4.10 RTC Function Test<a class="headerlink" href="#rtc-function-test" title="Link to this heading"></a></h3>
<p>RTC testing is mainly done by using the date and hwclock tools to set the software and hardware time. The test checks if the software clock can read and synchronize with the RTC clock when the development board is powered off and on again (Note: Make sure that the button battery is already installed on the board).</p>
<p><img alt="Image" src="_images/1766382052710_5b00b5cf_4a6e_4759_af6e_d297973ce3c5.png" /></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>date<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;2022-2-9 10:50:00&quot;</span><span class="w">		</span>//Set<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:50:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span><span class="w"> </span>
root@OK1126B-buildroot:/#<span class="w"> </span>date<span class="w">							    </span>//Read<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:51:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span><span class="w"> </span>
root@OK1126B-buildroot:/#<span class="w"> </span>hwclock<span class="w"> </span>-w<span class="w"> </span>-u<span class="w">				        </span>//Write<span class="w"> </span>system<span class="w"> </span>time,<span class="w"> </span>calculate<span class="w"> </span><span class="nb">time</span><span class="w"> </span>zone,<span class="w"> </span>to<span class="w"> </span>RTC
root@OK1126B-buildroot:/#<span class="w"> </span>hwclock<span class="w"> </span>-r<span class="w">					    </span>//View<span class="w"> </span>the<span class="w"> </span>hardware<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">02</span>:50:14<span class="w"> </span><span class="m">2022</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>seconds<span class="w"> </span>
//Restart<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board,<span class="w"> </span><span class="nb">read</span><span class="w"> </span>the<span class="w"> </span>system<span class="w"> </span><span class="nb">time</span><span class="w"> </span>after<span class="w"> </span>entering<span class="w"> </span>the<span class="w"> </span>system,<span class="w"> </span>check<span class="w"> </span>whether<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span><span class="nb">set</span><span class="w"> </span>time,<span class="w"> </span>pay<span class="w"> </span>attention<span class="w"> </span>not<span class="w"> </span>to<span class="w"> </span>access<span class="w"> </span>the<span class="w"> </span>external<span class="w"> </span>network,<span class="w"> </span>otherwise<span class="w"> </span>it<span class="w"> </span>will<span class="w"> </span>automatically<span class="w"> </span>time.
root@OK1126B-buildroot:/#<span class="w"> </span>date
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:52:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span>
</pre></div>
</div>
</section>
<section id="usb-2-0-usb3-0">
<h3>4.11 USB 2.0/USB3.0<a class="headerlink" href="#usb-2-0-usb3-0" title="Link to this heading"></a></h3>
<p>OK1126B - S/OK1126BJ - S supports one USB2.0 and one USB3.0 interface. You can connect USB devices to any of the on - board USB HOST interfaces, and hot - plugging is supported. It also includes a TYPE - C interface. In Device mode, it can be used for flashing the system. When the power is off, set the S2 DIP switch to OFF. When connecting the OK1126B - S/OK1126BJ - S to a PC using a Type - C cable, it is configured in Device mode; when the power is off, set the S2 DIP switch to ON, it is configured in Host mode, and devices such as USB flash drives can be inserted into the USB3.0 interface.</p>
<p>The USB3.0 and OTG are multiplexed and can be switched using the DIP switch. When using the USB3.0 interface, please make sure the DIP switch is in the ON position. Here, the example of mounting a USB flash drive is used for demonstration.</p>
<p><img alt="Image" src="_images/1766382052851_13442951_a739_4f64_a439_a090073d4cae.png" /></p>
<p>The lower USB3.0 and OTG are multiplexed and can be switched using the DIP switch. When using the USB3.0 interface, please make sure the DIP switch is in the ON position.</p>
<p>The terminal prints information about the USB flash drive, and since many types of USB flash drives exist, the information displayed may vary:</p>
<p>Step 1: After the development board has started, connect the USB flash drive to the USB host interface on the development board.</p>
<p>Serial port information (Since the default kernel print level is 1, these prints will not actually be displayed. You need to use dmesg to view them):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="m">12775</span>.292820<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>new<span class="w"> </span>high-speed<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">3</span><span class="w"> </span>using<span class="w"> </span>ehci-platform
<span class="o">[</span><span class="m">12775</span>.453656<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>found,<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span><span class="m">0781</span>,<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span><span class="m">5567</span>,<span class="w"> </span><span class="nv">bcdDevice</span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.00
<span class="o">[</span><span class="m">12775</span>.453669<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>strings:<span class="w"> </span><span class="nv">Mfr</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">Product</span><span class="o">=</span><span class="m">2</span>,<span class="w"> </span><span class="nv">SerialNumber</span><span class="o">=</span><span class="m">3</span>
<span class="o">[</span><span class="m">12775</span>.453676<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>Product:<span class="w"> </span>Cruzer<span class="w"> </span>Blade
<span class="o">[</span><span class="m">12775</span>.453682<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>Manufacturer:<span class="w"> </span>SanDisk
<span class="o">[</span><span class="m">12775</span>.453687<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">1</span>-1:<span class="w"> </span>SerialNumber:<span class="w"> </span><span class="m">03000310123123023701</span>
<span class="o">[</span><span class="m">12775</span>.454149<span class="o">]</span><span class="w"> </span>usb-storage<span class="w"> </span><span class="m">1</span>-1:1.0:<span class="w"> </span>USB<span class="w"> </span>Mass<span class="w"> </span>Storage<span class="w"> </span>device<span class="w"> </span>detected
<span class="o">[</span><span class="m">12775</span>.454487<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span>host0:<span class="w"> </span>usb-storage<span class="w"> </span><span class="m">1</span>-1:1.0
<span class="o">[</span><span class="m">12776</span>.457856<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span>Direct-Access<span class="w">     </span>SanDisk<span class="w">  </span>Cruzer<span class="w"> </span>Blade<span class="w">     </span><span class="m">1</span>.00<span class="w"> </span>PQ:<span class="w"> </span><span class="m">0</span><span class="w"> </span>ANSI:<span class="w"> </span><span class="m">6</span>
<span class="o">[</span><span class="m">12776</span>.476175<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span><span class="m">60125184</span><span class="w"> </span><span class="m">512</span>-byte<span class="w"> </span>logical<span class="w"> </span>blocks:<span class="w"> </span><span class="o">(</span><span class="m">30</span>.8<span class="w"> </span>GB/28.7<span class="w"> </span>GiB<span class="o">)</span>
<span class="o">[</span><span class="m">12776</span>.477712<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Write<span class="w"> </span>Protect<span class="w"> </span>is<span class="w"> </span>off
<span class="o">[</span><span class="m">12776</span>.478837<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Write<span class="w"> </span>cache:<span class="w"> </span>disabled,<span class="w"> </span><span class="nb">read</span><span class="w"> </span>cache:<span class="w"> </span>enabled,<span class="w"> </span>doesn<span class="err">&#39;</span>t<span class="w"> </span>support<span class="w"> </span>DPO<span class="w"> </span>or<span class="w"> </span>FUA
<span class="o">[</span><span class="m">12776</span>.502348<span class="o">]</span><span class="w">  </span>sda:<span class="w"> </span>sda1
<span class="o">[</span><span class="m">12776</span>.502772<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Attached<span class="w"> </span>SCSI<span class="w"> </span>removable<span class="w"> </span>disk
<span class="o">[</span><span class="m">12777</span>.398167<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>utf8<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>a<span class="w"> </span>recommended<span class="w"> </span>IO<span class="w"> </span>charset<span class="w"> </span><span class="k">for</span><span class="w"> </span>FAT<span class="w"> </span>filesystems,<span class="w"> </span>filesystem<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span><span class="k">case</span><span class="w"> </span>sensitive!
<span class="o">[</span><span class="m">12777</span>.428876<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>Volume<span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>properly<span class="w"> </span>unmounted.<span class="w"> </span>Some<span class="w"> </span>data<span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>corrupt.<span class="w"> </span>Please<span class="w"> </span>run<span class="w"> </span>fsck.
</pre></div>
</div>
<p>Step 2: View the mount directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>ls<span class="w"> </span>/run/media/
</pre></div>
</div>
<p>Step 3: View the contents of the USB flash disk:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/run/media/sda1/
drwxrwx---<span class="w"> </span><span class="m">3</span><span class="w"> </span>root<span class="w"> </span>disk<span class="w">      </span><span class="m">8192</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">2021</span><span class="w">  </span>Music
</pre></div>
</div>
<p>Before reading and writing, you need to pay attention to the frequency of the CPU.</p>
<p>Write test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/run/media/sda1/test.bin<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fsync<span class="w"> </span><span class="nv">oflag</span><span class="o">=</span>direct
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">104857600</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">105</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">100</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">9</span>.9486<span class="w"> </span>s,<span class="w"> </span><span class="m">10</span>.5<span class="w"> </span>MB/s
//The<span class="w"> </span>write<span class="w"> </span>speed<span class="w"> </span>is<span class="w"> </span>limited<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>specific<span class="w"> </span>storage<span class="w"> </span>device.
</pre></div>
</div>
<p>Read test：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/run/media/sda1/test.bin<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">iflag</span><span class="o">=</span>direct
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">104857600</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">105</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">100</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">3</span>.38621<span class="w"> </span>s,<span class="w"> </span><span class="m">31</span>.0<span class="w"> </span>MB/s
</pre></div>
</div>
</section>
<section id="screen-backlight-adjustment">
<h3>4.12 Screen Backlight Adjustment<a class="headerlink" href="#screen-backlight-adjustment" title="Link to this heading"></a></h3>
<p>Backlight level range (0–255), maximum level 255, 0 indicating turn off. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<ol class="arabic simple">
<li><p><strong>View the current screen backlight values:</strong></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/backlight/backlight-dsi/brightness<span class="w">		</span>//View<span class="w"> </span>MIPI-DSI<span class="w"> </span>Screen<span class="w"> </span>backlight<span class="w"> </span>values
<span class="m">200</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/backlight/backlight-lcd/brightness<span class="w">		</span>//View<span class="w"> </span>RGB<span class="w"> </span>screen<span class="w"> </span>backlight<span class="w"> </span>values
<span class="m">200</span>
</pre></div>
</div>
<p><strong>2. Backlight is off:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/backlight/backlight-dsi/brightness<span class="w">      	</span>//Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>MIPI-DSI<span class="w"> </span>screen<span class="w"> </span>backlight
root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/backlight/backlight-lcd/brightness<span class="w">       </span>//Turn<span class="w"> </span>off<span class="w"> </span>RGB<span class="w"> </span>screen<span class="w"> </span>backlight
</pre></div>
</div>
<p><strong>3. LCD backlight is on:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">255</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/backlight/backlight-dsi/brightness<span class="w">       </span>//Turn<span class="w"> </span>on<span class="w"> </span>LVDS<span class="w"> </span>backlight
root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">255</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/backlight/backlight-lcd/brightness<span class="w">       </span>//Turn<span class="w"> </span>on<span class="w"> </span>dsi<span class="w"> </span>backlight
</pre></div>
</div>
</section>
<section id="tf-test">
<h3>4.13 TF Test<a class="headerlink" href="#tf-test" title="Link to this heading"></a></h3>
<p>Insert the TF card into the slot on the carrier board. Under normal circumstances, the following print information will appear on the terminal of the development board (You need to set the log level to 7 in the Uboot menu to see it):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="m">13658</span>.430039<span class="o">]</span><span class="w"> </span>mmc_host<span class="w"> </span>mmc1:<span class="w"> </span>Bus<span class="w"> </span>speed<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>198000000Hz<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span>req<span class="w"> </span>200000000Hz,<span class="w"> </span>actual<span class="w"> </span>198000000HZ<span class="w"> </span><span class="nv">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span><span class="m">13658</span>.440111<span class="o">]</span><span class="w"> </span>dwmmc_rockchip<span class="w"> </span>21d60000.mmc:<span class="w"> </span>Successfully<span class="w"> </span>tuned<span class="w"> </span>phase<span class="w"> </span>to<span class="w"> </span><span class="m">135</span>
<span class="o">[</span><span class="m">13658</span>.440129<span class="o">]</span><span class="w"> </span>mmc1:<span class="w"> </span>new<span class="w"> </span>ultra<span class="w"> </span>high<span class="w"> </span>speed<span class="w"> </span>SDR104<span class="w"> </span>SDHC<span class="w"> </span>card<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>aaaa
<span class="o">[</span><span class="m">13658</span>.441331<span class="o">]</span><span class="w"> </span>mmcblk1:<span class="w"> </span>mmc1:aaaa<span class="w"> </span>SA16G<span class="w"> </span><span class="m">14</span>.8<span class="w"> </span>GiB<span class="w"> </span>
<span class="o">[</span><span class="m">13658</span>.444704<span class="o">]</span><span class="w">  </span>mmcblk1:<span class="w"> </span>p1
<span class="o">[</span><span class="m">13658</span>.558032<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>mmcblk1p1<span class="o">)</span>:<span class="w"> </span>utf8<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>a<span class="w"> </span>recommended<span class="w"> </span>IO<span class="w"> </span>charset<span class="w"> </span><span class="k">for</span><span class="w"> </span>FAT<span class="w"> </span>filesystems,<span class="w"> </span>filesystem<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span><span class="k">case</span><span class="w"> </span>sensitive!
<span class="o">[</span><span class="m">13658</span>.562004<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>mmcblk1p1<span class="o">)</span>:<span class="w"> </span>Volume<span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>properly<span class="w"> </span>unmounted.<span class="w"> </span>Some<span class="w"> </span>data<span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>corrupt.<span class="w"> </span>Please<span class="w"> </span>run<span class="w"> </span>fsck.
</pre></div>
</div>
<p>By default, the TF card is mounted to the file system/run/media/mmcblk1p1/directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>mount<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>mmcblk1<span class="w">             </span>//View<span class="w"> </span>the<span class="w"> </span>mount<span class="w"> </span>directory
/dev/mmcblk1p1<span class="w"> </span>on<span class="w"> </span>/run/media/mmcblk1p1<span class="w"> </span><span class="nb">type</span><span class="w"> </span>vfat<span class="w"> </span><span class="o">(</span>rw,relatime,fmask<span class="o">=</span><span class="m">0022</span>,dmask<span class="o">=</span><span class="m">0022</span>,codepage<span class="o">=</span><span class="m">936</span>,iocharset<span class="o">=</span>utf8,shortname<span class="o">=</span>mixed,errors<span class="o">=</span>remount-ro<span class="o">)</span>
</pre></div>
</div>
<p>Write test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/run/media/mmcblk1p1/test.bin<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="nv">oflag</span><span class="o">=</span>direct
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">104857600</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">105</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">100</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">2</span>.67567<span class="w"> </span>s,<span class="w"> </span><span class="m">39</span>.2<span class="w"> </span>MB/s
</pre></div>
</div>
<p>Read test:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/run/media/mmcblk1p1/test.bin<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">iflag</span><span class="o">=</span>direct
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">100</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">104857600</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">105</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">100</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">1</span>.17493<span class="w"> </span>s,<span class="w"> </span><span class="m">89</span>.2<span class="w"> </span>MB/s
</pre></div>
</div>
</section>
<section id="emmc-test">
<h3>4.14 EMMC Test<a class="headerlink" href="#emmc-test" title="Link to this heading"></a></h3>
<p>The OK1126B-S/OK1126BJ-S platform eMMC runs in HS400 mode 200MHz clock by default. The following is a simple eMMC read/write speed test: taking the read/write ext4 file system as an example.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/test<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">500</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fsync<span class="w"> </span><span class="nv">oflag</span><span class="o">=</span>direct<span class="w">	</span>//Write<span class="w"> </span><span class="nb">test</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">3</span>.22593<span class="w"> </span>s,<span class="w"> </span><span class="m">163</span><span class="w"> </span>MB/s
root@OK1126B-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/test<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">iflag</span><span class="o">=</span>direct<span class="w"> </span>//Read<span class="w"> </span><span class="nb">test</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">3</span>.02095<span class="w"> </span>s,<span class="w"> </span><span class="m">174</span><span class="w"> </span>MB/s
</pre></div>
</div>
</section>
<section id="ethernet-configuration">
<h3>4.15 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading"></a></h3>
<p>The OK1126B-S/OK1126BJ-S board is equipped with 1 x Gigabit and 1 x Fast Ethernet network card. Due to the main controller having only one Ethernet controller, only one card can be used at a time. The Gigabit card is the factory default. Switch between the two via the U - Boot menu; see Section 2.5.1 for steps.</p>
<section id="ip-fix-method">
<h4>4.15.1 IP Fix Method<a class="headerlink" href="#ip-fix-method" title="Link to this heading"></a></h4>
<p>Note: This method fixes network IP. After use, network card gets normal IP. If ping fails, check multiple network cards in same Linux segment. Adjust routing or use distinct segments.</p>
<p>Development board IP: 192.168.0.232</p>
<p>Router IP: 192.168.0.1</p>
<p>Subnet mask: 255.255.255.0</p>
<p>Power up the development board and execute the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>vi<span class="w"> </span>/etc/systemd/network/10-eth0.network<span class="w">   </span>//Open<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>file
<span class="o">[</span>Match<span class="o">]</span>
<span class="nv">Name</span><span class="o">=</span>eth0<span class="w">											</span>//<span class="w"> </span>Specify<span class="w"> </span>the<span class="w"> </span>network<span class="w"> </span>card<span class="w"> </span><span class="k">for</span><span class="w"> </span>which<span class="w"> </span>a<span class="w"> </span>fixed<span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span>is<span class="w"> </span>required
<span class="nv">KernelCommandLine</span><span class="o">=</span>!root<span class="o">=</span>/dev/nfs
<span class="o">[</span>Network<span class="o">]</span>
<span class="nv">Address</span><span class="o">=</span><span class="m">192</span>.168.0.232/24<span class="w">							</span>//Specify<span class="w"> </span>the<span class="w"> </span>fixed<span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span>and<span class="w"> </span>subnet<span class="w"> </span>mask
<span class="nv">Gateway</span><span class="o">=</span><span class="m">192</span>.168.0.1<span class="w">									</span>//Specify<span class="w"> </span>the<span class="w"> </span>gateway
<span class="nv">DNS</span><span class="o">=</span><span class="m">114</span>.114.114.114<span class="w">									</span>//Specify<span class="w"> </span>the<span class="w"> </span>DNS<span class="w"> </span>server

//After<span class="w"> </span>saving<span class="w"> </span>and<span class="w"> </span>exiting,<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>board<span class="w"> </span>or<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>configuration:
root@OK1126B-buildroot:/#<span class="w"> </span>ifdown<span class="w"> </span>-a<span class="w">							</span>//Stop<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>configuration
root@OK1126B-buildroot:/#<span class="w"> </span>ifup<span class="w"> </span>-a<span class="w">							</span>//Enable<span class="w"> </span>the<span class="w"> </span>configuration
</pre></div>
</div>
</section>
<section id="automatic-ip-acquisition-method">
<h4>4.15.2 Automatic IP Acquisition Method<a class="headerlink" href="#automatic-ip-acquisition-method" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>vi<span class="w"> </span>/etc/systemd/network/10-eth0.network<span class="w">   	</span>//Open<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>file
<span class="o">[</span>Match<span class="o">]</span>
<span class="nv">Name</span><span class="o">=</span>eth0
<span class="nv">KernelCommandLine</span><span class="o">=</span>!root<span class="o">=</span>/dev/nfs
<span class="o">[</span>Network<span class="o">]</span>
<span class="nv">DHCP</span><span class="o">=</span>yes

//After<span class="w"> </span>saving<span class="w"> </span>and<span class="w"> </span>exiting,<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>board<span class="w"> </span>or<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>configuration
root@OK1126B-buildroot:/#<span class="w"> </span>ifdown<span class="w"> </span>-a<span class="w">						</span>//Stop<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>configuration
root@OK1126B-buildroot:/#<span class="w"> </span>ifup<span class="w"> </span>-a<span class="w">							</span>//Enable<span class="w"> </span>the<span class="w"> </span>configuration
</pre></div>
</div>
</section>
</section>
<section id="play-record-test">
<h3>4.16 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading"></a></h3>
<p>There is a white XH2.54-2P socket on the development board, labeled as P12, which can drive an 8Ω speaker with a maximum output power of 1.3W. Before conducting a sound playback test, please insert the speaker into the corresponding slot on the carrier board and use the following commands for testing:</p>
<p><img alt="Image" src="_images/1766382052979_14b254a0_7e70_4c48_b12b_137de5e14cf5.png" /></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-play-1.0<span class="w"> </span>/userdata/piano2-CoolEdit.mp3
//Speaker<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span><span class="nb">test</span>
Press<span class="w"> </span><span class="s1">&#39;k&#39;</span><span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>keyboard<span class="w"> </span>shortcuts.
Now<span class="w"> </span>playing<span class="w"> </span>/userdata/piano2-CoolEdit.mp3
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
<span class="m">0</span>:00:06.3<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:00:06.3<span class="w">       </span>
Reached<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>play<span class="w"> </span>list.
root@OK1126B-buildroot:/#<span class="w"> </span>arecord<span class="w"> </span>-c<span class="w"> </span><span class="m">2</span><span class="w"> </span>-r<span class="w"> </span><span class="m">44100</span><span class="w"> </span>-f<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>mic.wav
//Recording<span class="w"> </span>test,<span class="w"> </span>ctrl<span class="w"> </span>+<span class="w"> </span>C<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>recording。
Recording<span class="w"> </span>WAVE<span class="w"> </span><span class="s1">&#39;mic.wav&#39;</span><span class="w"> </span>:<span class="w"> </span>Signed<span class="w"> </span><span class="m">16</span><span class="w"> </span>bit<span class="w"> </span>Little<span class="w"> </span>Endian,<span class="w"> </span>Rate<span class="w"> </span><span class="m">44100</span><span class="w"> </span>Hz,<span class="w"> </span>Stereo
Aborted<span class="w"> </span>by<span class="w"> </span>signal<span class="w"> </span>Interrupt...
root@OK1126B-buildroot:/#<span class="w"> </span>ls<span class="w">						</span>//The<span class="w"> </span>generated<span class="w"> </span>recording<span class="w"> </span>file<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>seen<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>directory.
bin<span class="w">		  </span>data<span class="w">	</span>etc<span class="w">   </span>klogd.pid<span class="w">  </span>lib64<span class="w">	  </span>lost+found<span class="w">  </span>mic.wav<span class="w">  </span>oem<span class="w">  </span>proc<span class="w">	   </span>root<span class="w">  </span>sbin<span class="w">  </span>syslogd.pid<span class="w">  </span>target<span class="w">  </span>tmp<span class="w">       </span>usr<span class="w">  </span>vendor
busybox.fragment<span class="w">  </span>dev<span class="w">	</span>info<span class="w">  </span>lib<span class="w">	 </span>linuxrc<span class="w">  </span>media<span class="w">       </span>mnt<span class="w">      </span>opt<span class="w">  </span>rockchip-test<span class="w">  </span>run<span class="w">	 </span>sys<span class="w">   </span>system<span class="w">	    </span><span class="nb">test</span><span class="w">    </span>userdata<span class="w">  </span>var
</pre></div>
</div>
</section>
<section id="sleep-wake-up-test">
<h3>4.17 Sleep &amp; Wake-up Test<a class="headerlink" href="#sleep-wake-up-test" title="Link to this heading"></a></h3>
<p>OK1126B-S/OK1126BJ-S Linux platform supports sleep wakeup.</p>
<p>Press the power button （PWRON）for a short time to enter hibernation, and the printed information is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>INFO:<span class="w">    </span>BL31:<span class="w"> </span>v2.12<span class="o">(</span>release<span class="o">)</span>:v2.12.0-54-g46bfa4121:derrick.huang,<span class="w"> </span>fwver:<span class="w"> </span>v1.07
INFO:<span class="w">    </span><span class="nv">cfg</span><span class="o">=</span>0x1000608,<span class="w"> </span>sleeptimes:1
INFO:<span class="w">    </span>logoff
INFO:<span class="w">    </span>pmualive_32k
INFO:<span class="w">    </span>dis_osc
INFO:<span class="w">    </span>32k<span class="w"> </span>ext
INFO:<span class="w">    </span>sleep_pin:<span class="w"> </span>0x5<span class="w"> </span>0x1
INFO:<span class="w">    </span>io_0:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_2:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_3:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-0,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_4:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_5:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-1,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_6:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_7:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-1,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_8:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_9:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_10:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_11:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_12:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_20:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_21:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_22:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_23:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_24:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>io_25:<span class="w"> </span>iomux-0,<span class="w"> </span>pull-2,<span class="w"> </span>dir-0,<span class="w"> </span>lvl-0
INFO:<span class="w">    </span>idle,pd<span class="o">(</span>0x500,0x5<span class="o">)</span>
INFO:<span class="w">    </span>GPIO0:<span class="w"> </span>0xffff<span class="w"> </span>0xffff<span class="w"> </span>0xffff<span class="w"> </span>0xfffe<span class="w"> </span>0x0<span class="w"> </span>0xfed0e824
INFO:<span class="w">    </span>IRQ_EN:<span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="m">56</span><span class="w"> </span><span class="m">52</span><span class="w"> </span><span class="m">48</span><span class="w"> </span><span class="m">44</span><span class="w"> </span><span class="m">40</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">88</span><span class="w"> </span><span class="m">74</span><span class="w"> </span><span class="m">72</span><span class="w"> </span><span class="m">99</span><span class="w"> </span><span class="m">97</span><span class="w"> </span><span class="m">260</span>
INFO:<span class="w">    </span>IRQ_PED:
012abcde34567
INFO:<span class="w">    </span>PMU0_PWR<span class="o">(</span>0x0<span class="o">)</span>
PMU1_PWR<span class="o">(</span>0x2201<span class="o">)</span><span class="w"> </span>PMU1_WAKEUP_INT<span class="o">(</span>0x10<span class="o">)</span>
PMU2_BUS_IDLE_ST<span class="o">(</span>0x700<span class="o">)</span><span class="w"> </span>PMU2_PWR_GT_ST<span class="o">(</span>0x7<span class="o">)</span>
PMU2_BUS_IDLE<span class="o">(</span>0x8a0<span class="o">)</span><span class="w"> </span>PMU2_PWR_GT<span class="o">(</span>0x0<span class="o">)</span>
PMU1_CRU_PWR<span class="o">(</span>0x1ef<span class="w"> </span>0x1fe<span class="o">)</span>
PMU1_DDR_PWR<span class="o">(</span>0x6b<span class="w"> </span>0x0<span class="o">)</span>
PMU1_PLLPD<span class="o">(</span>0xf<span class="o">)</span>
a
Short<span class="w"> </span>press<span class="w"> </span>the<span class="w"> </span>power<span class="w"> </span>button<span class="w"> </span>to<span class="w"> </span>wake<span class="w"> </span>up
</pre></div>
</div>
</section>
<section id="npu-test">
<h3>4.18 NPU Test<a class="headerlink" href="#npu-test" title="Link to this heading"></a></h3>
<p>OK1126B-S/OK1126BJ-S platform supports NPU, which can be tested with the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>rknn_common_test<span class="w">  </span>/usr/share/model/RV1126B/mobilenet_v1.rknn<span class="w"> </span>/usr/share/model/cat_224x224.jpg<span class="w"> </span>
rknn_api/rknnrt<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>.3.2<span class="w"> </span><span class="o">(</span>429f97ae6b@2025-04-09T09:09:27<span class="o">)</span>,<span class="w"> </span>driver<span class="w"> </span>version:<span class="w"> </span><span class="m">0</span>.9.8
model<span class="w"> </span>input<span class="w"> </span>num:<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>output<span class="w"> </span>num:<span class="w"> </span><span class="m">1</span>
input<span class="w"> </span>tensors:
<span class="w">  </span><span class="nv">index</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">name</span><span class="o">=</span>input,<span class="w"> </span><span class="nv">n_dims</span><span class="o">=</span><span class="m">4</span>,<span class="w"> </span><span class="nv">dims</span><span class="o">=[</span><span class="m">1</span>,<span class="w"> </span><span class="m">224</span>,<span class="w"> </span><span class="m">224</span>,<span class="w"> </span><span class="m">3</span><span class="o">]</span>,<span class="w"> </span><span class="nv">n_elems</span><span class="o">=</span><span class="m">150528</span>,<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">150528</span>,<span class="w"> </span><span class="nv">fmt</span><span class="o">=</span>NHWC,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>INT8,<span class="w"> </span><span class="nv">qnt_type</span><span class="o">=</span>AFFINE,<span class="w"> </span><span class="nv">zp</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">0</span>.007812
output<span class="w"> </span>tensors:
<span class="w">  </span><span class="nv">index</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">name</span><span class="o">=</span>MobilenetV1/Predictions/Reshape_1,<span class="w"> </span><span class="nv">n_dims</span><span class="o">=</span><span class="m">2</span>,<span class="w"> </span><span class="nv">dims</span><span class="o">=[</span><span class="m">1</span>,<span class="w"> </span><span class="m">1001</span>,<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span><span class="o">]</span>,<span class="w"> </span><span class="nv">n_elems</span><span class="o">=</span><span class="m">1001</span>,<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">2002</span>,<span class="w"> </span><span class="nv">fmt</span><span class="o">=</span>UNDEFINED,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>FP16,<span class="w"> </span><span class="nv">qnt_type</span><span class="o">=</span>AFFINE,<span class="w"> </span><span class="nv">zp</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">1</span>.000000
custom<span class="w"> </span>string:<span class="w"> </span>
Begin<span class="w"> </span>perf<span class="w"> </span>...
<span class="w">   </span><span class="m">0</span>:<span class="w"> </span>Elapse<span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>.79ms,<span class="w"> </span><span class="nv">FPS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">358</span>.55
----<span class="w"> </span>Top5<span class="w"> </span>----
<span class="m">0</span>.407959<span class="w"> </span>-<span class="w"> </span><span class="m">283</span>
<span class="m">0</span>.172729<span class="w"> </span>-<span class="w"> </span><span class="m">282</span>
<span class="m">0</span>.154785<span class="w"> </span>-<span class="w"> </span><span class="m">286</span>
<span class="m">0</span>.059204<span class="w"> </span>-<span class="w"> </span><span class="m">278</span>
<span class="m">0</span>.042664<span class="w"> </span>-<span class="w"> </span><span class="m">279</span>
</pre></div>
</div>
<p>Rockchip provides a wealth of test cases, which can be compiled and tested by referring to NPU in the application note.</p>
</section>
<section id="led-test">
<h3>4.19 LED Test<a class="headerlink" href="#led-test" title="Link to this heading"></a></h3>
<p>The OK1126B-S/OK1126BJ-S SoM has a controllable blue LED. When the board is powered on and starts up, the blue LED on the SoM will flash. You can disable this function. Simply modify the device tree file “arch/arm64/boot/dts/rockchip/OK1126B-S-common.dtsi”. Add the attribute “default - state = “off”” to the “leds” node and change “linux,default - trigger” to “none”.</p>
<p><img alt="Image" src="_images/1766382053102_04b6b2ed_0a8c_47f6_9225_1fb55e587f72.png" /></p>
<p>The testing method is as follows:</p>
<p>1. Change the blue LED to normal GPIO LED;</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/sys/class/leds/work/
root@OK1126B-buildroot:/sys/class/leds/work#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>gpio<span class="w"> </span>&gt;<span class="w"> </span>trigger
Turn<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>LED<span class="w"> </span>light<span class="w"> </span><span class="nb">test</span>
root@OK1126B-buildroot:/sys/class/leds/work#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>brightness
Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>LED<span class="w"> </span>light<span class="w"> </span><span class="nb">test</span>
root@OK1126B-buildroot:/sys/class/leds/work#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>brightness
</pre></div>
</div>
<p>2. Change the blue LED to heartbeat lights.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/sys/class/leds/work#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>heartbeat<span class="w"> </span>&gt;<span class="w"> </span>trigger
</pre></div>
</div>
</section>
<section id="adc-test">
<h3>4.20 ADC Test<a class="headerlink" href="#adc-test" title="Link to this heading"></a></h3>
<p>P17 is the led ADC pin as shown in the figure below, where SARADC0 _ IN0-IN6 correspond to 0-6 of the ADC channel respectively.</p>
<p><img alt="Image" src="_images/1766382053171_c3b89097_f665_4a7d_845a_bb16fa9cf006.png" /></p>
<p>Enter the following command to observe the ADC channel value (range 0-8192):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage0_raw
<span class="m">414</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage1_raw
<span class="m">367</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage2_raw
<span class="m">319</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage3_raw
<span class="m">275</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage4_raw
<span class="m">414</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage5_raw
<span class="m">367</span>
root@OK1126B-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/bus/iio/devices/iio<span class="se">\:</span>device0/in_voltage6_raw
<span class="m">319</span>
</pre></div>
</div>
</section>
<section id="sqlite3-test">
<h3>4.21 SQLite3 Test<a class="headerlink" href="#sqlite3-test" title="Link to this heading"></a></h3>
<p>SQLite3 is a lightweight, ACID-compliant relational database management system with a low footprint. The OK1126B-S/OK1126BJ-S board is ported to version 3.44.2 of sqlit3.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>sqlite3
SQLite<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.44.2<span class="w"> </span><span class="m">2023</span>-11-24<span class="w"> </span><span class="m">11</span>:41:44
Enter<span class="w"> </span><span class="s2">&quot;.help&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>usage<span class="w"> </span>hints.
Connected<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>transient<span class="w"> </span><span class="k">in</span>-memory<span class="w"> </span>database.
Use<span class="w"> </span><span class="s2">&quot;.open FILENAME&quot;</span><span class="w"> </span>to<span class="w"> </span>reopen<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>persistent<span class="w"> </span>database.
sqlite&gt;<span class="w"> </span>create<span class="w"> </span>table<span class="w"> </span>tbl1<span class="w"> </span><span class="o">(</span>one<span class="w"> </span>varchar<span class="o">(</span><span class="m">10</span><span class="o">)</span>,<span class="w"> </span>two<span class="w"> </span>smallint<span class="o">)</span><span class="p">;</span><span class="w">	</span>//Create<span class="w"> </span>the<span class="w"> </span>table<span class="w"> </span>tbl1
sqlite&gt;<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>tbl1<span class="w"> </span>values<span class="o">(</span><span class="s1">&#39;hello!&#39;</span>,10<span class="o">)</span><span class="p">;</span><span class="w">				</span>//Insert<span class="w"> </span>data<span class="w"> </span><span class="k">in</span><span class="w"> </span>tbl1<span class="w"> </span>table
sqlite&gt;<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>tbl1<span class="w"> </span>values<span class="o">(</span><span class="s1">&#39;goodbye&#39;</span>,<span class="w"> </span><span class="m">20</span><span class="o">)</span><span class="p">;</span><span class="w">			</span>//Insert<span class="w"> </span>data<span class="w"> </span>goodbye<span class="p">|</span><span class="m">20</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>tbl1<span class="w"> </span>table
sqlite&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>*<span class="w"> </span>from<span class="w"> </span>tbl1<span class="p">;</span>//Query<span class="w"> </span>the<span class="w"> </span>contents<span class="w"> </span>of<span class="w"> </span>table<span class="w"> </span>tbl1
hello!<span class="p">|</span><span class="m">10</span>
goodbye<span class="p">|</span><span class="m">20</span>
sqlite&gt;<span class="w"> </span>delete<span class="w"> </span>from<span class="w"> </span>tbl1<span class="w"> </span>where<span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello!&#39;</span><span class="p">;</span><span class="w">			</span>//Delete<span class="w"> </span>data
sqlite&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>*<span class="w"> </span>from<span class="w"> </span>tbl1<span class="p">;</span><span class="w">								</span>//Query<span class="w"> </span>the<span class="w"> </span>contents<span class="w"> </span>of<span class="w"> </span>table<span class="w"> </span>tbl1
goodbye<span class="p">|</span><span class="m">20</span>
sqlite&gt;<span class="w"> </span>.quit<span class="w">			                                </span>//Exit<span class="w"> </span>the<span class="w"> </span>database<span class="w"> </span><span class="o">(</span>or<span class="w"> </span>use<span class="w"> </span>the.exit<span class="w"> </span><span class="nb">command</span><span class="o">)</span>
root@OK1126B-buildroot:/#<span class="w"> </span>
</pre></div>
</div>
</section>
<section id="id4">
<h3>4.22 4G Test<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>The OK1126B/OK1126BJ-S supports the 4G module EM05 (connected via USB). Prepare the 4G module adapter board FIT - 4G&amp;5G. Before starting the development board, insert the 4G module EM05 into the adapter board, insert the SIM card into the adapter board, connect the antenna from the adapter board to the EM05 and the antenna on the adapter board, and power the adapter board with a 12V power supply. After powering on the development board, press the “power” button on the adapter board and wait for the green light to turn on.</p>
<p>In the figure, the numerical labels from smallest to largest are: 12V power supply, power button, SIM card, USB cable, and 4G module EM05.</p>
<p><img alt="Image" src="_images/1766382053238_3517793e_f523_486d_bc16_b7a14d8c045f.png" /></p>
<p>You can execute the “lsusb” command in the debug serial port of the development board to check if the module is recognized.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>lsusb
Bus<span class="w"> </span><span class="m">001</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0002
Bus<span class="w"> </span><span class="m">001</span><span class="w"> </span>Device<span class="w"> </span><span class="m">002</span>:<span class="w"> </span>ID<span class="w"> </span>2c7c:0125<span class="w">		</span><span class="c1">#It is the 4G module</span>
Bus<span class="w"> </span><span class="m">002</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0001
</pre></div>
</div>
<p>View device node status under /dev</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>ls<span class="w"> </span>/dev/ttyUSB*
/dev/ttyUSB0<span class="w">  </span>/dev/ttyUSB1<span class="w">  </span>/dev/ttyUSB2<span class="w">  </span>/dev/ttyUSB3
</pre></div>
</div>
<p>After the device is successfully recognized, dial-up Internet access can be tested.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>quectelCM<span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:52:502<span class="o">]</span><span class="w"> </span>Quectel_QConnectManager_Linux_V1.6.0.24
<span class="o">[</span><span class="m">01</span>-24_22:58:52:504<span class="o">]</span><span class="w"> </span>Find<span class="w"> </span>/sys/bus/usb/devices/1-1<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span>0x2c7c<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span>0x125,<span class="w"> </span><span class="nv">bus</span><span class="o">=</span>0x001,<span class="w"> </span><span class="nv">dev</span><span class="o">=</span>0x003
<span class="o">[</span><span class="m">01</span>-24_22:58:52:504<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">qmichannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/dev/cdc-wdm0
<span class="o">[</span><span class="m">01</span>-24_22:58:52:505<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">usbnet_adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>wwan0
<span class="o">[</span><span class="m">01</span>-24_22:58:52:505<span class="o">]</span><span class="w"> </span>netcard<span class="w"> </span><span class="nv">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>qmi_wwan,<span class="w"> </span>driver<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span>.1.118
<span class="o">[</span><span class="m">01</span>-24_22:58:52:505<span class="o">]</span><span class="w"> </span>Modem<span class="w"> </span>works<span class="w"> </span><span class="k">in</span><span class="w"> </span>QMI<span class="w"> </span>mode
<span class="o">[</span><span class="m">01</span>-24_22:58:52:513<span class="o">]</span><span class="w"> </span><span class="nv">cdc_wdm_fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:53:514<span class="o">]</span><span class="w"> </span>QmiWwanInit<span class="w"> </span>message<span class="w"> </span>timeout
<span class="o">[</span><span class="m">01</span>-24_22:58:55:004<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientWDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:55:037<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientDMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:55:068<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientNAS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:55:100<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientUIM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:55:132<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientWDA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="o">[</span><span class="m">01</span>-24_22:58:55:164<span class="o">]</span><span class="w"> </span>requestBaseBandVersion<span class="w"> </span>EM05CNFDR08A03M1G_ND
<span class="o">[</span><span class="m">01</span>-24_22:58:55:292<span class="o">]</span><span class="w"> </span>requestGetSIMStatus<span class="w"> </span>SIMStatus:<span class="w"> </span>SIM_READY
<span class="o">[</span><span class="m">01</span>-24_22:58:55:325<span class="o">]</span><span class="w"> </span>requestGetProfile<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span>3gnet///0
<span class="o">[</span><span class="m">01</span>-24_22:58:55:357<span class="o">]</span><span class="w"> </span>requestRegistrationState2<span class="w"> </span>MCC:<span class="w"> </span><span class="m">460</span>,<span class="w"> </span>MNC:<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>PS:<span class="w"> </span>Attached,<span class="w"> </span>DataCap:<span class="w"> </span>LTE
<span class="o">[</span><span class="m">01</span>-24_22:58:55:389<span class="o">]</span><span class="w"> </span>requestQueryDataCall<span class="w"> </span>IPv4ConnectionStatus:<span class="w"> </span>DISCONNECTED
<span class="o">[</span><span class="m">01</span>-24_22:58:55:389<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>wwan0<span class="w"> </span><span class="m">0</span>.0.0.0
<span class="o">[</span><span class="m">01</span>-24_22:58:55:395<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>wwan0<span class="w"> </span>down
<span class="o">[</span><span class="m">01</span>-24_22:58:55:453<span class="o">]</span><span class="w"> </span>requestSetupDataCall<span class="w"> </span>WdsConnectionIPv4Handle:<span class="w"> </span>0x86d0bbf0
<span class="o">[</span><span class="m">01</span>-24_22:58:55:581<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>wwan0<span class="w"> </span>up
<span class="o">[</span><span class="m">01</span>-24_22:58:55:591<span class="o">]</span><span class="w"> </span>busybox<span class="w"> </span>udhcpc<span class="w"> </span>-f<span class="w"> </span>-n<span class="w"> </span>-q<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-i<span class="w"> </span>wwan0
udhcpc:<span class="w"> </span>started,<span class="w"> </span>v1.36.1
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>no<span class="w"> </span>lease,<span class="w"> </span>failing
<span class="o">[</span><span class="m">01</span>-24_22:59:10:869<span class="o">]</span><span class="w"> </span>File:ql_raw_ip_mode_check<span class="w"> </span>Line:136<span class="w"> </span>udhcpc<span class="w"> </span>fail<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>ip<span class="w"> </span>address,<span class="w"> </span>try<span class="w"> </span>next:
<span class="o">[</span><span class="m">01</span>-24_22:59:10:869<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>wwan0<span class="w"> </span>down
<span class="o">[</span><span class="m">01</span>-24_22:59:10:880<span class="o">]</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>Y<span class="w"> </span>&gt;<span class="w"> </span>/sys/class/net/wwan0/qmi/raw_ip
<span class="o">[</span><span class="m">01</span>-24_22:59:10:880<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>wwan0<span class="w"> </span>up
<span class="o">[</span><span class="m">01</span>-24_22:59:10:889<span class="o">]</span><span class="w"> </span>busybox<span class="w"> </span>udhcpc<span class="w"> </span>-f<span class="w"> </span>-n<span class="w"> </span>-q<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-i<span class="w"> </span>wwan0
udhcpc:<span class="w"> </span>started,<span class="w"> </span>v1.36.1
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">10</span>.113.84.102,<span class="w"> </span>server<span class="w"> </span><span class="m">10</span>.113.84.101
udhcpc:<span class="w"> </span>lease<span class="w"> </span>of<span class="w"> </span><span class="m">10</span>.113.84.102<span class="w"> </span>obtained<span class="w"> </span>from<span class="w"> </span><span class="m">10</span>.113.84.101,<span class="w"> </span>lease<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">7200</span>
<span class="o">[</span><span class="m">01</span>-24_22:59:11:069<span class="o">]</span><span class="w"> </span>deleting<span class="w"> </span>routers
<span class="o">[</span><span class="m">01</span>-24_22:59:11:097<span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>dns<span class="w"> </span><span class="m">202</span>.99.160.68
<span class="o">[</span><span class="m">01</span>-24_22:59:11:097<span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>dns<span class="w"> </span><span class="m">202</span>.99.166.4
</pre></div>
</div>
<p>After connecting to the network, you can ping domain names.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>ping<span class="w"> </span>-I<span class="w"> </span>wwan0<span class="w"> </span>www.baidu.com<span class="w"> </span>-c<span class="w"> </span><span class="m">3</span>
PING<span class="w"> </span>www.a.shifen.com<span class="w"> </span><span class="o">(</span><span class="m">110</span>.242.69.21<span class="o">)</span><span class="w"> </span>from<span class="w"> </span><span class="m">10</span>.113.84.102<span class="w"> </span>wwan0:<span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">110</span>.242.69.21:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">54</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">67</span>.9<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">110</span>.242.69.21:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">54</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">39</span>.3<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">110</span>.242.69.21:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">54</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">34</span>.4<span class="w"> </span>ms

---<span class="w"> </span>www.a.shifen.com<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>8805ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">34</span>.399/47.212/67.941/14.793<span class="w"> </span>ms
</pre></div>
</div>
</section>
</section>
<section id="ok1126b-platform-multimedia-test">
<h2>5. OK1126B Platform Multimedia Test<a class="headerlink" href="#ok1126b-platform-multimedia-test" title="Link to this heading"></a></h2>
<p>The application - layer software for audio and video on the OK1126B - S/OK1126BJ - S platform uses GStreamer and supports hardware encoding and decoding. All examples in this section based on the GStreamer command line form. If users need a player with an interface, they can also use qt’s multimedia classes, which also support codecs, see the Qt Tests chapter.</p>
<p>The OK1126B - S/OK1126BJ - S platform has an internal video processing unit (VPU) that supports hardware encoding and decoding of the following video formats:</p>
<p>Video Decoding: H264, H265, maximum support 4K&#64;30fps</p>
<p>Video Encoding: H264, H265, maximum support 12M&#64;30fps</p>
<p>Hardware codec parameter table of OK1126B-S/OK1126BJ-S platform:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Profile</p></th>
<th class="head"><p>Resolution</p></th>
<th class="head"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Video Encoder</p></td>
<td><p>HEVC</p></td>
<td><p>Level 5.0 High Tier</p></td>
<td><p>12M</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.264</p></td>
<td><p>Level 5.0</p></td>
<td><p>12M</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-even"><td><p>Video Decoder</p></td>
<td><p>H.264</p></td>
<td><p>yuv400/yuv420/yuv422&#64;L5.1</p></td>
<td><p>3840x2160</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.265</p></td>
<td><p>yuv420&#64;L5.0</p></td>
<td><p>3840x2160</p></td>
<td><p>30 fps</p></td>
</tr>
</tbody>
</table>
<section id="audio-and-video-playback">
<h3>5.1 Audio and Video Playback<a class="headerlink" href="#audio-and-video-playback" title="Link to this heading"></a></h3>
<section id="playing-audio-and-video-with-gst-play">
<h4>5.1.1 Playing Audio and Video with Gst-play<a class="headerlink" href="#playing-audio-and-video-with-gst-play" title="Link to this heading"></a></h4>
<p>Gplay is an audio/video player based on GStreamer that can automatically select the right plugin for audio/video play according to the hardware, and it is easy to run.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-play-1.0<span class="w"> </span>/userdata/media/1080p_30fps_h265.mp4
//Play<span class="w"> </span>the<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>sound,<span class="w"> </span>and<span class="w"> </span><span class="nb">test</span><span class="w"> </span>the<span class="w"> </span>sound<span class="w"> </span>played<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>speaker
Press<span class="w"> </span><span class="s1">&#39;k&#39;</span><span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>keyboard<span class="w"> </span>shortcuts.
Now<span class="w"> </span>playing<span class="w"> </span>/userdata/media/1080p_30fps_h265.mp4
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1903</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
Redistribute<span class="w"> </span>latency...
</pre></div>
</div>
</section>
<section id="video-playback-with-gst-launch">
<h4>5.1.2 Video Playback with Gst-launch<a class="headerlink" href="#video-playback-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_30fps_h265.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink
//Play<span class="w"> </span>video<span class="w"> </span>only
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1922</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
<span class="o">[</span><span class="m">00</span>:04:46.015<span class="o">]</span><span class="w"> </span>seeing<span class="w"> </span>the<span class="w"> </span>first<span class="w"> </span>app
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:30.633824472
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="play-ing-audio-with-gst-launch">
<h4>5.1.3 Play ing Audio with Gst-launch<a class="headerlink" href="#play-ing-audio-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/test.mp3<span class="w"> </span>!<span class="w"> </span>id3demux<span class="w"> </span>!<span class="w"> </span>mpegaudioparse<span class="w"> </span>!<span class="w"> </span>mpg123audiodec<span class="w"> </span>!<span class="w"> </span>alsasink
//Play<span class="w"> </span>the<span class="w"> </span>audio<span class="w"> </span>only,<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>speaker<span class="w"> </span>will<span class="w"> </span>play<span class="w"> </span>the<span class="w"> </span>test.
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">0</span>.8<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:02.321717834
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="playing-video-and-audio-with-gst-launch">
<h4>5.1.4 Playing Video and Audio with Gst-launch<a class="headerlink" href="#playing-video-and-audio-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_30fps_h265.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>dec<span class="w"> </span>dec.<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink<span class="w"> </span>dec.!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>decodebin<span class="w"> </span>!<span class="w"> </span>alsasink
//Play<span class="w"> </span>the<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>with<span class="w"> </span>sound,<span class="w"> </span>and<span class="w"> </span><span class="nb">test</span><span class="w"> </span>the<span class="w"> </span>sound<span class="w"> </span>played<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>speaker
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
Redistribute<span class="w"> </span>latency...
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">24</span>.9<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:07.698089754
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">1960</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-encoding">
<h3>5.2 Video Hardware Encoding<a class="headerlink" href="#video-hardware-encoding" title="Link to this heading"></a></h3>
<p>OK1126B-S/OK1126BJ-S supports H.264/H.265 video encoding at up to 12m &#64; 30fps and high-quality JPEG encoding and decoding.</p>
<section id="video-hardware-encoding-h-264">
<h4>5.2.1 Video Hardware Encoding H.264<a class="headerlink" href="#video-hardware-encoding-h-264" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>mp4mux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mux<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>test.mp4<span class="w">  </span>videotestsrc<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">600</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,framerate<span class="o">=</span><span class="m">60</span>/1,width<span class="o">=</span><span class="m">1920</span>,height<span class="o">=</span><span class="m">1080</span>,format<span class="o">=</span>NV12<span class="w"> </span>!<span class="w"> </span>mpph264enc<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w">  </span>mux.video_0<span class="w"> </span>-e
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>Only<span class="w"> </span>rk3588<span class="s1">&#39;s h264/265/jpeg and rk3576&#39;</span>s<span class="w"> </span>h264/265<span class="w"> </span>encoder<span class="w"> </span>can<span class="w"> </span>use<span class="w"> </span>frame<span class="w"> </span>parallel
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_enc:<span class="w"> </span>MPP_ENC_SET_RC_CFG<span class="w"> </span>bps<span class="w"> </span><span class="m">15552000</span><span class="w"> </span><span class="o">[</span><span class="m">14580000</span><span class="w"> </span>:<span class="w"> </span><span class="m">16524000</span><span class="o">]</span><span class="w"> </span>fps<span class="w"> </span><span class="o">[</span><span class="m">60</span>:60<span class="o">]</span><span class="w"> </span>gop<span class="w"> </span><span class="m">60</span>
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>h264e_api_v2:<span class="w"> </span>MPP_ENC_SET_PREP_CFG<span class="w"> </span>w:h<span class="w"> </span><span class="o">[</span><span class="m">1920</span>:1080<span class="o">]</span><span class="w"> </span>stride<span class="w"> </span><span class="o">[</span><span class="m">1920</span>:1088<span class="o">]</span>
mpp<span class="o">[</span><span class="m">1974</span><span class="o">]</span>:<span class="w"> </span>mpp_enc:<span class="w"> </span>mode<span class="w"> </span>cbr<span class="w"> </span>bps<span class="w"> </span><span class="o">[</span><span class="m">14580000</span>:15552000:16524000<span class="o">]</span><span class="w"> </span>fps<span class="w"> </span>fix<span class="w"> </span><span class="o">[</span><span class="m">60</span>/1<span class="o">]</span><span class="w"> </span>-&gt;<span class="w"> </span>fix<span class="w"> </span><span class="o">[</span><span class="m">60</span>/1<span class="o">]</span><span class="w"> </span>gop<span class="w"> </span>i<span class="w"> </span><span class="o">[</span><span class="m">60</span><span class="o">]</span><span class="w"> </span>v<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>
Redistribute<span class="w"> </span>latency...
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
EOS<span class="w"> </span>received<span class="w"> </span>-<span class="w"> </span>stopping<span class="w"> </span>pipeline...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:18.377197925
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="video-hardware-encoding-h-265">
<h4>5.2.2 Video Hardware Encoding H.265<a class="headerlink" href="#video-hardware-encoding-h-265" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>mp4mux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mux<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>test.mp4<span class="w"> </span>videotestsrc<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">600</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,framerate<span class="o">=</span><span class="m">60</span>/1,width<span class="o">=</span><span class="m">1920</span>,height<span class="o">=</span><span class="m">1080</span>,format<span class="o">=</span>NV12<span class="w"> </span>!<span class="w"> </span>mpph265enc<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w">  </span>mux.video_0<span class="w"> </span>-e
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>Only<span class="w"> </span>rk3588<span class="s1">&#39;s h264/265/jpeg and rk3576&#39;</span>s<span class="w"> </span>h264/265<span class="w"> </span>encoder<span class="w"> </span>can<span class="w"> </span>use<span class="w"> </span>frame<span class="w"> </span>parallel
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_enc:<span class="w"> </span>MPP_ENC_SET_RC_CFG<span class="w"> </span>bps<span class="w"> </span><span class="m">15552000</span><span class="w"> </span><span class="o">[</span><span class="m">14580000</span><span class="w"> </span>:<span class="w"> </span><span class="m">16524000</span><span class="o">]</span><span class="w"> </span>fps<span class="w"> </span><span class="o">[</span><span class="m">60</span>:60<span class="o">]</span><span class="w"> </span>gop<span class="w"> </span><span class="m">60</span>
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>h265e_api:<span class="w"> </span>h265e_proc_prep_cfg<span class="w"> </span>MPP_ENC_SET_PREP_CFG<span class="w"> </span>w:h<span class="w"> </span><span class="o">[</span><span class="m">1920</span>:1080<span class="o">]</span><span class="w"> </span>stride<span class="w"> </span><span class="o">[</span><span class="m">1920</span>:1088<span class="o">]</span>
mpp<span class="o">[</span><span class="m">2007</span><span class="o">]</span>:<span class="w"> </span>mpp_enc:<span class="w"> </span>mode<span class="w"> </span>cbr<span class="w"> </span>bps<span class="w"> </span><span class="o">[</span><span class="m">14580000</span>:15552000:16524000<span class="o">]</span><span class="w"> </span>fps<span class="w"> </span>fix<span class="w"> </span><span class="o">[</span><span class="m">60</span>/1<span class="o">]</span><span class="w"> </span>-&gt;<span class="w"> </span>fix<span class="w"> </span><span class="o">[</span><span class="m">60</span>/1<span class="o">]</span><span class="w"> </span>gop<span class="w"> </span>i<span class="w"> </span><span class="o">[</span><span class="m">60</span><span class="o">]</span><span class="w"> </span>v<span class="w"> </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>
Redistribute<span class="w"> </span>latency...
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
EOS<span class="w"> </span>received<span class="w"> </span>-<span class="w"> </span>stopping<span class="w"> </span>pipeline...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:18.489412842
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-decoding">
<h3>5.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading"></a></h3>
<p>The OK1126B-S/OK1126BJ-S supports H264, H265 video hardware decoding, and the H264 decoder supports 4K&#64;30fps, and the H265 decoder supports 4K&#64;30fps.</p>
<p>The OK1126B-S/OK1126BJ-S uses mppvideodec component for video hardware decoding, and its output formats are NV12, I420, YV12.</p>
<section id="decoding-and-playing-h-264-format-video">
<h4>5.3.1 Decoding and Playing H.264 Format Video<a class="headerlink" href="#decoding-and-playing-h-264-format-video" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_60fps_h264.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>h264d_api:<span class="w"> </span><span class="nv">is_avcC</span><span class="o">=</span><span class="m">1</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3237888</span><span class="w"> </span>-<span class="w"> </span><span class="m">4177920</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2020</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3237888</span><span class="w"> </span>-<span class="w"> </span><span class="m">4177920</span>
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">12</span>.3<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:07.631453212
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h264-format-video-with-audio">
<h4>5.3.2 Decoding and Playing H264 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-h264-format-video-with-audio" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_60fps_h264.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>demux<span class="w"> </span>demux.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w">  </span>!<span class="w"> </span>waylandsink<span class="w"> </span>demux.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>faad<span class="w"> </span>!<span class="w"> </span>alsasink
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>h264d_api:<span class="w"> </span><span class="nv">is_avcC</span><span class="o">=</span><span class="m">1</span>
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3237888</span><span class="w"> </span>-<span class="w"> </span><span class="m">4177920</span>
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2031</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3237888</span><span class="w"> </span>-<span class="w"> </span><span class="m">4177920</span>
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
Redistribute<span class="w"> </span>latency...
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">6</span>.6<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:04.045597501
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h-265-format-video">
<h4>5.3.3 Decoding and Playing H.265 Format Video<a class="headerlink" href="#decoding-and-playing-h-265-format-video" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_30fps_h265.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2045</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Redistribute<span class="w"> </span>latency...
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">11</span>.5<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:03.538232585
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h265-format-video-with-audio">
<h4>5.3.4 Decoding and Playing H265 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-h265-format-video-with-audio" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_30fps_h265.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span><span class="nv">name</span><span class="o">=</span>demux<span class="w"> </span>demux.video_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w">  </span>!<span class="w"> </span>waylandsink<span class="w"> </span>demux.audio_0<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>aacparse<span class="w"> </span>!<span class="w"> </span>faad<span class="w"> </span>!<span class="w"> </span>alsasink
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp:<span class="w"> </span>unable<span class="w"> </span>to<span class="w"> </span>create<span class="w"> </span>enc<span class="w"> </span>vp8<span class="w"> </span><span class="k">for</span><span class="w"> </span>soc<span class="w"> </span>rv1126b<span class="w"> </span>unsupported
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_info:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>unknown<span class="w"> </span>mpp<span class="w"> </span>version<span class="w"> </span><span class="k">for</span><span class="w"> </span>missing<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
Redistribute<span class="w"> </span>latency...
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_pixel<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>h_stride_by_byte<span class="w"> </span><span class="m">1984</span><span class="w"> </span>-<span class="w"> </span><span class="m">1920</span>
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>mpp_buf_slot:<span class="w"> </span>mismatch<span class="w"> </span>size_total<span class="w"> </span><span class="m">3856896</span><span class="w"> </span>-<span class="w"> </span><span class="m">3732480</span>
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Prerolled,<span class="w"> </span>waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>async<span class="w"> </span>message<span class="w"> </span>to<span class="w"> </span>finish...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
Redistribute<span class="w"> </span>latency...
New<span class="w"> </span>clock:<span class="w"> </span>GstAudioSinkClock
^Chandling<span class="w"> </span>interrupt.<span class="w"> </span><span class="o">(</span><span class="m">10</span>.1<span class="w"> </span>%<span class="o">)</span>
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:03.158455085
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
mpp<span class="o">[</span><span class="m">2056</span><span class="o">]</span>:<span class="w"> </span>H265D_PARSER:<span class="w"> </span>extradata<span class="w"> </span>is<span class="w"> </span>encoded<span class="w"> </span>as<span class="w"> </span>hvcC<span class="w"> </span>format
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
</section>
<section id="camera-test">
<h3>5.4 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading"></a></h3>
<p>The OK1126B-S/OK1126BJ-S supports OV13850 MIPI camera.</p>
<section id="ov13850-test">
<h4>5.4.1 OV13850 Test<a class="headerlink" href="#ov13850-test" title="Link to this heading"></a></h4>
<section id="camera-recognition-detection-and-format-support-queries">
<h5>5.4.1.1 Camera Recognition Detection and Format Support Queries<a class="headerlink" href="#camera-recognition-detection-and-format-support-queries" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-devices
//View<span class="w"> </span>the<span class="w"> </span>device<span class="w"> </span>node
rkaiisp<span class="w"> </span><span class="o">(</span>platform:<span class="w"> </span>rkaiisp<span class="o">)</span>:
<span class="w">    </span>/dev/video0

rkisp-statistics<span class="w"> </span><span class="o">(</span>platform:<span class="w"> </span>rkisp<span class="o">)</span>:
<span class="w">    </span>/dev/video28
<span class="w">    </span>/dev/video29
<span class="w">    </span>/dev/video36
<span class="w">    </span>/dev/video37

rkaiisp0<span class="w"> </span><span class="o">(</span>platform:rkaiisp-vir0<span class="o">)</span>:
<span class="w">    </span>/dev/media0

rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds<span class="o">)</span>:
<span class="w">    </span>/dev/video1
<span class="w">    </span>/dev/video2
<span class="w">    </span>/dev/video3
<span class="w">    </span>/dev/video4
<span class="w">    </span>/dev/video5
<span class="w">    </span>/dev/video6
<span class="w">    </span>/dev/video7
<span class="w">    </span>/dev/video8
<span class="w">    </span>/dev/video9
<span class="w">    </span>/dev/video10
<span class="w">    </span>/dev/video11
<span class="w">    </span>/dev/media1

rkcif<span class="w"> </span><span class="o">(</span>platform:rkcif-mipi-lvds2<span class="o">)</span>:
<span class="w">    </span>/dev/video12
<span class="w">    </span>/dev/video13
<span class="w">    </span>/dev/video14
<span class="w">    </span>/dev/video15
<span class="w">    </span>/dev/video16
<span class="w">    </span>/dev/video17
<span class="w">    </span>/dev/video18
<span class="w">    </span>/dev/video19
<span class="w">    </span>/dev/video20
<span class="w">    </span>/dev/video21
<span class="w">    </span>/dev/video22
<span class="w">    </span>/dev/media2

rkisp_mainpath<span class="w"> </span><span class="o">(</span>platform:rkisp-vir0<span class="o">)</span>:
<span class="w">    </span>/dev/video23
<span class="w">    </span>/dev/video24
<span class="w">    </span>/dev/video25
<span class="w">    </span>/dev/video26
<span class="w">    </span>/dev/video27
<span class="w">    </span>/dev/video30
<span class="w">    </span>/dev/media3

rkisp_mainpath<span class="w"> </span><span class="o">(</span>platform:rkisp-vir1<span class="o">)</span>:
<span class="w">    </span>/dev/video31
<span class="w">    </span>/dev/video32
<span class="w">    </span>/dev/video33
<span class="w">    </span>/dev/video34
<span class="w">    </span>/dev/video35
<span class="w">    </span>/dev/video38
<span class="w">    </span>/dev/media4

rkvpss_scale0<span class="w"> </span><span class="o">(</span>platform:rkvpss-vir0<span class="o">)</span>:
<span class="w">    </span>/dev/video40
<span class="w">    </span>/dev/video41
<span class="w">    </span>/dev/video42
<span class="w">    </span>/dev/video43
<span class="w">    </span>/dev/video44
<span class="w">    </span>/dev/video45
<span class="w">    </span>/dev/media5

rkvpss_scale0<span class="w"> </span><span class="o">(</span>platform:rkvpss-vir1<span class="o">)</span>:
<span class="w">    </span>/dev/video46
<span class="w">    </span>/dev/video47
<span class="w">    </span>/dev/video48
<span class="w">    </span>/dev/video49
<span class="w">    </span>/dev/video50
<span class="w">    </span>/dev/video51
<span class="w">    </span>/dev/media6
root@OK1126B-buildroot:/#<span class="w"> </span>v4l2-ctl<span class="w"> </span>--list-formats-ext<span class="w"> </span>-d<span class="w"> </span>/dev/video23
//View<span class="w"> </span>the<span class="w"> </span>formats<span class="w"> </span>and<span class="w"> </span>resolutions<span class="w"> </span>supported<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>camera
ioctl:<span class="w"> </span>VIDIOC_ENUM_FMT
<span class="w">    </span>Type:<span class="w"> </span>Video<span class="w"> </span>Capture<span class="w"> </span>Multiplanar

<span class="w">    </span><span class="o">[</span><span class="m">0</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;UYVY&#39;</span><span class="w"> </span><span class="o">(</span>UYVY<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">1</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV16&#39;</span><span class="w"> </span><span class="o">(</span>Y/UV<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">2</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV61&#39;</span><span class="w"> </span><span class="o">(</span>Y/VU<span class="w"> </span><span class="m">4</span>:2:2<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">3</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV21&#39;</span><span class="w"> </span><span class="o">(</span>Y/VU<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NV12&#39;</span><span class="w"> </span><span class="o">(</span>Y/UV<span class="w"> </span><span class="m">4</span>:2:0<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">5</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NM21&#39;</span><span class="w"> </span><span class="o">(</span>Y/VU<span class="w"> </span><span class="m">4</span>:2:0<span class="w"> </span><span class="o">(</span>N-C<span class="o">))</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">6</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;NM12&#39;</span><span class="w"> </span><span class="o">(</span>Y/UV<span class="w"> </span><span class="m">4</span>:2:0<span class="w"> </span><span class="o">(</span>N-C<span class="o">))</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">7</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;GREY&#39;</span><span class="w"> </span><span class="o">(</span><span class="m">8</span>-bit<span class="w"> </span>Greyscale<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">8</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;TIL2&#39;</span><span class="w"> </span><span class="o">(</span>Rockchip<span class="w"> </span>yuv422<span class="w"> </span>tile<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
<span class="w">    </span><span class="o">[</span><span class="m">9</span><span class="o">]</span>:<span class="w"> </span><span class="s1">&#39;TIL0&#39;</span><span class="w"> </span><span class="o">(</span>Rockchip<span class="w"> </span>yuv420<span class="w"> </span>tile<span class="o">)</span>
<span class="w">        </span>Size:<span class="w"> </span>Stepwise<span class="w"> </span>32x32<span class="w"> </span>-<span class="w"> </span>2112x1568<span class="w"> </span>with<span class="w"> </span>step<span class="w"> </span><span class="m">8</span>/8
</pre></div>
</div>
</section>
<section id="camera-preview">
<h5>5.4.1.2 Camera Preview<a class="headerlink" href="#camera-preview" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video23<span class="w"> </span>!<span class="w"> </span>video/x-raw,<span class="w"> </span><span class="nv">format</span><span class="o">=</span>NV12,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">640</span>,<span class="w"> </span><span class="nv">height</span><span class="o">=</span><span class="m">480</span>,<span class="w"> </span><span class="nv">framerate</span><span class="o">=</span><span class="m">30</span>/1<span class="w"> </span>!<span class="w"> </span>waylandsink
//Camera<span class="w"> </span>preview
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Pipeline<span class="w"> </span>is<span class="w"> </span>live<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>need<span class="w"> </span>PREROLL<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock<span class="w">					</span>//The<span class="w"> </span>camera<span class="w"> </span>preview<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>seen<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>screen
^C<span class="w">									    </span>//Ctrl+C<span class="w">   </span>Exit<span class="w"> </span>the<span class="w"> </span>camera<span class="w"> </span>preview
handling<span class="w"> </span>interrupt.
Interrupt:<span class="w"> </span>Stopping<span class="w"> </span>pipeline<span class="w"> </span>...
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:02.667462376
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>READY<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
<section id="camera-to-take-pictures">
<h5>5.4.1.3 Camera to Take Pictures<a class="headerlink" href="#camera-to-take-pictures" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video23<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">1</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,width<span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>mppjpegenc<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>pic.jpg
//Camera<span class="w"> </span>to<span class="w"> </span>take<span class="w"> </span>pictures
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpi:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>Without<span class="w"> </span>VCS<span class="w"> </span>info
mpp_rt:<span class="w"> </span>NOT<span class="w"> </span>found<span class="w"> </span>ion<span class="w"> </span>allocator
mpp_rt:<span class="w"> </span>found<span class="w"> </span>drm<span class="w"> </span>allocator
<span class="o">[</span><span class="w">  </span><span class="m">138</span>.542571<span class="o">]</span><span class="w"> </span>rk_vcodec:<span class="w"> </span>vpu_service_ioctl:2138:<span class="w"> </span>error:<span class="w"> </span>unknown<span class="w"> </span>vpu<span class="w"> </span>service<span class="w"> </span>ioctl<span class="w"> </span>cmd<span class="w"> </span>40086c01
Pipeline<span class="w"> </span>is<span class="w"> </span>live<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>need<span class="w"> </span>PREROLL<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:00.175951625
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>READY<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
root@OK1126B-buildroot:/#<span class="w"> </span>ls
//查看是否生成pic.jpg，可拷贝到pc查看
bin<span class="w">		  </span>data<span class="w">	</span>etc<span class="w">   </span>klogd.pid<span class="w">  </span>lib64<span class="w">	  </span>lost+found<span class="w">  </span>mnt<span class="w">  </span>opt<span class="w">	    </span>proc<span class="w">	   </span>root<span class="w">  </span>sbin<span class="w">  </span>syslogd.pid<span class="w">  </span>target<span class="w">    </span>tmp<span class="w">	</span>usr<span class="w">  </span>vendor
busybox.fragment<span class="w">  </span>dev<span class="w">	</span>info<span class="w">  </span>lib<span class="w">	 </span>linuxrc<span class="w">  </span>media<span class="w">       </span>oem<span class="w">  </span>pic.jpg<span class="w">  </span>rockchip-test<span class="w">  </span>run<span class="w">	 </span>sys<span class="w">   </span>system<span class="w">  </span>userdata<span class="w">	</span>var
</pre></div>
</div>
</section>
<section id="recording-h264-format-video">
<h5>5.4.1.4 Recording H264 Format Video<a class="headerlink" href="#recording-h264-format-video" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>v4l2src<span class="w"> </span><span class="nv">device</span><span class="o">=</span>/dev/video23<span class="w"> </span>num-buffers<span class="o">=</span><span class="m">100</span><span class="w"> </span>!<span class="w"> </span>video/x-raw,format<span class="o">=</span>NV12,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="m">640</span>,height<span class="o">=</span><span class="m">480</span><span class="w"> </span>!<span class="w"> </span>tee<span class="w"> </span><span class="nv">name</span><span class="o">=</span>t<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>mpph264enc<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>qtmux<span class="w"> </span>!<span class="w"> </span>filesink<span class="w"> </span><span class="nv">location</span><span class="o">=</span>13850_h264.mp4<span class="w"> </span>t.<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>waylandsink
//Encode<span class="w"> </span>H264<span class="w"> </span>during<span class="w"> </span>camera<span class="w"> </span>preview
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpi:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>Without<span class="w"> </span>VCS<span class="w"> </span>info
mpp_rt:<span class="w"> </span>NOT<span class="w"> </span>found<span class="w"> </span>ion<span class="w"> </span>allocator
mpp_rt:<span class="w"> </span>found<span class="w"> </span>drm<span class="w"> </span>allocator
<span class="o">[</span><span class="w">  </span><span class="m">208</span>.941566<span class="o">]</span><span class="w"> </span>rk_vcodec:<span class="w"> </span>vpu_service_ioctl:2138:<span class="w"> </span>error:<span class="w"> </span>unknown<span class="w"> </span>vpu<span class="w"> </span>service<span class="w"> </span>ioctl<span class="w"> </span>cmd<span class="w"> </span>40086c01
Pipeline<span class="w"> </span>is<span class="w"> </span>live<span class="w"> </span>and<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>need<span class="w"> </span>PREROLL<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
h264e_api:<span class="w"> </span>h264e_config<span class="w"> </span>MPP_ENC_SET_RC_CFG<span class="w"> </span>bps<span class="w"> </span><span class="m">1152000</span><span class="w"> </span><span class="o">[</span><span class="m">1080000</span><span class="w"> </span>:<span class="w"> </span><span class="m">1224000</span><span class="o">]</span>
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:03.504855085
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>READY<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
root@OK1126B-buildroot:/#<span class="w">  </span>ls
//Check<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span><span class="k">if</span><span class="w"> </span>an<span class="w"> </span>H264<span class="w"> </span>file<span class="w"> </span>is<span class="w"> </span>generated
13850_h264.mp4<span class="w">	  </span>data<span class="w">	</span>info<span class="w">	   </span>lib64<span class="w">       </span>media<span class="w">  </span>opt<span class="w">      </span>rockchip-test<span class="w">  </span>sbin<span class="w">	   </span>system<span class="w">    </span>tmp<span class="w">       </span>var
bin<span class="w">		  </span>dev<span class="w">	</span>klogd.pid<span class="w">  </span>linuxrc<span class="w">     </span>mnt<span class="w">    </span>pic.jpg<span class="w">  </span>root<span class="w">	      </span>sys<span class="w">	   </span>target<span class="w">    </span>userdata<span class="w">  </span>vendor
busybox.fragment<span class="w">  </span>etc<span class="w">	</span>lib<span class="w">	   </span>lost+found<span class="w">  </span>oem<span class="w">    </span>proc<span class="w">     </span>run<span class="w">	      </span>syslogd.pid<span class="w">  </span>usr
</pre></div>
</div>
</section>
<section id="playing-h264-format-video">
<h5>5.4.1.5 Playing H264 Format Video<a class="headerlink" href="#playing-h264-format-video" title="Link to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK1126B-buildroot:/#<span class="w"> </span>gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>13850_h264.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>queue<span class="w"> </span>!<span class="w"> </span>h264parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink
//Play<span class="w"> </span>the<span class="w"> </span>H264<span class="w"> </span>video
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
mpi:<span class="w"> </span>mpp<span class="w"> </span>version:<span class="w"> </span>Without<span class="w"> </span>VCS<span class="w"> </span>info
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLING<span class="w"> </span>...
mpp_rt:<span class="w"> </span>NOT<span class="w"> </span>found<span class="w"> </span>ion<span class="w"> </span>allocator
mpp_rt:<span class="w"> </span>found<span class="w"> </span>drm<span class="w"> </span>allocator
<span class="o">[</span><span class="w">  </span><span class="m">245</span>.867304<span class="o">]</span><span class="w"> </span>rk_vcodec:<span class="w"> </span>vpu_service_ioctl:2138:<span class="w"> </span>error:<span class="w"> </span>unknown<span class="w"> </span>vpu<span class="w"> </span>service<span class="w"> </span>ioctl<span class="w"> </span>cmd<span class="w"> </span>40086c01
mpp:<span class="w"> </span>deprecated<span class="w"> </span>block<span class="w"> </span>control,<span class="w"> </span>use<span class="w"> </span>timeout<span class="w"> </span>control<span class="w"> </span>instead
Pipeline<span class="w"> </span>is<span class="w"> </span>PREROLLED<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PLAYING<span class="w"> </span>...
New<span class="w"> </span>clock:<span class="w"> </span>GstSystemClock
Got<span class="w"> </span>EOS<span class="w"> </span>from<span class="w"> </span>element<span class="w"> </span><span class="s2">&quot;pipeline0&quot;</span>.
Execution<span class="w"> </span>ended<span class="w"> </span>after<span class="w"> </span><span class="m">0</span>:00:03.328286793
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>PAUSED<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>READY<span class="w"> </span>...
Setting<span class="w"> </span>pipeline<span class="w"> </span>to<span class="w"> </span>NULL<span class="w"> </span>...
Freeing<span class="w"> </span>pipeline<span class="w"> </span>...
</pre></div>
</div>
</section>
</section>
</section>
<section id="waylandsink-point-test">
<h3>5.5 Waylandsink Point Test<a class="headerlink" href="#waylandsink-point-test" title="Link to this heading"></a></h3>
<p>The test display part of this chapter uses the waylandsink plug-in in gstreamer. By default, the video or Camera window pops up randomly on the desktop. If you need it to display to a specific location, you can specify the coordinate parameters.</p>
<p>Coordinates (0,0), width 320, height 240.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#
gst-launch-1.0<span class="w"> </span>filesrc<span class="w"> </span><span class="nv">location</span><span class="o">=</span>/userdata/media/1080p_30fps_h265.mp4<span class="w"> </span>!<span class="w"> </span>qtdemux<span class="w"> </span>!<span class="w"> </span>h265parse<span class="w"> </span>!<span class="w"> </span>mppvideodec<span class="w"> </span>!<span class="w"> </span>waylandsink<span class="w">  </span><span class="s2">&quot;render-rectangle=&lt;0,0,480,360&gt;&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="system-flashing">
<h2>6. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading"></a></h2>
<section id="otg-system-flashing">
<h3>6.1 OTG System Flashing<a class="headerlink" href="#otg-system-flashing" title="Link to this heading"></a></h3>
<section id="otg-driver-installation">
<h4>6.1.1 OTG Driver Installation<a class="headerlink" href="#otg-driver-installation" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Path：OK1126B-S（Linux）user information\Linux\tool\DriverAssitant_v5.13.zip</strong></p></li>
</ul>
<p>Extract the above path file to any directory and run it with administrator privileges</p>
<p>Open DriverInstall.exe.</p>
<p><img alt="Image" src="_images/1766382056402_8341b089_8bed_4a54_b041_c15b05b67462.png" /></p>
<p>Click “Driver Installation”.</p>
<p><img alt="Image" src="_images/1766382056479_51bdbc6b_0a00_419e_a1d0_3e42df1cf773.png" /></p>
</section>
<section id="otg-full-flashing-test">
<h4>6.1.2 OTG Full Flashing Test<a class="headerlink" href="#otg-full-flashing-test" title="Link to this heading"></a></h4>
<section id="rkdevtool-flashing-test">
<h5>6.1.2.1 RKDevTool Flashing Test<a class="headerlink" href="#rkdevtool-flashing-test" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Path: OK1126B-S（Linux）user information\Linux\tool\RKDevTool_Release_v3.37.zip</p></li>
</ul>
<p>This is a development tool provided by Rockchip. Before use, decompress it to the full English path, connect the development board and the host with the Type-C cable, press the UPDATE key of the development board and do not release it, then press the RESET key to reset the system, and release the UPDATE key after about two seconds. There will be prompts on the Rockchip development tool: MASKROM device found</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The operation of the identification device is that the UPDATE button is pressed when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn’t match the following figure, please consider unzipping it in an English directory;</strong></p></li>
<li><p><strong>Pay attention to two points during OTG programming: 1. Link the OTG line. 2. When OTG and USB3.0 are multiplexed, the DIP switch needs to be modified.</strong></p></li>
</ul>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1766382056558_1b0a47a5_b9af_482c_a810_b0979e59852e.png" /></p>
<p>Click the “Upgrade Firmware” tab, click the “Firmware” button to select the full upgrade image update.img. The program will be parsing the firmware, so wait a while.</p>
<p><img alt="Image" src="_images/1766382056628_2b37c61a_feb2_44f6_b3a2_4389189d621a.png" /></p>
<p>Click the “Upgrade Firmware” button-&gt; “Upgrade” to upgrade.</p>
</section>
<section id="factory-tool-flashing-test">
<h5>6.1.2.2 Factory Tool Flashing Test<a class="headerlink" href="#factory-tool-flashing-test" title="Link to this heading"></a></h5>
<p>FactoryTool is a tool used for batch OTG programming in the factory. It doesn’t need to read the image and supports batch programming. Additionally, it can program some large - sized image files. If RKDevTool fails to meet the compatibility requirements, you can also try using FactoryTool. Before use, extract it to a path with only English characters. Connect the development board to the host with a Type - C cable. Keep pressing the UPDATE button on the development board, then press the RESET button to reset the system. Release the UPDATE button after about two seconds. There will be prompts on the Rockchip development tool: MASKROM device found.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The operation of the identification device is that the UPDATE button is pressed when the development board is powered on;</strong></p></li>
<li><p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn’t match the following figure, please consider unzipping it in an English directory.</strong></p></li>
</ul>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1766382056697_92b274af_fa3b_45fd_be95_74a946c57705.png" /></p>
<p>Click to select the firmware, and click “Start”. At this time, the identified MASKROM device will automatically start programming.</p>
<p><img alt="Image" src="_images/1766382056767_77ab8f6e_ebd3_433c_9899_533da451907e.png" /></p>
<p>Download firmware:</p>
<p><img alt="Image" src="_images/1766382056834_91d5eee7_f82c_4150_85f7_260b4b9408db.png" /></p>
<p>If the upgrade is successful, the system will restart, and it needs to be powered on again, as shown below:</p>
<p><img alt="Image" src="_images/1766382056900_131abbe1_adac_42b5_bd59_36b02e55767b.png" /></p>
</section>
</section>
<section id="otg-step-by-step-flashing-test">
<h4>6.1.3 OTG Step-by-step Flashing Test<a class="headerlink" href="#otg-step-by-step-flashing-test" title="Link to this heading"></a></h4>
<p>In the development phase, it is very time-consuming to burn all of them every time, so here is the method of using OTG burning tool to burn in separate partitions.</p>
<p><strong>Note: The operation of the identification device is that the UPDATE button is pressed when the development board is powered on.</strong></p>
<p>First, after the OK1126B-S-linux-release is compiled, a separate partition image can be found in the rockdev directory.</p>
<p>Take separate programming boot.img (including device tree and startup logo) as an example to demonstrate the programming method.</p>
<p>Use the Type-C cable to connect the development board to the host. After the development board is started, execute the reboot loader, or press and hold the Ctrl + D key during power-on until the system prompts that the LOADER device is found.</p>
<p><img alt="Image" src="_images/1766382056967_36746cdc_4774_4e17_a170_bfa378349508.png" /></p>
<p>Click the “Device Partition Table” button to automatically read the partition address.</p>
<p><img alt="Image" src="_images/1766382057058_946872c7_f0ad_4268_9572_9017ad0c4d71.png" /></p>
<p>The prompt asks if you want to update the download address. Clicking “Yes” will result in a successful reading of the partition table.</p>
<p><img alt="Image" src="_images/1766382057130_4c028ee1_f1ce_42cc_9b40_59db05f4a158.png" /></p>
<p>Click the right test area of the partition to select the partition mirror, and check the partition.</p>
<p><img alt="Image" src="_images/1766382057204_554fb646_ace1_4d53_a154_5f8b985c967a.png" /></p>
<p>Click the “Execute” button will automatically burn and restart.</p>
<p><img alt="Image" src="_images/1766382057269_e29266c6_5ff5_44f6_91b0_ba5d28567865.png" /></p>
<p><strong>Introduction to MASKROM mode</strong></p>
<p>If the LOADER is damaged and cannot enter the LOADER mode, press and hold the UPDATE key and then press the reset key to enter the MASKROM mode for programming.</p>
<p><img alt="Image" src="_images/1766382056558_1b0a47a5_b9af_482c_a810_b0979e59852e.png" /></p>
<p>At this time, the system will prompt that a MASKROM device is found. The programming process is consistent with the LOADER mode. It is better to use the update. img for programming.</p>
<p><strong>Note: Don’t click “Device Partition Table” in maskrom mode, it is invalid.</strong></p>
</section>
</section>
<section id="tf-card-flashing">
<h3>6.2 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading"></a></h3>
<p>TF Card Creation and Flashing Test</p>
<p><strong>Note: After testing, the maximum capacity of TF card is 16G, and the TF card of 32G and above may fail to be burned.</strong></p>
<p>Copy SDDiskTool_v1.78.zip from the user profile tools directory to any directory on windows. Run SD_Firmware_Tool.exe with administrator privileges.</p>
<p><img alt="Image" src="_images/1766382057346_11058a28_8f62_48c7_813f_e9eab19a1d17.png" /></p>
<p>Select the disk device, check “Firmware Upgrade” and select update.img. Click “Start Creating”.</p>
<p><img alt="Image" src="_images/1766382057440_fe489747_9bef_4111_86c3_cde053953b1c.png" /></p>
<p>Insert the TF card into the development board and start, the system will automatically enter the flashing process. When the flashing is complete, both the screen and the serial port will prompt:</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>At this time, pull out the TF card, the system automatically restarts (please do not power down directly).</p>
<p>If removing the TF does not automatically reboot, a manual reboot will also complete the burn. As shown in the figure above, the burning process takes about 7 minutes. Please wait patiently during the burning process.</p>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>