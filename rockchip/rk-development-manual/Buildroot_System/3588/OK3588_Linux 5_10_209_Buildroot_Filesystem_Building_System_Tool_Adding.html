

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OK3588 5.10.209 Buildroot Filesystem Building &amp; System Tool Adding &mdash; Forlinx Embedded RK Development Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="../../_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/Buildroot_System/3588/OK3588_Linux%205_10_209_Buildroot_Filesystem_Building_System_Tool_Adding.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/theme-switcher.js?v=099e080c"></script>
      <script src="../../_static/logo-link.js?v=d4af6ba6"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">RK Development Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Common_Commands/index.html">Common Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Product_Design_Process/index.html">Product Design Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Interfaces/index.html">Interface Category</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Buildroot System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Forlinx_Desktop_System/index.html">Forlinx Desktop System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Android_OS/index.html">Android OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Debian_OS/index.html">Debian OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../General_Platform_Skills_Knowledge/index.html">General Platform Skills Knowledge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Forlinx Embedded RK Development Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">OK3588 5.10.209 Buildroot Filesystem Building &amp; System Tool Adding</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ok3588-5-10-209-buildroot-filesystem-building-system-tool-adding">
<h1>OK3588 5.10.209 Buildroot Filesystem Building &amp; System Tool Adding<a class="headerlink" href="#ok3588-5-10-209-buildroot-filesystem-building-system-tool-adding" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.<br />
Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.<br />
The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Revision History</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>30/04/2025</p></td>
<td><p>V1.0</p></td>
<td><p>Initial Version</p></td>
</tr>
</tbody>
</table>
</section>
<section id="filesystem-building-system-tool-adding">
<h2>Filesystem Building &amp; System Tool Adding<a class="headerlink" href="#filesystem-building-system-tool-adding" title="Link to this heading"></a></h2>
<p>The manual mainly describes the customized modification operations performed on the Buildroot for Linux <strong>5.10.209.</strong></p>
<p><strong>Download and Extract SDK Source Code</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu20:~/3-3588-SDK_Kernel_5.10.209/1-Linux5.10.209+Qt5.15.10+Forlinx_Desktop22.04/OK3588-linux-source$<span class="w"> </span>ls
app<span class="w">             </span>build_secret_uboot.sh<span class="w">  </span>debian<span class="w">  </span>external<span class="w">  </span>output<span class="w">     </span>rkbin<span class="w">       </span>rtos<span class="w">    </span>ubuntu
build_close.sh<span class="w">  </span>build.sh<span class="w">               </span>device<span class="w">  </span>kernel<span class="w">    </span>prebuilts<span class="w">  </span>rkflash.sh<span class="w">  </span>tools<span class="w">   </span>uefi
buildroot<span class="w">       </span>common<span class="w">                 </span>docs<span class="w">    </span>Makefile<span class="w">  </span>README.md<span class="w">  </span>rockdev<span class="w">     </span>u-boot<span class="w">  </span>yocto
</pre></div>
</div>
<p><strong>Allow Compiling Buildroot First</strong></p>
<p>Before compiling, ensure that Buildroot can be compiled by deleting or removing the rootfs.ext4 file in the relevant directory (you can move it to another directory or rename it).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu20:~/3-3588-SDK_Kernel_5.10.209/1-Linux5.10.209+Qt5.15.10+Forlinx_Desktop22.04/OK3588-linux-source/prebuilts/forlinx/buildroot$<span class="w"> </span>ls
rootfs.ext4
</pre></div>
</div>
<p><strong>Compile Default Configuration Items</strong></p>
<p>To ensure compatibility with the previous default Buildroot configuration (forlinx_ok3588_defconfig), recompile by executing ./build.sh or ./build.sh buildroot.</p>
<p>During the build process, the server will fetch the source code packages for software projects based on the forlinx_ok3588_defconfig configuration and place them in the /buildroot/package directory.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu20:~/3-3588-SDK_Kernel_5.10.209/1-Linux5.10.209+Qt5.15.10+Forlinx_Desktop22.04/OK3588-linux-source/buildroot/package$<span class="w"> </span>
</pre></div>
</div>
<p>After compilation, numerous files will be added and generated. The following files and directories will be created under buildroot/output/forlinx_ok3588/:</p>
<p>buildroot/output/forlinx_ok3588/ generate files</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Table of Contents</p></th>
<th class="head"><p>Role</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>build</p></td>
<td><p>Stores intermediate and temporary files generated during compilation.</p></td>
<td><p>Deleting this directory will result in a long recompilation</p></td>
</tr>
<tr class="row-odd"><td><p>host</p></td>
<td><p>Contains tools and binaries compiled for the build system host</p></td>
<td><p>(i.e., the cross-compiler)</p></td>
</tr>
<tr class="row-even"><td><p>images</p></td>
<td><p>Stores the final firmware image files</p></td>
<td><p>rootfs.ext4 is the Buildroot system image, which can be directly replaced.</p></td>
</tr>
<tr class="row-odd"><td><p>scripts</p></td>
<td><p>Contains various script files used by Buildroot.</p></td>
<td><p>Used for automated builds, configuring environments, or handling specific tasks.</p></td>
</tr>
<tr class="row-even"><td><p>staging</p></td>
<td><p>Contains header files, library files, and other development-related files for the target system.</p></td>
<td><p>Required during cross-compilation</p></td>
</tr>
<tr class="row-odd"><td><p>target</p></td>
<td><p>Contains the complete contents of the root file system (rootfs) for the target device.</p></td>
<td><p>Includes only runtime-required files, excluding development-related header files or libraries.</p></td>
</tr>
</tbody>
</table>
<p>After compilation, it will be directly packaged into update.img.</p>
<p><strong>Note: Many issues may arise during this process, such as package acquisition failures due to network timeouts, insufficient thread counts during compilation, insufficient memory, or insufficient swap partitions. Generally, non-software project source code issues should be considered from these aspects. Remember not to use sudo with root privileges.</strong></p>
<p><strong>Adding System Tools or Required Library Files to Buildroot</strong></p>
<p>Taking OpenCV4 as an example:</p>
<p>① Enter the Buildroot directory and compile the forlinx_ok3588_defconfig.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>forlinx_ok3588_defconfig
</pre></div>
</div>
<p>② Open the menuconfig graphical interface and select the projects you want to compile.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>make menuconfig ARCH=arm64
</pre></div>
</div>
<p>![Image](./images/OK3588_Linux 5_10_209_Buildroot_Filesystem_Building_System_Tool_Adding/20250430141844.png)</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Selection Option</p></th>
<th class="head"><p>Role</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Target options</p></td>
<td><p>Configure the architecture and hardware parameters of the target device</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Build options</p></td>
<td><p>Configure Buildroot’s Build operations</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Toolchain</p></td>
<td><p>Configuring the cross-compilation toolchain</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>System configuration</p></td>
<td><p>Configure basic settings for the target system</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Kernel</p></td>
<td><p>Configure the Linux kernel</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Target packages</p></td>
<td><p>Select the packages installed on the target system</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Filesystem images</p></td>
<td><p>Configure the type of file system image that is generated</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Bootloaders</p></td>
<td><p>Configure the boot loader (e.g. U-Boot, GRUB)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Host utilities</p></td>
<td><p>Configure the tools that run on the host</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Legacy config options</p></td>
<td><p>Dealing with obsolete or obsolete configuration options</p></td>
</tr>
</tbody>
</table>
<p>For example, if you need opencv4 now, you can directly search in the visual list, check the configuration items you need, and then save them to generate a new.config.</p>
<p>③ Compilation</p>
<p>Separate Tool Package Compilation:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>opencv4
</pre></div>
</div>
<p>Full Compilation:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>	Direct execute make
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<p>④ After completing the full compilation: Buildroot will automatically add the executable files and dependency libraries for OpenCV4 to the target file system. These files will be located in buildroot/output/forlinx_ok3588/image/rootfs.ext4.</p>
<p>Buildroot will also copy the dependency libraries required for compiling OpenCV4 to the toolchain. These libraries will be stored in the host directory under buildroot/output/forlinx_ok3588, as mentioned earlier. If necessary, the compiler can be packaged and used.</p>
<p>Usage: directly set the environment-setup environment variable under the host directory to deploy the cross-compilation environment</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>environment-setup
</pre></div>
</div>
<p>⑤ Save the current configuration to defconfig</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>	It is recommended to back up and keep the original forlinx_ok3588_defconfig
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>savedefconfig
</pre></div>
</div>
<p><strong>Replacement and Transplantation</strong></p>
<p>Generally, the cross-compilation tool and the generated file system image are used, respectively</p>
<p>buildroot/output/forlinx_ok3588/host</p>
<p>buildroot/output/forlinx_ok3588/image/rootfs.ext4</p>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>