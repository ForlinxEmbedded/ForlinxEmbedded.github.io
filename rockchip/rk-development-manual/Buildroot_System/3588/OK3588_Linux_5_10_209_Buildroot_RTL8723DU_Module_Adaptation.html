

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OK3588 Linux 5.10.209 Buildroot RTL8723DU Module Adaptation &mdash; Forlinx Embedded RK Development Manual  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="../../_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/rk-development-manual/Buildroot_System/3588/OK3588_Linux_5_10_209_Buildroot_RTL8723DU_Module_Adaptation.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/theme-switcher.js?v=099e080c"></script>
      <script src="../../_static/logo-link.js?v=d4af6ba6"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Forlinx Desktop System" href="../../Forlinx_Desktop_System/index.html" />
    <link rel="prev" title="OK3588 Linux 5.10.209 Buildroot Auto-start QT Application" href="OK3588_Linux_5_10_209_Buildroot_Auto_start_QT_Application.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">RK Development Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Common_Commands/index.html">Common Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Product_Design_Process/index.html">Product Design Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Interfaces/index.html">Interface Category</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Buildroot System</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../3399/index.html">3399</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3506/index.html">3506</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3562/index.html">3562</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3568/index.html">3568</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3576/index.html">3576</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3588</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="OK3588_Linux_5_10_209_Buildroot_Auto_start_QT_Application.html">OK3588 Linux 5.10.209 Buildroot Auto-start QT Application</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OK3588 Linux 5.10.209 Buildroot RTL8723DU Module Adaptation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtl8723du-module-adaptation">RTL8723DU Module Adaptation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#revision-history">Revision History</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Forlinx_Desktop_System/index.html">Forlinx Desktop System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Android_OS/index.html">Android OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Debian_OS/index.html">Debian OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../General_Platform_Skills_Knowledge/index.html">General Platform Skills Knowledge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Forlinx Embedded RK Development Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Buildroot System</a></li>
          <li class="breadcrumb-item"><a href="index.html">3588</a></li>
      <li class="breadcrumb-item active">OK3588 Linux 5.10.209 Buildroot RTL8723DU Module Adaptation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ok3588-linux-5-10-209-buildroot-rtl8723du-module-adaptation">
<h1>OK3588 Linux 5.10.209 Buildroot RTL8723DU Module Adaptation<a class="headerlink" href="#ok3588-linux-5-10-209-buildroot-rtl8723du-module-adaptation" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.<br />
Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.<br />
The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="rtl8723du-module-adaptation">
<h2>RTL8723DU Module Adaptation<a class="headerlink" href="#rtl8723du-module-adaptation" title="Link to this heading"></a></h2>
<p>This document describes how to adapt the RTL8723DU Wi-Fi/Bluetooth module on OK3588 with Linux kernel 5.10.209 and Buildroot.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Revision History</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>12/30/2024</p></td>
<td><p>V1.0</p></td>
<td><p>Initial Version</p></td>
</tr>
</tbody>
</table>
<p><strong>1. Hardware Schematic</strong></p>
<p><img alt="Image" src="../../_images/1735635195304_f5d34e1b_5e0f_41ba_bbf0_3fc36117869b.png" /></p>
<p><strong>2. Software Configuration</strong></p>
<p>This guide is based on a specific SDK version. Refer to the provided patch files for modifications. General steps are outlined below.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OK3588-C_Linux5.10.209+Qt5.15.10_用户资料_R1</span></code></p></li>
<li><p>Add the RTL8723DU driver source code to the kernel directory.</p></li>
</ul>
<p><a class="reference external" href="https://forlinx-book.yuque.com/attachments/yuque/0/2024/rar/45471242/1735636199564-eab70615-fad8-4a32-ad2e-a1ea3be41435.rar">Please ask your sales representative to get the related materials.</a></p>
<p>Add the wifi bluetooth driver.</p>
<p><strong>The driver is added to the source code. Finally, the kernel image needs to be compiled to get the driver module. The usage of the driver module will be described later. There are two ways to add the driver, which can be selected according to the specific usage scenario.</strong></p>
<p>If your SDK version matches the one this guide is based on and you have not made any custom modifications to the kernel driver configuration, you can directly place the provided driver patch file into the kernel directory of the SDK and apply it using the command below. This method automatically integrates the driver without requiring manual configuration changes.</p>
<ul class="simple">
<li><p>Add directly through patch, put the patch under the source code directory, and execute the following command</p></li>
</ul>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>patch -p1 &lt; OK3588_linux5.10.209_8723du_add-driver-and-configurations.patch
</pre></div>
</div>
<p>If a different SDK version is used or prior modifications have been made to configuration files such as defconfig or Makefile, it is recommended to open the provided patch file and manually apply the changes to the source code. Afterward, rebuild the image by following the user compilation manual and flash it onto the development board.</p>
<ul class="simple">
<li><p>Put <code class="docutils literal notranslate"><span class="pre">rtl8723du</span> <span class="pre">package</span></code> in the <code class="docutils literal notranslate"><span class="pre">driver\wifi</span> <span class="pre">source</span> <span class="pre">code</span></code> to <code class="docutils literal notranslate"><span class="pre">OK3588-linux-source/kernel/drivers/net/wireless/</span></code>;</p></li>
<li><p>Put the driver file in <code class="docutils literal notranslate"><span class="pre">driver\bluetooth</span> <span class="pre">driver</span> <span class="pre">source</span> <span class="pre">code</span> </code>to <code class="docutils literal notranslate"><span class="pre">OK3588-linux-source/kernel/drivers/bluetooth/</span></code></p></li>
<li><p>Modify the related kernel configuration files according to <code class="docutils literal notranslate"><span class="pre">OK3588_linux5.10.209_8723du_add-configurations.patch</span></code>.</p></li>
</ul>
<p><strong>Enable Pin Configuration</strong></p>
<p><strong>Note: The device tree configuration provided serves only as a reference. In practice, GPIO selection and configuration must be handled based on the actual wiring shown in the hardware schematic.</strong></p>
<p><strong>There are three approaches to configuring the enable pin:</strong></p>
<p><strong>1.  Configure via Device Tree:</strong><br />
Define the enable pin directly in the device tree, resolve any pin conflicts, and set the enable state. Then compile and flash the updated device tree.</p>
<p><strong>2.  Control via SysFS (Filesystem):</strong><br />
First, check the device tree for pin conflicts and ensure the target pin is not multiplexed for other functions (unused pins default to GPIO). Then export and configure the GPIO through the filesystem at runtime.</p>
<p><strong>3.  Hardware Modification (Bypass Enable Pin):</strong><br />
Avoid software control altogether by modifying the schematic to supply 3.3V directly to the module, eliminating the need for an enable pin.</p>
<p>① A power enable pin for the RTL8723DU module is reserved on the schematic. Corresponding modifications must be made in the device tree to add the enable pin configuration. For reference, you may consult the <code class="docutils literal notranslate"><span class="pre">OK3588_linux5.10.209_8723du-WIFI_BT_EN.patch</span></code> file.</p>
<p>The schematic designates the pin <strong>RK_PD3</strong> for <code class="docutils literal notranslate"><span class="pre">WIFI_BT_EN</span></code>. However, this pin is originally configured as a touch chip interrupt pin for the MIPI_DSI interface. Configuring it as <code class="docutils literal notranslate"><span class="pre">WIFI_BT_EN</span></code> would cause a conflict. Therefore, you must remove the conflicting function definition from the device tree and add the <code class="docutils literal notranslate"><span class="pre">WIFI_BT_EN</span></code> configuration.</p>
<p>The patch file contains two main modifications:</p>
<ol class="arabic simple">
<li><p><strong>In <code class="docutils literal notranslate"><span class="pre">FET3588-C.dtsi</span></code>:</strong> The configuration for the <code class="docutils literal notranslate"><span class="pre">WIFI_BT_EN</span></code> enable function is added. Since the enable pin is <strong>active-low</strong> in the schematic (the MOSFET turns on, supplying 3.3V to <code class="docutils literal notranslate"><span class="pre">VCC3V3</span></code> when the pin outputs low), the <code class="docutils literal notranslate"><span class="pre">pinctrl</span></code> configuration sets the default state to <strong>pull low</strong>.</p></li>
<li><p><strong>In <code class="docutils literal notranslate"><span class="pre">OK3588-C-common.dtsi</span></code>:</strong> The original, conflicting pin configuration section is removed.</p></li>
</ol>
<p>If you prefer not to configure the WIFI_BT_EN pin in the device tree and instead wish to control the GPIO directly via the filesystem to power the module on/off, you must first resolve any pin multiplexing conflicts in the device tree. Refer to the modifications in <code class="docutils literal notranslate"><span class="pre">OK3588-C-common.dtsi</span></code> to remove the conflicting GPIO multiplexing settings in the device tree.</p>
<ul>
<li><p><strong>Use scripts to export GPIO sysfs nodes and set levels</strong></p>
<p>Relevant scripts are stored in the gpio script folder. Use <code class="docutils literal notranslate"><span class="pre">fltest_gpio.sh</span></code> for the CPU’s native IO pins, and <code class="docutils literal notranslate"><span class="pre">fltest_extgpio.sh</span></code> for GPIOs on the OK3588 baseboard’s IO expansion chip. Here, we take the CPU IO pin <code class="docutils literal notranslate"><span class="pre">RK_PD3</span></code> as an example.</p>
</li>
</ul>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>fltest_gpio.sh GPIO3_D3 1  # Set the GPIO pin to high level
fltest_gpio.sh GPIO3_D3 0  # Set the GPIO pin to low level
</pre></div>
</div>
<blockquote>
<div><ul class="simple">
<li><p><strong>Manually execute commands to export GPIO nodes, including node calculation and configuration methods.</strong> Here, using the CPU’s IO pin <code class="docutils literal notranslate"><span class="pre">RK_PD3</span></code> as an example:</p></li>
</ul>
<blockquote>
<div><p><strong>Calculation method for GPIO sysfs nodes (A=0, B=1, C=2, D=3… and so on):</strong></p>
</div></blockquote>
</div></blockquote>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>3 RK_PD3
32*3+8*3+3 = 123
</pre></div>
</div>
<blockquote>
<div><p><strong>Export the node and configure its level:</strong></p>
</div></blockquote>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>echo 123 &gt; /sys/class/gpio/export
cd /sys/class/gpio/gpio123
cat value
echo out &gt; direction
echo 1 &gt; value
echo 0 &gt; value
</pre></div>
</div>
<p>If enabling the module via a control pin is not required, the schematic can be modified to supply power directly to the RTL8723DU module. In this case, no enable pin control configuration is needed in the device tree.</p>
<p><strong>Adding Firmware to the Filesystem</strong></p>
<p>The Bluetooth driver requires firmware to load. The firmware file must be placed in the development board’s filesystem under the <code class="docutils literal notranslate"><span class="pre">/lib/firmware/</span></code> directory. This step can be skipped if Bluetooth functionality is not needed.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>/lib/firmware/rtl8723du_config
/lib/firmware/rtl8723du_fw
</pre></div>
</div>
<p><strong>Loading Driver Modules</strong></p>
<p>Since Realtek modules typically use proprietary drivers that cannot be integrated into the kernel, they are compiled as loadable modules.** After compilation, the driver modules are generated in the following locations:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">OK3588-linux-source/kernel/drivers/net/wireless/8723du.ko</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">OK3588-linux-source/kernel/drivers/bluetooth/rtk_btusb.ko</span></code></p>
</div></blockquote>
<ul class="simple">
<li><p>Typically, the driver modules can be loaded manually. Simply transfer the compiled Wi-Fi and Bluetooth driver files to the development board (using methods such as SSH, ADB, USB drive, or TF card), then execute the commands to load the drivers.</p></li>
</ul>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>insmod 8723du.ko
insmod rtk_btusb.ko
</pre></div>
</div>
<ul class="simple">
<li><p>If you need the drivers to load automatically on boot, you can place them in a designated location and add the loading commands to the startup Wi-Fi/Bluetooth initialization script. Modify the <code class="docutils literal notranslate"><span class="pre">S36wifibt-init.sh</span></code> file as shown below, and place the relevant modules in the specified directory (create the directory if it does not exist). This will ensure the drivers are loaded automatically during system startup.</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">/etc/init.d/S36wifibt-init.sh</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/lib/modules/5.10.209/kernel/drivers/net/wireless/rtl8723du/8723du.ko</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">/lib/modules/5.10.209/kernel/drivers/bluetooth/rtk_btusb.ko</span></code></p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1">### BEGIN INIT INFO</span>
<span class="c1"># Provides:       wifibt-init</span>
<span class="c1"># Required-Start: $local_fs $syslog</span>
<span class="c1"># Required-Stop:  $local_fs</span>
<span class="c1"># Default-Start:  S</span>
<span class="c1"># Default-Stop:   K</span>
<span class="c1"># Description:    Init Rockchip Wifi/BT</span>
<span class="c1">### END INIT INFO</span>

<span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>start<span class="p">|</span>stop<span class="p">|</span>restart<span class="o">)</span>
<span class="w">                </span>insmod<span class="w"> </span>/lib/modules/5.10.209/kernel/drivers/net/wireless/rtl8723du/8723du.ko
<span class="w">                </span>insmod<span class="w"> </span>/lib/modules/5.10.209/kernel/drivers/bluetooth/rtk_btusb.ko
<span class="w">                </span>/usr/bin/wifibt-init.sh<span class="w"> </span><span class="nv">$1</span>
<span class="w">                </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span>
<span class="w">                </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: [start|stop|restart]&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">                </span><span class="nb">exit</span><span class="w"> </span><span class="m">3</span>
<span class="w">                </span><span class="p">;;</span>
<span class="k">esac</span>

:
</pre></div>
</div>
<ul class="simple">
<li><p>After the drivers are loaded successfully, you can see the device nodes. If they do not appear, it may indicate an issue.</p></li>
</ul>
<blockquote>
<div><p>View wifi node.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3588-buildroot:/#<span class="w"> </span>ifconfig<span class="w"> </span>wlan0
wlan0<span class="w">     </span>Link<span class="w"> </span>encap:Ethernet<span class="w">  </span>HWaddr<span class="w"> </span><span class="m">38</span>:7A:CC:70:86:F6
<span class="w">          </span>BROADCAST<span class="w"> </span>MULTICAST<span class="w">  </span>MTU:1500<span class="w">  </span>Metric:1
<span class="w">          </span>RX<span class="w"> </span>packets:0<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>frame:0
<span class="w">          </span>TX<span class="w"> </span>packets:0<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>carrier:0
<span class="w">          </span>collisions:0<span class="w"> </span>txqueuelen:1000
<span class="w">          </span>RX<span class="w"> </span>bytes:0<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>B<span class="o">)</span><span class="w">  </span>TX<span class="w"> </span>bytes:0<span class="w"> </span><span class="o">(</span><span class="m">0</span>.0<span class="w"> </span>B<span class="o">)</span>
</pre></div>
</div>
<blockquote>
<div><p>Bluetooth node.</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@ok3588-buildroot:/#<span class="w"> </span>hciconfig<span class="w"> </span>-a
hci0:<span class="w">   </span>Type:<span class="w"> </span>Primary<span class="w">  </span>Bus:<span class="w"> </span>USB
<span class="w">        </span>BD<span class="w"> </span>Address:<span class="w"> </span><span class="m">38</span>:7A:CC:70:86:F7<span class="w">  </span>ACL<span class="w"> </span>MTU:<span class="w"> </span><span class="m">1021</span>:8<span class="w">  </span>SCO<span class="w"> </span>MTU:<span class="w"> </span><span class="m">255</span>:12
<span class="w">        </span>UP<span class="w"> </span>RUNNING<span class="w"> </span>PSCAN
<span class="w">        </span>RX<span class="w"> </span>bytes:729<span class="w"> </span>acl:0<span class="w"> </span>sco:0<span class="w"> </span>events:54<span class="w"> </span>errors:0
<span class="w">        </span>TX<span class="w"> </span>bytes:3187<span class="w"> </span>acl:0<span class="w"> </span>sco:0<span class="w"> </span>commands:54<span class="w"> </span>errors:0
<span class="w">        </span>Features:<span class="w"> </span>0xff<span class="w"> </span>0xff<span class="w"> </span>0xff<span class="w"> </span>0xfa<span class="w"> </span>0xdb<span class="w"> </span>0xbd<span class="w"> </span>0x7b<span class="w"> </span>0x87
<span class="w">        </span>Packet<span class="w"> </span>type:<span class="w"> </span>DM1<span class="w"> </span>DM3<span class="w"> </span>DM5<span class="w"> </span>DH1<span class="w"> </span>DH3<span class="w"> </span>DH5<span class="w"> </span>HV1<span class="w"> </span>HV2<span class="w"> </span>HV3
<span class="w">        </span>Link<span class="w"> </span>policy:<span class="w"> </span>RSWITCH<span class="w"> </span>HOLD<span class="w"> </span>SNIFF<span class="w"> </span>PARK
<span class="w">        </span>Link<span class="w"> </span>mode:<span class="w"> </span>PERIPHERAL<span class="w"> </span>ACCEPT
<span class="w">        </span>Name:<span class="w"> </span><span class="s1">&#39;BlueZ 5.72&#39;</span>
<span class="w">        </span>Class:<span class="w"> </span>0x6c0000
<span class="w">        </span>Service<span class="w"> </span>Classes:<span class="w"> </span>Rendering,<span class="w"> </span>Capturing,<span class="w"> </span>Audio,<span class="w"> </span>Telephony
<span class="w">        </span>Device<span class="w"> </span>Class:<span class="w"> </span>Miscellaneous,
<span class="w">        </span>HCI<span class="w"> </span>Version:<span class="w"> </span><span class="m">4</span>.1<span class="w"> </span><span class="o">(</span>0x7<span class="o">)</span><span class="w">  </span>Revision:<span class="w"> </span>0x92b7
<span class="w">        </span>LMP<span class="w"> </span>Version:<span class="w"> </span><span class="m">4</span>.1<span class="w"> </span><span class="o">(</span>0x7<span class="o">)</span><span class="w">  </span>Subversion:<span class="w"> </span>0x6f71
<span class="w">        </span>Manufacturer:<span class="w"> </span>Realtek<span class="w"> </span>Semiconductor<span class="w"> </span>Corporation<span class="w"> </span><span class="o">(</span><span class="m">93</span><span class="o">)</span>
</pre></div>
</div>
<p><strong>Modifying the Root Filesystem in the SDK</strong></p>
<p>After verifying that the compiled driver modules and firmware are functioning correctly as described previously, you can proceed to create an <code class="docutils literal notranslate"><span class="pre">update.img</span></code> for future flashing.</p>
<p>Once the Buildroot source code compilation is complete, the root filesystem image is located at:
<code class="docutils literal notranslate"><span class="pre">OK3588-linux-source/prebuilts/forlinx/buildroot/rootfs.ext4</span></code>, mount this filesystem image in your development environment, then copy the firmware and compiled modules to their respective target directories. Make the necessary modifications to the relevant files, unmount the filesystem, and recompile the <code class="docutils literal notranslate"><span class="pre">update.img</span></code>. The modifications will be reflected in the root filesystem once the newly compiled <code class="docutils literal notranslate"><span class="pre">update.img</span></code> is flashed.</p>
<p><strong>Testing</strong></p>
<p>Refer to the relevant sections of the user manual for testing instructions.</p>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>