

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Forlinx Desktop24.04_User’s Manual_V1.1 &mdash; Forlinx Embedded RK3576 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=30170994" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok3576-c/OK3576-C_Forlinx_Desktop24_04_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Forlinx Desktop 24.04_User’s Compilation Manual_V1.1" href="OK3576-C_Forlinx_Desktop24_04_User_Compilation_Manual.html" />
    <link rel="prev" title="OK3576-C_Linux6.1.84_User’s Compilation Manual_V1.0" href="OK3576-C_Linux6_1_84_User_Compilation_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK3576-C_User_Hardware_Manual.html">OK3576-C_User’s Hardware Manual_V1.3</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OK3576-C_Linux6_1_84_User_Manual.html">OK3576-C_Linux6.1.84_User’s Manual_V1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3576-C_Linux6_1_84_User_Compilation_Manual.html">OK3576-C_Linux6.1.84_User’s Compilation Manual_V1.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Forlinx Desktop24.04_User’s Manual_V1.1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ok3576-development-board-description">1. OK3576 Development Board Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1.1 OK3576 Development Board Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#introduction-to-linux-6-1-84-system-software-resources">1.2 Introduction to Linux 6.1.84 System Software Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emmc-memory-partition-table">1.3 EMMC Memory Partition Table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fast-startup">2. Fast Startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-startup">2.1 Preparation Before Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-serial-driver-installation">2.2 Debugging Serial Driver Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-login">2.3 Serial Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-connection-settings">2.3.1 Serial Port Connection Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-login-common-problems">2.3.2 Serial Login Common Problems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screen-switching">2.4 Screen Switching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-control-of-uboot-menu">2.5.1 Dynamic Control of Uboot Menu</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-shutdown">2.5 System Shutdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3576-platform-interface-function-use-and-test">3. OK3576 Platform Interface Function Use and Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#desktop-function-test">3.1 Desktop Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#virtual-keyboard-test">3.1.1 Virtual Keyboard Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-configuration-test">3.1.2 Network Configuration Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-test">3.1.3 WIFI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bluetooth-test">3.14 Bluetooth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#browser-test">3.15 Browser Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3576-command-line-tool-application-and-test">4. OK3576 Command Line Tool Application and Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-information-query">4.1 System Information Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frequency-test">4.2 Frequency Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-test">4.3 Temperature Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ddr-test">4.4 DDR Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart-test">4.5 UART Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adc-test">4.6 ADC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tf-test">4.7 TF Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emmc-test">4.8 EMMC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb-mouse-test">4.9 USB Mouse Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usb3-0">4.10 USB3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ethernet-configuration">4.11 Ethernet Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#play-record-test">4.12 Play/Record Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sound-card-view">4.12.1 Sound Card View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hdmi-playback-sound">4.12.2 HDMI Playback Sound</a></li>
<li class="toctree-l4"><a class="reference internal" href="#speaker-headphone-sound-play">4.12.3 Speaker Headphone Sound Play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mic-input">4.12.4 MIC Input</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#lcd-backlight-adjustment">4.13 LCD Backlight Adjustment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rtc-test">4.14 RTC Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#watchdog-test">4.15 Watchdog Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-test">4.16 Key Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart485-test">4.17 UART485 Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">4.18  WIFI Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sta-mode">4.18.1 STA Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap-mode">4.18.2 AP Mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">4.19 Bluetooth Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#can-test">4.20 CAN Test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#g-5g">4.21 4G/5G</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3576-platform-multimedia-test">5. OK3576 Platform Multimedia Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-and-video-playback">5.1 Audio and Video Playback</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-and-video-with-gst-play">5.1.1 Playing Audio and Video with Gst-play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-with-gst-launch">5.1.2 Playing Video with Gst-launch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-encoding">5.2 Video Hardware Encoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-264">5.2.1 Video Hardware Encoding H.264</a></li>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-265">5.2.2 Video Hardware Encoding H.265</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jpeg-hardware-encoding">5.2.3 JPEG Hardware Encoding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-decoding">5.3 Video Hardware Decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h-264-format-video">5.3.1 Decoding and Playing H.264 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h-265-format-video">5.3.2 Decoding and Playing H.265 Format Video</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#camera-test">5.4 Camera Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uvc-camera-test">5.4.1 UVC Camera Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov13855-test">5.4.2 OV13855 Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov5645-test">5.4.3 OV5645 Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-flashing">6. System Flashing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#otg-system-flashing">6.1 OTG System Flashing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otg-driver-installation">6.1.1 OTG Driver Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-full-flashing-test">6.1.2 OTG Full Flashing Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-step-programming-test">6.1.3 OTG Step Programming Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tf-card-flashing">6.2 TF Card Flashing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OK3576-C_Forlinx_Desktop24_04_User_Compilation_Manual.html">Forlinx Desktop 24.04_User’s Compilation Manual_V1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3576-C_Android_14_User_Manual.html">OK3576-C_Android14.0_User’s Manual_V1.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RK3576 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Forlinx Desktop24.04_User’s Manual_V1.1</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="forlinx-desktop24-04-user-s-manual-v1-1">
<h1>Forlinx Desktop24.04_User’s Manual_V1.1<a class="headerlink" href="#forlinx-desktop24-04-user-s-manual-v1-1" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This manual is designed to help you quickly familiarize yourselves with the product, and understand the interface functions and testing methods. It primarily covers the testing of interface functions on the development board, the methods for flashing images, and troubleshooting procedures for common issues encountered in use. In the process of testing, some commands are annotated to facilitate the user’s understanding, mainly for practical use. Please refer to “OK3576-C_Forlinx Desktop22.04_User’s Compilation Manual” provided by Forlinx for kernel compilation, related application compilation methods and development environment setup.</p>
<p>There are total six parts:</p>
<ul class="simple">
<li><p>Chapter 1. provides an overview of the product, briefly introducing the interface resources of the development board, the relevant driver paths in the kernel source code, supported flashing and booting methods, as well as explanations of key sections in the documentation;</p></li>
<li><p>Chapter 2. is the fast boot/startup of the product, which can use two ways of serial port login and network login;</p></li>
<li><p>Chapter 3. provides function test of product desktop and QT interface;</p></li>
<li><p>Chapter 4. is the command line operation of the product for functional testing;</p></li>
<li><p>Chapter 5. is the multimedia test of the product, including the playback test of the camera and the video hardware codec test;</p></li>
<li><p>Chapter 6. is the image update of the product, which mainly describes the method of updating the image to the storage device. Users can choose the corresponding flashing mode according to the actual situation.</p></li>
</ul>
<p>A description of some of the symbols and formats in the manual:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><strong>Note</strong></p></td>
<td><p>Note or information that requires special attention, be sure to read carefully</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>📚</p></td>
<td><p>Relevant notes on the test chapters</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>️🛤️️️</p></td>
<td><p>Indicates the related path.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><font style="color:blue;background-color:#d7d7d7;">Blue on gray</font></p></td>
<td><p>Refers to commands entered at the command line(Manual input required).</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><font style="color:black;background-color:#d7d7d7;">Black font on gray background</font></p></td>
<td><p>Serial port output message after entering a command</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><strong><font style="color:black;background-color:#d7d7d7;">Bold black on gray background</font></strong></p></td>
<td><p>Key information in the serial port output message</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>//</p></td>
<td><p>Interpretation of input instructions or output information</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Username&#64;Hostname</p></td>
<td><p>forlinx&#64;ok3588: Development board login account information;                                                                              forlinx&#64;ubuntu: Development environment Ubuntu account information                                                                                  Users can determine the operating environment for functional operations based on this information.</p></td>
</tr>
</tbody>
</table>
<p>Example: Check the loading status of the NXP AW9098 module driver:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ok3576:~$ lsmod                                         //View loaded module
Module                  Size  Used by
moal                  602112  0
mlan                  466944  1 moal
</pre></div>
</div>
<ul class="simple">
<li><p>forlinx &#64; ok3576: The user name is root and the host name is forlinx, which means that the root user is used to operate on the development board.</p></li>
<li><p>// : Interpretation of command operations or printed information without input;</p></li>
<li><p><font style="color:blue;">lsmod</font>：Blue font on a gray background indicates relevant commands that need to be entered manually;</p></li>
<li><p><strong><font style="background-color:#e5e5e5;">moal                  602112  0</font></strong>：The black font with gray background is the output information after the input command, and the bold font is the key information, which indicates that the NXP AW9098 module driver has been loaded.</p></li>
</ul>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading"></a></h2>
<p>This manual is mainly applicable to the Forlinx Desktop24.04 operating system on the Forlinx OK3576-C platform. Other platforms can also refer to it, but there will be differences between different platforms. Please make modifications according to the actual conditions.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Date</strong></p></th>
<th class="head text-center"><p><strong>Manual Version</strong></p></th>
<th class="head text-center"><p><strong>SoM Version</strong></p></th>
<th class="head text-center"><p><strong>Carrier Board Version</strong></p></th>
<th class="head"><p><strong>Revision History</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>04/03/2025</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>V1.1</p></td>
<td class="text-center"><p>V1.1 and Above</p></td>
<td><p>Initial Version</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>16/07/2025</p></td>
<td class="text-center"><p>V1.1</p></td>
<td class="text-center"><p>V1.2 and Above</p></td>
<td class="text-center"><p>V1.1 and Above</p></td>
<td><p>Adding 4G5G, WiFi, camera, and modifying the NIC name.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ok3576-development-board-description">
<h2>1. OK3576 Development Board Description<a class="headerlink" href="#ok3576-development-board-description" title="Link to this heading"></a></h2>
<section id="id1">
<h3>1.1 OK3576 Development Board Description<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>RK3576 processor, based on ARM64 architecture, is known for its low power consumption and high performance. It integrates 4 Cortex-A53 and 4 Cortex-A72 cores, along with dedicated NEON co-processor and NPU for neural network processing. It’s widely used in various fields such as computers, smartphones, and digital multimedia devices.</p>
<p>The connection between SoM and the carrier board is board-to-board.</p>
<p><strong>Note: The software manual no longer includes hardware parameter details. Prior to software development, please read the “OK3576-C_Hardware User’s Manual” located at “Hardware Information\User Manual” path. This manual clarifies product naming conventions and specific hardware configuration. It aids in understanding and utilizing the product effectively.</strong></p>
</section>
<section id="introduction-to-linux-6-1-84-system-software-resources">
<h3>1.2 Introduction to Linux 6.1.84 System Software Resources<a class="headerlink" href="#introduction-to-linux-6-1-84-system-software-resources" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p><strong>Device Name</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p>/sys/class/backlight</p></td>
</tr>
<tr class="row-odd"><td><p>USB Port</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>USB Mouse</p></td>
<td><p>drivers/hid/usbhid/</p></td>
<td><p>/dev/input/mice</p></td>
</tr>
<tr class="row-odd"><td><p>Ethernet</p></td>
<td><p>drivers/net/ethernet/stmicro/stmmac</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SD/micro TF card driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk1pX</p></td>
</tr>
<tr class="row-odd"><td><p>EMMC Driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk2pX</p></td>
</tr>
<tr class="row-even"><td><p>OV13850</p></td>
<td><p>drivers/media/i2c/ov13855.c</p></td>
<td><p>/dev/videoX</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Controller</p></td>
<td><p>drivers/gpu/drm/rockchip/rockchip_drm_vop.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>MIPI CSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-mipi-rx.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>MIPI DSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LCD Touch Driver</p></td>
<td><p>drivers/input/touchscreen/gt9xx/*   drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-odd"><td><p>RTC Real Time Clock Driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c   drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>serial port</p></td>
<td><p>drivers/tty/serial/8250/8250_dw.c</p></td>
<td><p>/dev/ttySX</p></td>
</tr>
<tr class="row-odd"><td><p>Key Driver</p></td>
<td><p>drivers/input/keyboard/adc-keys.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-even"><td><p>LED</p></td>
<td><p>drivers/leds/leds-gpio.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>I2S</p></td>
<td><p>sound/soc/rockchip/rockchip_i2s.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Audio Driver</p></td>
<td><p>sound/soc/codecs/nau8822.c</p></td>
<td><p>/dev/snd/</p></td>
</tr>
<tr class="row-odd"><td><p>PMIC</p></td>
<td><p>drivers/mfd/rk806.c   drivers/regulator/rk860x-regulator.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>PCIE</p></td>
<td><p>drivers/pci/controller/pcie-rockchip.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Watchdog</p></td>
<td><p>drivers/watchdog/dw_wdt.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>drivers/spi/spi-rockchip.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>PWM</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc-memory-partition-table">
<h3>1.3 EMMC Memory Partition Table<a class="headerlink" href="#emmc-memory-partition-table" title="Link to this heading"></a></h3>
<p>The following table shows the eMMC memory partition information for the Linux operating system (calculated with a block size of 512bit):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Partition Index</strong></p></th>
<th class="head"><p><strong>Name</strong></p></th>
<th class="head"><p><strong>Offset / block</strong></p></th>
<th class="head"><p><strong>Size/block</strong></p></th>
<th class="head"><p><strong>content</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>N/A</p></td>
<td><p>security</p></td>
<td><p>0x00000000</p></td>
<td><p>0x00004000</p></td>
<td><p>MiniLoaderAll.bin</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>uboot</p></td>
<td><p>0x00004000</p></td>
<td><p>0x00004000</p></td>
<td><p>uboot.img</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>misc</p></td>
<td><p>0x00006000</p></td>
<td><p>0x00002000</p></td>
<td><p>misc.img</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>boot</p></td>
<td><p>0x00008000</p></td>
<td><p>0x00020000</p></td>
<td><p>boot.img</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>recovery</p></td>
<td><p>0x00028000</p></td>
<td><p>0x00040000</p></td>
<td><p>recovery.img</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>backup</p></td>
<td><p>0x00068000</p></td>
<td><p>0x00010000</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>rootfs</p></td>
<td><p>0x00078000</p></td>
<td><p>0x01c00000</p></td>
<td><p>rootfs.img</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>oem</p></td>
<td><p>0x01c78000</p></td>
<td><p>0x00040000</p></td>
<td><p>oem.img</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>userdata</p></td>
<td><p>0x01cb8000</p></td>
<td><p>grow</p></td>
<td><p>userdata.img</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading"></a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading"></a></h3>
<p>OK3576 development board has two system login modes: Serial login and hardware preparation before system startup:</p>
<ul class="simple">
<li><p>12V3A DC Power Cable</p></li>
<li><p>Debugging serial cable (Serial Login)</p></li>
</ul>
<p>The debug serial port on the development board is a Type-C USB jack, so users can use a USB to Type-C cable to connect the development board to a PC and then check the board’s status.</p>
<ul class="simple">
<li><p>Screen: Connect the screen according to the development board interface (optional if display is not needed).</p></li>
</ul>
</section>
<section id="debugging-serial-driver-installation">
<h3>2.2 Debugging Serial Driver Installation<a class="headerlink" href="#debugging-serial-driver-installation" title="Link to this heading"></a></h3>
<p>The debugging serial port of the OK3576-C - C platform uses a Type - C interface. There is an on - board USB to UART chip, so there’s no need to purchase a USB to serial port debugging tool. It is extremely simple and convenient to use.</p>
<p>To install the driver, please use the driver package CP210x_VCP_Windows_XP_Vista.zip provided in the \ 3-Tools \ directory of the User Information.</p>
<p>Run CP210xVCPInstaller_x64.exe directly after unzipping is complete, to ensure the latest driver is installed, please click driver uninstall first, then driver install.</p>
</section>
<section id="serial-login">
<h3>2.3 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading"></a></h3>
<section id="serial-port-connection-settings">
<h4>2.3.1 Serial Port Connection Settings<a class="headerlink" href="#serial-port-connection-settings" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>Serial port settings: baud rate 115200, data bit 8, stop bit 1, no parity bit, no flow control;</strong></p></li>
<li><p><strong>Software requirements: PC Windows system needs to install the super terminal software. Because the terminal software has many types, you can choose your familiar one.</strong></p></li>
</ul>
<p>In the following, take the putty terminal software as an example to introduce the serial port login method:</p>
<p>Step 1: Connect the serial port number of the computer—check the serial port number from the device manager (Based on the port actually recognized by the computer );</p>
<p><img alt="Image" src="_images/1726214204730_e2277f30_f460_4c2b_8965_b807e4ac62ef1.png" /></p>
<p>Step 2: Open and set up putty, then set the“ line according to the COM port of the computer used, baud rate 115200;</p>
<p><img alt="Image" src="_images/1726214204934_9bb8a98b_75fb_4a89_bba4_b1acbe4a0c5c.png" /></p>
<p>Step 3: After the setting, input the COM port used by the computer in Saved Sessions. The following figure takes COM3 as an example, save the settings, open the serial port again later, and click on the saved port number;</p>
<p><img alt="Image" src="_images/1726214205145_e2882ae8_1022_497a_95ea_aa583a02e011.png" /></p>
<p>Step 4: Turn on the development board’s power switch. The serial port will print out the information output, including the username and password for Linux (no root privileges). If you need to use the root login, then the username and password are root and root, respectively.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>input-event-daemon: Adding device: /dev/input/event9...
input-event-daemon: Start listening on 12 devices...
done
root@rk3576-buildroot:/# [   37.424104] vbus5v0_typec0: disabling
[   37.424151] vbus5v0_typec1: disabling
ok3576-buildroot login: forlinx
Password:
forlinx@ok3576-buildroot:~$ 
</pre></div>
</div>
</section>
<section id="serial-login-common-problems">
<h4>2.3.2 Serial Login Common Problems<a class="headerlink" href="#serial-login-common-problems" title="Link to this heading"></a></h4>
<p>If the computer does not have a serial port, we can use the USB to serial cable to connect with the development board. ( Using a USB to serial cable connection requires the matching driver).</p>
<p>It is better to use a good quality cable to avoid error codes.</p>
</section>
</section>
<section id="screen-switching">
<h3>2.4 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading"></a></h3>
<p>OK3576 supports multiple screen interfaces such as MIPI DSI, HDMI, DP, etc., and can display three screens simultaneously or differently. There is one way to control screen switching: Uboot menu dynamic control.</p>
<p>OK3576 contains 3 display controllers, i.e. 3 VP. It supports up to 3 screens simultaneously. The maximum resolution of VP0 is 4K; the maximum resolution of VP1 is 2560x1600; the maximum resolution of VP2 is 1920x1080.</p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.5.1 Dynamic Control of Uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading"></a></h4>
<section id="display-type-setting">
<h5><strong>2.5.1.1 Display Type Setting</strong><a class="headerlink" href="#display-type-setting" title="Link to this heading"></a></h5>
<p>This method switches screens without recompiling and flashing in existing supported screens.</p>
<p>When the board is powered on and started, press the ctrl + C button on the serial port terminal, the control options will pop up:</p>
<p>As soon as the development board is powered on, press ctrl + C at the serial port terminal several times until the control option pops up.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;CTRL+C&#39;):  0
---------------------------------------------
0:Exit to console
1:Reboot
2:Display type
---------------------------------------------
</pre></div>
</div>
<p>Enter 2 at the terminal to access the Screen Control sub-menu:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
vp0==&gt;off vp1==&gt;off vp2=&gt;off
Select  display
0:Exit
1:vp0 display off
2:vp1 display off
3:vp2 display off
---------------------------------------------
</pre></div>
</div>
<p>When setting up the display, enter the serial number corresponding to the display interface and VP will be assigned to the corresponding interface. If you input again, the system will switch the available VP (Virtual Ports) for this port one by one, or close the VP assigned to this port.</p>
<p>Here, take opening the HDMI screen as an example. When entering 1 on the terminal, “vp0 display HDMI” represents opening the HDMI screen.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Writing to mmc(0)... done
---------------------------------------------
vp0==&gt;hdmi vp1==&gt;off vp2=&gt;off
Select  display
0:Exit
1:vp0 display hdmi
2:vp1 display off
3:vp2 display off
---------------------------------------------
</pre></div>
</div>
<p>If you want to open the MIPI screen and DP screen, enter the corresponding numbers 2 and 3.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
vp0==&gt;hdmi vp1==&gt;mipi vp2=&gt;dp0
Select  display
0:Exit
1:vp0 display hdmi
2:vp1 display mipi
3:vp2 display dp0
---------------------------------------------
</pre></div>
</div>
<p>After setting up, enter 0 to exit the screen selection operation.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display type
---------------------------------------------

</pre></div>
</div>
<p>Enter 1 again, reboot to restart the development board.</p>
</section>
</section>
</section>
<section id="system-shutdown">
<h3>2.5 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading"></a></h3>
<p>In general, the power can be turned off directly. If there is data storage, function use, or other operations, avoid turning off the power arbitrarily during operation to prevent irreversible damage to the file. In such cases, only re-flashing the firmware can resolve the issue. To ensure that data is not completely written, enter the sync command to complete data synchronization before turning off the power.</p>
</section>
</section>
<section id="ok3576-platform-interface-function-use-and-test">
<h2>3. OK3576 Platform Interface Function Use and Test<a class="headerlink" href="#ok3576-platform-interface-function-use-and-test" title="Link to this heading"></a></h2>
<p>This section explains how to use extended interfaces on the development board in desktop operating systems and QT interfaces. The provided testing program is for reference only; users should adjust it as needed.</p>
<section id="desktop-function-test">
<h3>3.1 Desktop Function Test<a class="headerlink" href="#desktop-function-test" title="Link to this heading"></a></h3>
<p>Forlinx Desktop system is a desktop operating system built by Forlinx on the basis of Ubuntu base. It is fully compatible with the Ubuntu 24.04 and supports apt-get. Compared with the traditional Linux system, it is easier to use.</p>
<p>The desktop is displayed as follows after the board is booted</p>
<p><img alt="Image" src="_images/1752624407567_b3b7ced4_a2d5_4120_b660_eef975765b87.png" /></p>
<section id="virtual-keyboard-test">
<h4>3.1.1 Virtual Keyboard Test<a class="headerlink" href="#virtual-keyboard-test" title="Link to this heading"></a></h4>
<p>In the desktop environment, a virtual keyboard is installed in the OK3576 Forlinx Ubuntu desktop environment to make it easier for customers to enter text without a physical keyboard. Click the icon in the upper left corner, select accessories, and click onboard.</p>
<p><img alt="Image" src="_images/1752624407665_db580622_9dd3_46e8_aa03_f1e757bf2ab4.png" /></p>
</section>
<section id="network-configuration-test">
<h4>3.1.2 Network Configuration Test<a class="headerlink" href="#network-configuration-test" title="Link to this heading"></a></h4>
<p>When OK3576 starts up, the default client startup NIC eth1, if you want to set it to static IP, you can make the following settings:</p>
<p>Click the network settings icon in the upper right corner:</p>
<p>If you want to configure eth0, click the “wired connection1” button. Set and configure in the Network option interface, click the “IPv4” tab, and configure in the “Manual” interface as follows.</p>
<p><img alt="Image" src="_images/1752624407807_11475b95_6837_42d1_a119_07ec830e3b1a.png" /></p>
<p>Click save and restart the board to change to the static IP.</p>
</section>
<section id="wifi-test">
<h4>3.1.3 WIFI Test<a class="headerlink" href="#wifi-test" title="Link to this heading"></a></h4>
<p>OK3576 platform supports 2 x WIFI Bluetooth 2-in-1 modules: AW-CM358. WIFI supports 2.4 G and 5G bands.</p>
<p>Click on the network icon in the upper right corner and select Avallable networks.</p>
<p><img alt="Image" src="_images/1752624407871_2943fe8b_cc54_443d_b7e6_e1c510287024.png" /></p>
<p>Select the wifi you want to connect to, take forlinx-wlan as an example, click forlinx-wlan and enter the password.</p>
<p><img alt="Image" src="_images/1752624407954_47acee36_666d_4f70_b629_8868cba037ef.png" /></p>
<p>Click “connect” and the connection is completed:</p>
<p><img alt="Image" src="_images/1752624408034_13f67fa7_247d_4efc_b2f8_d7e6b2eeb0cd.png" /></p>
</section>
<section id="bluetooth-test">
<h4>3.14 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading"></a></h4>
<p>This section demonstrates the use of Bluetooth for data transmission between a mobile phone and a development board.</p>
<p>Click on the Bluetooth icon in the upper right corner.</p>
<p><img alt="Image" src="_images/1752624408114_b9181d62_10d2_4b92_b140_d8325ceab252.png" /></p>
<p>Click on adapters and select Always visible.</p>
<p><img alt="Image" src="_images/1752624408188_1b0c64ef_f937_4773_9535_52b6f945eb43.png" /></p>
<p>Turn on your phone and pair it with 3576 Bluetooth. The device name is ok3576.</p>
<p><img alt="Image" src="_images/1752624408264_655addc3_9103_4649_a9cb_f51e0d2c435d.png" /></p>
<p>Click on the connection, and the following interface will pop up when connecting.</p>
<p>Click “Confirm” to complete the connection.</p>
<p>Start transmitting data below.</p>
<p><strong>1. Transfer files from mobile phone to board.</strong></p>
<p><img alt="Image" src="_images/1752624408408_b287852e_e171_434b_87d5_7d04a7d74d80.png" /></p>
<p>After selecting the file on the phone and transferring it to the board, the interface shown in the figure above will pop up. Click accept to receive the file, and after the transfer is completed, it will be displayed as shown in the figure below:</p>
<p><img alt="Image" src="_images/1752624408477_a6f84574_ca17_41dc_aa28_c45e5f938ef0.png" /></p>
<p>The transferred files will be placed in/home/worldinx/Downloads:</p>
<p><img alt="Image" src="_images/1752624408538_5ead769f_403e_42a1_8aa3_2d841df6a50c.png" /></p>
<p><strong>2. Transfer files from the board to the mobile phone:</strong></p>
<p>First, click on the Bluetooth icon and select “Send File to Device”.</p>
<p><img alt="Image" src="_images/1752624408603_6c9e5d95_1b78_4dca_ba2e_98b279058f2d.png" /></p>
<p>Enter the following interface:</p>
<p><img alt="Image" src="_images/1752624408675_6ab244e1_7381_4cb9_9a16_cc24bccce537.png" /></p>
<p>Select a file to send: Select a file under/home/worldinx or a file owned by forlinx, otherwise the transfer will fail.</p>
<p>Here, select the file that was just transferred from the mobile phone to the board. Click the 1748056613406.jpg to display the following interface:</p>
<p><img alt="Image" src="_images/1752624408750_0e4942f0_060f_434e_893d_5600ace5a427.png" /></p>
<p>Select my device (helloword).</p>
<p><img alt="Image" src="_images/1752624408826_780a7da3_6e6e_462b_ba13_546643904f0d.png" /></p>
<p>Wait for the transfer to complete and you will see the file on your phone.</p>
</section>
<section id="browser-test">
<h4>3.15 Browser Test<a class="headerlink" href="#browser-test" title="Link to this heading"></a></h4>
<p>OK3576 Ubuntu 24.04 supports Firefox browser by default, and you can use Firefox browser for search and other services.</p>
<p>The specific of operation is as follows:</p>
<p>Click the icon in the upper right corner.</p>
<p><img alt="Image" src="_images/1752624408899_5f73f6a4_a557_47d4_8e77_90536957af3c.png" /></p>
<p>Click Inetrnet and select firefox Web Broser.</p>
<p><img alt="Image" src="_images/1752624408981_2b307f93_5bc6_4ae9_ad31_671f912e67c7.png" /></p>
<p>Then you can surf the Internet normally.</p>
</section>
</section>
</section>
<section id="ok3576-command-line-tool-application-and-test">
<h2>4. OK3576 Command Line Tool Application and Test<a class="headerlink" href="#ok3576-command-line-tool-application-and-test" title="Link to this heading"></a></h2>
<p>The OK3576 platform has various built-in command line tools available to users.</p>
<section id="system-information-query">
<h3>4.1 System Information Query<a class="headerlink" href="#system-information-query" title="Link to this heading"></a></h3>
<p>To view kernel and cpu information, enter the following command</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# uname -a
Linux localhost.localdomain 6.1.84 #1 SMP Sat Dec  7 14:37:02 CST 2024 aarch64 aarch64 aarch64 GNU/Linux
</pre></div>
</div>
<p>View operating system information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~#  cat /etc/issue
Ubuntu 24.04.1 LTS \n \l
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# env
SHELL=/bin/bash
GST_V4L2_PREFERRED_FOURCC=NV12:YU12:NV16:YUY2
GST_VIDEO_CONVERT_PREFERRED_FORMAT=NV12:NV16:I420:YUY2
UMS_RO=0
GST_GL_PLATFORM=egl
COGL_DRIVER=gles2
PLAYBIN2_PREFERRED_VIDEOSINK=xvimagesink
GST_V4L2_USE_LIBV4L2=1
CREDENTIALS_DIRECTORY=/run/credentials/serial-getty@ttyFIQ0.service
UMS_MOUNTPOINT=/mnt/ums
GST_INSPECT_NO_COLORS=1
UMS_MOUNT=0
PULSE_HOME=/userdata/.pulse
WESTON_DRM_KEEP_RATIO=1
GST_DEBUG_NO_COLOR=1
PWD=/root
LOGNAME=root
XDG_SESSION_TYPE=tty
SYSTEMD_EXEC_PID=1377
UMS_SIZE=256M
HOME=/root
LANG=C.UTF-8
ADB_TCP_PORT=5555
LS_COLORS=
WESTON_FREEZE_DISPLAY=/tmp/.freeze_weston
INVOCATION_ID=01664f7458ab4731b8b2dcd002d6019b
GST_V4L2SRC_DEFAULT_DEVICE=/dev/video-camera0
AUTOVIDEOSINK_PREFERRED=xvimagesink
QT_XCB_GL_INTEGRATION=xcb_egl
LESSCLOSE=/usr/bin/lesspipe %s %s
XDG_SESSION_CLASS=user
TERM=vt220
LESSOPEN=| /usr/bin/lesspipe %s
USER=root
XSERVER_FREEZE_DISPLAY=/tmp/.freeze_xserver
UMS_FILE=/userdata/ums_shared.img
ADBD_SHELL=/bin/bash
GST_V4L2SRC_RK_DEVICES=_mainpath:_selfpath:_bypass:_scale
DISPLAY=:0
WESTON_DRM_MIRROR=1
UMS_FSTYPE=vfat
SHLVL=1
USB_FUNCS=adb
WESTON_DISABLE_ATOMIC=1
GST_GL_API=gles2
XDG_SESSION_ID=c2
XDG_RUNTIME_DIR=/run/user/0
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com
XDG_DATA_DIRS=/usr/share/gnome:/usr/local/share:/usr/share:/var/lib/snapd/desktop
HUSHLOGIN=FALSE
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
QTWEBENGINE_CHROMIUM_FLAGS=--no-sandbox --disable-es3-gl-context --ignore-gpu-blacklist --ignore-gpu-blocklist --enable-accelerated-video-decode
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/0/bus
MAIL=/var/mail/root
GST_V4L2SRC_MAX_RESOLUTION=3840x2160
GST_VIDEO_DECODER_QOS=0
_=/usr/bin/env

</pre></div>
</div>
</section>
<section id="frequency-test">
<h3>4.2 Frequency Test<a class="headerlink" href="#frequency-test" title="Link to this heading"></a></h3>
<p><strong>Note: Quad-core A53 is cpu0, cpu1, cpu2, cpu3; Quad-core A72 is cpu5, cpu6, cpu7, cpu8. This process takes cpu0 as an example: the actual process of cpu1, cpu2, cpu3 will be changed at the same time; cpu4, cpu5, cpu6, cpu7 will not affect each other when operated individually.</strong></p>
<p>All cpufreq governor types supported in the current kernel:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
conservative  ondemand  userspace  powersave  performance  schedutil
</pre></div>
</div>
<p>The userspace indicates user mode, in which other users’ programs can adjust the CPU frequency.</p>
<p>View the current CPU supported frequency level.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
408000  600000  816000  1008000  1200000  1416000  1608000  1800000
</pre></div>
</div>
<p>Set to user mode and modify the frequency to 1800000：</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# echo userspace &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@localhost:~# echo 1800000 &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>View the modified current frequency:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
1800000
</pre></div>
</div>
</section>
<section id="temperature-test">
<h3>4.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading"></a></h3>
<p>View the temperature value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# cat /sys/class/thermal/thermal_zone0/temp
45307
</pre></div>
</div>
<p>The temperature value is 45.3°C.</p>
</section>
<section id="ddr-test">
<h3>4.4 DDR Test<a class="headerlink" href="#ddr-test" title="Link to this heading"></a></h3>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# apt-get update
root@localhost:~# apt-get install memtester
root@localhost:~# memtester 1024
memtester version 4.3.0 (64-bit)
Copyright (C) 2001-2012 Charles Cazabon.
Licensed under the GNU General Public License version 2 (only).

pagesize is 4096
pagesizemask is 0xfffffffffffff000
want 1024MB (1073741824 bytes)
got  1024MB (1073741824 bytes), trying mlock ...locked.
Loop 1/1:
  Stuck Address       : ok
  Random Value        : ok
  Compare XOR         : ok
  Compare SUB         : ok
  Compare MUL         : ok
  Compare DIV         : ok
  Compare OR          : ok
  Compare AND         : ok
  Sequential Increment: ok
</pre></div>
</div>
</section>
<section id="uart-test">
<h3>4.5 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading"></a></h3>
<p>The schematic diagram of the OK3576 platform carrier board indicates the presence of UART0, UART4, UART5, and UART6, totaling 4 serial ports. UART0 is designated as the debug port, UART4 as the Bluetooth port, and UART5 and UART6 as 485 ports.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>UART</strong></p></th>
<th class="head text-center"><p><strong>Device Nodes</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>UART0</p></td>
<td class="text-center"><p></p></td>
<td><p>Debugging serial port cannot be used directly for this test.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART4</p></td>
<td class="text-center"><p>/dev/ttyS4</p></td>
<td><p>It is used for Bluetooth and is not separately pinned out and can’t be directly used for this test.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>UART5</p></td>
<td class="text-center"><p>/dev/ttyS5</p></td>
<td><p>RS485_1</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>UART6</p></td>
<td class="text-center"><p>/dev/ttyS6</p></td>
<td><p>RS485_2</p></td>
</tr>
</tbody>
</table>
<p>Testing will use two RS485 ports, UART5 and UART6. Before testing, ensure proper connection of the two RS485 interfaces: connect A to A and B to B. The two RS485 carrier board interfaces are as follows:</p>
<p><img alt="Image" src="_images/1752624410533_572d26d0_b28f_4a4d_81eb_646bfcd89445.png" /></p>
<p>Receive end</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> root@localhost:/# cat /dev/ttyS5 &amp;    //Receive data, which can be received when ttyS6 sends data
</pre></div>
</div>
<p>Send</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> root@localhost:~# echo 111111 &gt; /dev/ttyS6   ///Send data
</pre></div>
</div>
<p>Test effect:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> root@localhost:/# cat /dev/ttyS5 &amp;    //Receive data, which can be received when ttyS6 sends data
 root@localhost:~#echo 111111 &gt; /dev/ttyS6   //Send data

</pre></div>
</div>
</section>
<section id="adc-test">
<h3>4.6 ADC Test<a class="headerlink" href="#adc-test" title="Link to this heading"></a></h3>
<p>OK3576-C development board provides 8 x ADC internally, with saradc2, saradc4, saradc5, saradc6, and saradc7 accessible at port P18. These channels can be tested by connecting jumpers to the adjacent variable resistors. The hardware diagram of the ADC pins is as follows. The current chip uses a 1.8V reference voltage corresponding to a maximum value of 4096 for the 12-bit ADC. Select saradc4 for testing and use jumper caps to connect pins 3 and 4 of port P18.</p>
<p><img alt="Image" src="_images/1752624410607_c07c6362_f715_4af1_9fd9_706d7c9636f8.png" /></p>
<p>Test adjustable resistance value</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# cd /sys/bus/iio/devices/iio:device0
root@localhost:/sys/bus/iio/devices/iio:device0# cat in_voltage2_raw
3516
</pre></div>
</div>
</section>
<section id="tf-test">
<h3>4.7 TF Test<a class="headerlink" href="#tf-test" title="Link to this heading"></a></h3>
<p><strong>Description: The SD card mount directory is /run/media/ and supports hot-swapping.</strong></p>
<p>1. Insert the TF card into the TF card slot on the carrier board before powe-up . Then power up and start, run the command dmesg, and the terminal will have the following printed information:</p>
<p><img alt="Image" src="_images/1718954319110_be6979a7_9b12_4eb3_bd31_46c8ef047708.png" /></p>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~#  mount | grep &quot;mmcblk1p1&quot;
/dev/mmcblk1p1 on /run/media/mmcblk1p1 type fuseblk (rw,relatime,sync,user_id=0,group_id=0,allow_other,blksize=4096)
</pre></div>
</div>
<p>3. Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/dev/zero of=/run/media/mmcblk1p1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 43.4478 s, 12.1 MB/s
</pre></div>
</div>
<p>4. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/run/media/mmcblk1p1/test of=/dev/null bs=1M
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 11.3724 s, 46.1 MB/s
</pre></div>
</div>
<p>5. After using the TF card, uninstall it with umount before ejecting it.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# umount /run/media/mmcblk1p1
</pre></div>
</div>
<p><strong>Note: Plug and unplug the TF card after exiting the TF card mounting path.</strong></p>
</section>
<section id="emmc-test">
<h3>4.8 EMMC Test<a class="headerlink" href="#emmc-test" title="Link to this heading"></a></h3>
<p>The OK3576 platform eMMC runs in HS400 mode 400MHz clock by default. The following is a simple eMMC read/write speed test: taking the read/write ext4 file system as an example.</p>
<p>Write test:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/dev/zero of=/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 3.04244 s, 172 MB/s
</pre></div>
</div>
<p>Read test：</p>
<p>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/test of=/dev/null bs=1M
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 1.66193 s, 315 MB/s
</pre></div>
</div>
</section>
<section id="usb-mouse-test">
<h3>4.9 USB Mouse Test<a class="headerlink" href="#usb-mouse-test" title="Link to this heading"></a></h3>
<p>Connect the USB mouse to the USB interface of the OK3576 platform and use the dmesg command, the serial terminal prints the following information:</p>
<p><img alt="Image" src="_images/1752624410666_cde5c787_464d_4b88_a517_22e933abc8b7.png" /></p>
<p>At this time, the arrow cursor appears on the screen, the mouse can work normally.</p>
</section>
<section id="usb3-0">
<h3>4.10 USB3.0<a class="headerlink" href="#usb3-0" title="Link to this heading"></a></h3>
<p>OK3576 supports 1 x USB 2.0 interface. You can connect a USB mouse, USB keyboard, USB flash drive ,and other devices on any of the on-board USB HOST ports, and it supports hot-swapping of the above devices. Demonstration with a mounting USB flash drive, the current USB flash drive test support up to 32G, but no test for 32G or above.</p>
<p>The terminal prints information about the USB flash drive, and since many types of USB flash drives exist, the information displayed may vary:</p>
<p>1. After the development board booting, connect the USB interface disk to the USB host interface of the development board. The default log print information is low, so there will be no print information. Use the dmesg command to view and get information about the USB flash drive.</p>
<p><img alt="Image" src="_images/1752624410725_7e412a05_c27e_4429_80a8_d678be8c6441.png" /></p>
<p>2. Check the mount directory:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# mount | grep &quot;sda1&quot;
/dev/sda1 on /run/media/sda1 type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=936,iocharset=utf8,shortname=mixed,errors=remount-ro)
</pre></div>
</div>
<p>We can see the USB mount directory: /run/media/sda1</p>
<p>3. View the contents of the U disk (sda1 is based on the actual USB flash drive partition name).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# ls -l /run/media/sda1/
total 8
drwxrwx--- 2 root disk 8192 Sep 23  2021 &#39;System Volume Information&#39;
-rwxrwx--- 1 root disk    0 Apr 25 09:25  test
</pre></div>
</div>
<p>4. Write test: Write speeds are limited by the specific storage device:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/dev/zero of=/run/media/sda1/test bs=1M count=500 conv=fsync
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 28.8323 s, 18.2 MB/s
</pre></div>
</div>
<p>5. Read test:</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# dd if=/run/media/sda1/test of=/dev/null bs=1M
500+0 records in
500+0 records out
524288000 bytes (524 MB, 500 MiB) copied, 25.0096 s, 21.0 MB/s
</pre></div>
</div>
<p>6. After using a USB flash drive, before removing the USB flash drive, you need to use the “umount” command to unmount it.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# umount /run/media/sda1
</pre></div>
</div>
<p><strong>Note: Exit the USB flash drive mount path before plugging and unplugging the USB flash drive.</strong></p>
</section>
<section id="ethernet-configuration">
<h3>4.11 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading"></a></h3>
<p>OK3576-C has 2 x Gigabit NIC on board, which are configured as dynamic IP by factory default (with a network connection).</p>
<p>To view current network connections in Network Manager:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# nmcli con show
NAME                   UUID                                  TYPE      DEVICE
Wired Connection 1  84d6f13b-2f7d-4ef0-ae3a-3aab698a89fc  ethernet  eth0
lo                     a296ca22-67e7-48c9-b7b3-6e9a29814c1d  loopback  lo
Wired Connection 2  454b^Cc7-3596-4e3f-8cc1-8b4^Cf3b9e77  ethernet  --
</pre></div>
</div>
<p>Here, the name of the network connection for eth0 in Network Manager is “Wired connection 1”.</p>
<p>Set the static configuration IP. For example, set the IP of eth0 as 172.20.0.114:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# nmcli con mod &#39;Wired Connection 1&#39; ipv4.method manual ipv4.addresses 172.20.0.114/24 ipv4.gateway 172.20.0.1 ipv4.dns 8.8.8.8 connection.autoconnect yes

</pre></div>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Meaning</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>con mod</p></td>
<td><p>Used to specify the name of the network connection that requires a fixed IP</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>ipv4.address</p></td>
<td><p>Used to specify that the IPv4 address and subnet mask need to be fixed</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Ipv4.gateway</p></td>
<td><p>Used to specify an Ipv4 gateway</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>ipv4.dns</p></td>
<td><p>Used to specify Ipv4 DNS</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>connection.autoconnect</p></td>
<td><p>Used to set up automatic connection</p></td>
</tr>
</tbody>
</table>
<p>After setting, the network connection is activated, and the configuration takes effect.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~#nmcli con up &#39;Wired Connection 1&#39;                               
</pre></div>
</div>
</section>
<section id="play-record-test">
<h3>4.12 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading"></a></h3>
<p>OK3576 provides the NAU88C22YG chip, 1 x standard 3.5mm audio jack, 1 x XH2.0-2P white socket P25 lead-out, and 1 x PH2.0-4P white socket P48 lead-out. It can drive an 8Ω speaker with a maximum output power of 1W. Before conducting playback tests, please connect the prepared headphones to the headphone jack or insert the speaker into the corresponding slot on the carrier board for testing.</p>
<section id="sound-card-view">
<h4>4.12.1 Sound Card View<a class="headerlink" href="#sound-card-view" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> root@localhost:/#aplay -l  //Check the sound card
 **** List of PLAYBACK Hardware Devices ****
 card 0: rockchiphdmi [rockchip-hdmi], device 0: rockchip-hdmi i2s-hifi-0 [rockchip-hdmi i2s-hifi-0]
 Subdevices: 1/1
 Subdevice #0: subdevice #0
 card 1: rockchipnau8822 [rockchip-nau8822], device 0: dailink-multicodecs nau8822-hifi-0 [dailink-multicodecs nau8822-hifi-0]
 Subdevices: 1/1
 Subdevice #0: subdevice #0  Subdevice #0: subdevice #0 |

</pre></div>
</div>
</section>
<section id="hdmi-playback-sound">
<h4>4.12.2 HDMI Playback Sound<a class="headerlink" href="#hdmi-playback-sound" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# &lt;font style=&quot;color:#0000FF;&quot;&gt;gst-play-1.0 /userdata/piano2-CoolEdit.mp3 --audiosink=&quot;alsasink device=plughw:0,0&quot;&lt;/font&gt; 

</pre></div>
</div>
</section>
<section id="speaker-headphone-sound-play">
<h4>4.12.3 Speaker Headphone Sound Play<a class="headerlink" href="#speaker-headphone-sound-play" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# amixer -c 1                           // Query audio parameters
root@localhost:/# amixer -c 1 sset Headphone 63,63      // Set the headphone volume
root@localhost/# amixer -c 1 sset Speaker 63,63      // Set the speaker volume
root@localhost:/# gst-play-1.0 /userdata/piano2-CoolEdit.mp3 --audiosink=&quot;alsasink device=plughw:1,0&quot;
</pre></div>
</div>
<p>Without inserting headphones, sound will be played from the speaker interface. Simply connect a speaker to hear the sound. Insert the headphones into the headphone interface, and the sound will be played through the it.</p>
</section>
<section id="mic-input">
<h4>4.12.4 MIC Input<a class="headerlink" href="#mic-input" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# arecord -l 
**** List of CAPTURE Hardware Devices ****
card 0: rockchipnau8822 [rockchip-nau8822], device 0: dailink-multicodecs nau8822-hifi-0 [dailink-multicodecs nau8822-hifi-0]
Subdevices: 1/1
Subdevice #0: subdevice #0
card 1: rockchiphdmi [rockchip-hdmi], device 0: rockchip-hdmi i2s-hifi-0 [rockchip-hdmi i2s-hifi-0]
Subdevices: 1/1
Subdevice #0: subdevice #0
root@localhost:/# arecord -D hw:1,0 -d 5 -f cd -t wav test1.wav         // Record sound for 5 seconds and save it in WAV format
root@localhost:/# aplay -D plughw:1,0 test1.wav   // Play the recorded sound using the speaker or headphone 

</pre></div>
</div>
</section>
</section>
<section id="lcd-backlight-adjustment">
<h3>4.13 LCD Backlight Adjustment<a class="headerlink" href="#lcd-backlight-adjustment" title="Link to this heading"></a></h3>
<p>Backlight level range (0–255), maximum level 255, 0 indicating turn off. After connecting the mipi screen on the mipi dsi0, power up and start. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<p>1. View supported backlight models</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# ls /sys/class/backlight
backlight Display the currently supported backlight model |

</pre></div>
</div>
<p>The following is an example of dsi0</p>
<p>1. View the current screen backlight value:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# cat /sys/class/backlight/backlight/brightness
200                    //The current backlight value is 200

</pre></div>
</div>
<p>2. Backlight is off:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span> root@localhost:/# echo 0 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
<p>3. LCD backlight is on:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:/# echo 125 &gt; /sys/class/backlight/backlight/brightness
</pre></div>
</div>
</section>
<section id="rtc-test">
<h3>4.14 RTC Test<a class="headerlink" href="#rtc-test" title="Link to this heading"></a></h3>
<p><strong>Note: Ensure button cell batteries are installed &amp; voltage is normal.</strong></p>
<p>RTC test: The main way to set the software and hardware time is by using the date and hwclock utilities. When performing the board power-down and power-up test, the software clock reads whether the RTC clock is synchronized or not.</p>
<p>Time setting</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# date -s &quot;2022-12-12 17:23:00&quot;       // Set the software time
Mon Dec 12 17:23:00 UTC 2022
root@ok3576:/# hwclock -wu				        // Synchronize the software time to the hardware time
root@ok3576:/# hwclock -r					        // Display the hardware time
Mon Dec 12 17:23:26 2022  0.000000 seconds
</pre></div>
</div>
<p>Then power down and power up the board, enter the system, and read the system time. After that, we can see that the time has synchronized.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@rk3576:/# date
Mon Dec 12 17:23:50 UTC 2022
</pre></div>
</div>
</section>
<section id="watchdog-test">
<h3>4.15 Watchdog Test<a class="headerlink" href="#watchdog-test" title="Link to this heading"></a></h3>
<p>Watchdog is a function often used in embedded systems. The device node of watchdog in OK3576 is /dev/watchdog. This test provides two test procedures, and the user selects one test according to the actual situation.</p>
<ul class="simple">
<li><p>Start the watchdog, set the reset time to 10s, and kick the dog regularly.</p></li>
</ul>
<p>If usingfltest_watchdog, it turns on the watchdog and kick it, so the system does not reboot.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# fltest_watchdog
Watchdog Ticking Away!
</pre></div>
</div>
<p>When using ctrl+c to end the test program, kicking the dog is stopped, the watchdog is on, and the system is reset after 10s.</p>
<p>If you do not want to reset, enter the shutdown watchdog command within 10s after finishing the program:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# fltest_watchdog -d                                          //Turn off the watchdog
</pre></div>
</div>
<ul class="simple">
<li><p>Start watchdog, set reset time 10s, do not kick the watchdog.</p></li>
</ul>
<p>Execute the command fltest_watchdogrestart, this command will turn on the watchdog but will not kick the watchdog and the system will reboot after 10s.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# fltest_watchdogrestart
</pre></div>
</div>
</section>
<section id="key-test">
<h3>4.16 Key Test<a class="headerlink" href="#key-test" title="Link to this heading"></a></h3>
<p>Use the fltest _ keytest command line tool to test the keys. At present, the fltest _ keytest supports the test of the four keys VOL + and VOL- on the carrier board, and the key codes are 115 and 114 respectively.</p>
<p>Execute the following command:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576 :/# fltest_keytest
</pre></div>
</div>
<p>At this point, press the lift button in sequence, and the following can be output on the terminal:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>key115 Presse                                                         // VOL+press
key115 Released                                                       // VOL+release
key114 Presse                                                         // VOL-press
key114 Released                                                       // VOL-release
</pre></div>
</div>
</section>
<section id="uart485-test">
<h3>4.17 UART485 Test<a class="headerlink" href="#uart485-test" title="Link to this heading"></a></h3>
<p>The schematic diagram of the OK3576 platform carrier board indicates the presence of UART0, UART4, UART5, and UART6, totaling 4 serial ports. UART0 is designated as the debug port, UART4 as the Bluetooth port, and UART5 and UART6 as 485 ports.</p>
<p><img alt="Image" src="_images/1752624410803_60803011_d8f8_4d61_8348_4ed4b9232462.png" /></p>
<p>Testing will use two RS485 ports, UART5 and UART6. Before testing, ensure proper connection of the two RS485 interfaces: connect A to A and B to B. The two RS485 carrier board interfaces are as follows:</p>
<p><img alt="Image" src="_images/1752624410870_60414dee_6ffb_403f_9503_5cb0e70dbcb2.png" /></p>
<p>Use two terminals to log in to the board, one UART0 debug port and the other using SSH.</p>
<p>Debug terminal</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Use two terminal sessions to log in to the development board. One session uses the UART0 debug port, and the other uses SSH to log in.

Debug terminal
</pre></div>
</div>
<p>SSH terminal</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:~# cat /dev/ttyS6     // Receive data. You can receive data when data is sent from ttyS5.
123456

root@ok3576:~# echo 111111 &gt; /dev/ttyS6     // Send data
</pre></div>
</div>
</section>
<section id="id2">
<h3>4.18  WIFI Test<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>The network environment is different, so please set it according to the actual situation when you do this experiment.</strong></p></li>
</ul>
<p>OK3576 platform supports the AW-CM358 WIFI Bluetooth 2-in-1 module.</p>
<p><strong>Note: Currently, the AP and STA modes cannot be used simultaneously on the OK3576 development board. If you want to use the AP mode, please turn off the corresponding AP first according to the configuration method of the AT mode.</strong></p>
<section id="sta-mode">
<h4>4.18.1 STA Mode<a class="headerlink" href="#sta-mode" title="Link to this heading"></a></h4>
<p>This mode is used as a station to connect to the wireless network. In the following test, the router uses WPA encryption, the connected wifi hotspot name is: forlinx-wlan, and the password is: fl03123102650. Due to the different network environments, users should set up according to the actual situation when conducting this test:</p>
<p>Execute OK3576 _ sta. sh or enter directly.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>nmcli dev wifi connect forlinx-wlan password fl03123102650 ifname wlan0
</pre></div>
</div>
<p>If the connection is successful, the following will be printed:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576: OK3576_sta.sh
Device &#39;wlan0&#39; successfully activated with &#39;4277e39b-8043-483e-b1a2-968862d5850d&#39;.
</pre></div>
</div>
<p>Turn off STA, that is, disconnect the current WiFi connection. You need to execute the following command.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>nmcli device disconnect wlan0
</pre></div>
</div>
</section>
<section id="ap-mode">
<h4>4.18.2 AP Mode<a class="headerlink" href="#ap-mode" title="Link to this heading"></a></h4>
<p>The connection in STA mode needs to be closed before using AP mode.</p>
<p>First use the nmcli show command to see which AP node is currently attached.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# nmcli device
DEVICE         TYPE      STATE                   CONNECTION
eth0           ethernet  connected               Wired connection 1
wlan0          wifi      connected               forlinx-wlan
lo             loopback  connected (externally)  lo
uap0           wifi      disconnected            --
wfd0           wifi      disconnected            --
p2p-dev-uap0   wifi-p2p  disconnected            --
p2p-dev-wfd0   wifi-p2p  disconnected            --
p2p-dev-wlan0  wifi-p2p  disconnected            --
eth1           ethernet  unavailable             --
can0           can       unmanaged               --
can1           can       unmanaged               --

</pre></div>
</div>
<p>You can see that the currently connected node is forlinx-wlan. Turn off forlinx-wlan.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# nmcli connection delete forlinx-wlan
Connection &#39;forlinx-wlan&#39; (4277e39b-8043-483e-b1a2-968862d5850d) successfully deleted.
</pre></div>
</div>
<p>Repeat until no AP is available.</p>
<p>Use the OK3576 _ AP. sh to create an AP hotspot named OK3576-test-AP.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# OK3576_AP.sh
Error: unknown connection &#39;OK3576-test-AP&#39;.
Error: cannot delete unknown connection(s): &#39;OK3576-test-AP&#39;.
Warning: Extension MASQUERADE revision 0 not supported, missing kernel module?
iptables v1.8.10 (nf_tables):  CHAIN_ADD failed (No such file or directory): chain POSTROUTING
Chain &#39;MASQUERADE&#39; does not exist. Switching iptables version...
update-alternatives: using /usr/sbin/iptables-legacy to provide /usr/sbin/iptables (iptables) in manual mode
net.ipv4.ip_forward = 1
Connection &#39;OK3576-test-AP&#39; (06d788bd-be8c-4005-9670-c82d038dadf7) successfully added.
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/13)

</pre></div>
</div>
<p>The network provider here is eth0, and the you can modify the/usr/bin/OK3576 _ AP. sh to change the relevant settings.</p>
<p>Note: This setting is static, so if the setting is successful, the development board will turn on the AP mode directly. However, this AP does not have a network, so if the you want to have a network AP every time he boots up, he needs to add the following command to the boot script.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE`
</pre></div>
</div>
<p>For example, add to/etc/rcS. D/S11-wifibt. sh.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
insmod /data/mlan.ko
insmod /data/moal.ko cal_data_cfg=none fw_name=sdiouart8987_combo_v0.bin sta_namm
e=wlan cfg80211_wext=12
sleep 5
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

</pre></div>
</div>
<p>The network that automatically creates IP and uses eth0 can be realized every restart.</p>
</section>
</section>
<section id="id3">
<h3>4.19 Bluetooth Test<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>The AW-CM358 module on the OK3576 carrier board integrates Bluetooth. This section demonstrates data transfer via Bluetooth between a cell phone and the development board. It can support Bluetooth up to 5.0. Note that before testing Bluetooth, you need to follow the instructions in the previous section “WiFi Test” to load the WiFi module and firmware.</p>
<p>1. Bluetooth Configuration</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# bluetoothctl                                       // Open the BlueZ Bluetooth tool
[NEW] Controller B8:4D:43:12:43:6F forlinx [default]
Agent registered
[bluetooth]# power on                                    // Turn on the Bluetooth device
Changing power on succeeded
[bluetooth]# pairable on                                  // Set it to pairing mode
Changing pairable on succeeded
[bluetooth]# discoverable on                              // Set it to discoverable mode
[bluetooth]# [ 1547.589820] Bluetooth: hu ffffffc066059c00 retransmitting 1 pkts
Changing discoverable on succeeded
[CHG] Controller B8:4D:43:12:43:6F Discoverable: yes
[bluetooth]# agent on                                    // Start the agent
Agent is already registered
[bluetooth]# default-agent                                // Set the current agent as the default
Default agent request successful
[bluetooth]# scan on                                      // Turn on scanning to search for devices to connect
[CHG] Device 6C:2A:10:D8:4F:18 RSSI: 0xffffffb1 (-79)
[DEL] Device 25:B1:38:2B:50:3D 25-B1-38-2B-50-3D
[NEW] Device 25:B1:38:2B:50:3D 25-B1-38-2B-50-3D
[CHG] Device 6C:2A:10:D8:4F:18 RSSI: 0xffffffba (-70)
[CHG] Device 6C:2A:10:D8:4F:18 RSSI: 0xffffffae (-82)
[NEW] Device 3C:13:5A:A1:C8:B5 Redmi K60
[bluetooth]# pair 3C:13:5A:A1:C8:B5                         // Pair with the MAC address of the device to connect
Attempting to pair with 3C:13:5A:A1:C8:B5
[CHG] Device 3C:13:5A:A1:C8:B5 Connected: yes
Request confirmation
[agent] Confirm passkey 628193 (yes/no): yes
[CHG] Device 3C:13:5A:A1:C8:B5 Bonded: yes
[CHG] Device 3C:13:5A:A1:C8:B5 Modalias: bluetooth:v038Fp1200d1436
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001105-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001112-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001116-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000112f-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001132-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001800-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 00001801-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000fcc0-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000fcc0-36a2-11ea-8467-484d7e99a198
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 0000fdaa-0000-1000-8000-00805f9b34fb
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: 98b97136-36a2-11ea-8467-484d7e99a198
[CHG] Device 3C:13:5A:A1:C8:B5 UUIDs: ada499be-27d6-11ec-9427-0a80ff2603de
[CHG] Device 3C:13:5A:A1:C8:B5 ServicesResolved: yes
[CHG] Device 3C:13:5A:A1:C8:B5 Paired: yes             //Enter yes
Pairing successful
[bluetooth]# scan off                                    //Turn off scanning
Discovery stopped
[CHG] Device 35:A5:1D:93:B8:E9 RSSI is nil
[DEL] Device 35:A5:1D:93:B8:E9 35-A5-1D-93-B8-E9
[CHG] Device 35:06:37:F3:97:9D RSSI is nil
[DEL] Device 35:06:37:F3:97:9D 35-06-37-F3-97-9D
[CHG] Controller 20:0B:74:35:2F:5A Discovering: no
[bluetooth]# connect 3C:13:5A:A1:C8:B5                    //Connect the mac of the device you want to connect
Attempting to connect to 3C:13:5A:A1:C8:B5
[CHG] Device 3C:13:5A:A1:C8:B5 Connected: yes
[NEW] Endpoint /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1
[NEW] Transport /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1/fd0
Connection successful
[DEL] Device 63:35:1D:74:AA:A1 63-35-1D-74-AA-A1
[Redmi K60]# [ 4619.269366] input: Redmi K60 (AVRCP) as /devices/virtual/input/input11
[NEW] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 [default]
[Redmi K60]# [01:16:58.016] event11 - Redmi K60 (AVRCP): is tagged by udev as: Keyboard
[01:16:58.016] event11 - Redmi K60 (AVRCP): device is a keyboard
[01:16:58.017] libinput: configuring device &quot;Redmi K60 (AVRCP)&quot;.
[01:16:58.017] associating input device event11 with output DSI-1 (none by udev)
[CHG] Device 3C:13:5A:A1:C8:B5 ServicesResolved: yes
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Repeat: off
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Shuffle: off
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Type: Audio
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Subtype: Audio Book
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Status: stopped
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Name: Music Player
[CHG] Transport /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1/fd0 Volume: 0x0055 (85)
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Status: paused
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: Title
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: unknow
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: TrackNumber
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: 0x00000000 (0)
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: NumberOfTracks
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: 0x00000000 (0)
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: Duration
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: 0x00000000 (0)
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: Album
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: unknow
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: Artist
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value: unknow
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Key: Genre
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Track Value:
[CHG] Player /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/player0 Position: 0x00000000 (0)
[DEL] Device 44:03:8E:A3:79:07 44-03-8E-A3-79-07
[CHG] Transport /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1/fd0 Volume: 0x007f (127)
[Redmi K60]# W: [pulseaudio] module-loopback.c: Configured latency of 200.00 ms is smaller than minimum latency, using minimum instead
W: [pulseaudio] module-loopback.c: Cannot set requested sink latency of 35.20 ms, adjusting to 39.91 ms
W: [pulseaudio] module-loopback.c: Cannot set requested source latency of 66.67 ms, adjusting to 250.00 ms
[CHG] Transport /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1/fd0 Volume: 0x0055 (85)
[DEL] Device D1:B1:46:9D:F9:C6 Mi Smart Band 4
[DEL] Device 64:F7:FF:12:32:2A 64-F7-FF-12-32-2A
[DEL] Device 7E:84:48:D0:B8:CA 7E-84-48-D0-B8-CA
[DEL] Device 6D:8B:09:A7:89:8F 6D-8B-09-A7-89-8F
[DEL] Device 46:CB:AA:35:D6:01 46-CB-AA-35-D6-01
[DEL] Device 5E:FB:3A:DF:A7:BC 5E-FB-3A-DF-A7-BC
[DEL] Device 66:56:59:68:0F:06 66-56-59-68-0F-06
[DEL] Device BE:F4:D4:08:7E:D6 BE-F4-D4-08-7E-D6
[DEL] Device 47:70:48:8E:72:9E 47-70-48-8E-72-9E
[DEL] Device 76:1F:77:CF:A9:E9 76-1F-77-CF-A9-E9
[DEL] Device 76:36:16:6E:CF:B6 76-36-16-6E-CF-B6
[DEL] Device 6C:2A:10:D8:4F:18 6C-2A-10-D8-4F-18
[CHG] Transport /org/bluez/hci0/dev_3C_13_5A_A1_C8_B5/sep1/fd0 Volume: 0x007f (127)
Authorize service
[agent] Authorize service 00001108-0000-1000-8000-00805f9b34fb (yes/no): [DEL] Device D4:BB:E6:8E:BB:B0 mywifi
[agent] Authorize service 00001108-0000-1000-8000-00805f9b34fb (yes/no): [DEL] Device 4C:50:77:0F:3B:2C huawei111
[agent] Authorize service 00001108-0000-1000-8000-00805f9b34fb (yes/no): [DEL] Device 24:DA:33:C9:10:86 CON
[agent] Authorize service 00001108-0000-1000-8000-00805f9b34fb (yes/no): yes  //输入yes
</pre></div>
</div>
<p>When the development board is connected to the smartphone, it appears as a Bluetooth headset.</p>
<p>After successful connection, the files on the mobile phone can be shared to the development board through Bluetooth.</p>
<p>The received files are in the /tmp directory.</p>
<p>At the same time, we can also send the files on the development board to the mobile phone.</p>
</section>
<section id="can-test">
<h3>4.20 CAN Test<a class="headerlink" href="#can-test" title="Link to this heading"></a></h3>
<p>The OK3576-C platform has two CAN bus interfaces and connection methods: Connection of the H terminal of CAN to other CAN devices; connection of the L terminal of CAN to other CAN devices.</p>
<p>Short-circuit CAN0 and CAN1, as shown：</p>
<p><img alt="Image" src="_images/1752624410942_cdbb3d26_47c1_4690_9254_70de757cdb6a.png" /></p>
<p>Execute the following command in the development board terminal:</p>
<p>1. View CAN network devices</p>
<p>root&#64;ok3576:/#<font style="color:#0000ff;">ifconfig -a</font></p>
<p>can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>      NOARP  MTU:16  Metric:1

      RX packets:0 errors:0 dropped:0 overruns:0 frame:0

      TX packets:0 errors:0 dropped:0 overruns:0 carrier:0

      collisions:0 txqueuelen:10

      RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

      Interrupt:62
</pre></div>
</div>
<p>can1      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>      NOARP  MTU:16  Metric:1

      RX packets:0 errors:0 dropped:0 overruns:0 frame:0

      TX packets:0 errors:0 dropped:0 overruns:0 carrier:0

      collisions:0 txqueuelen:10

      RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

      Interrupt:63
</pre></div>
</div>
<p>eth0      Link encap:Ethernet  HWaddr 36:6B:4A:1E:01:49</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>      inet addr:172.20.0.117  Bcast:0.0.0.0  Mask:255.255.255.0

      UP BROADCAST MULTICAST  MTU:1500  Metric:1

      RX packets:0 errors:0 dropped:0 overruns:0 frame:0

      TX packets:0 errors:0 dropped:0 overruns:0 carrier:0

      collisions:0 txqueuelen:1000

      RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

      Interrupt:64
</pre></div>
</div>
<p>eth1      Link encap:Ethernet  HWaddr 3A:6B:4A:1E:01:49</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>      UP BROADCAST MULTICAST  MTU:1500  Metric:1

      RX packets:0 errors:0 dropped:0 overruns:0 frame:0

      TX packets:0 errors:0 dropped:0 overruns:0 carrier:0

      collisions:0 txqueuelen:1000

      RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

      Interrupt:66
</pre></div>
</div>
<p>lo        Link encap:Local Loopback</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>      inet addr:127.0.0.1  Mask:255.0.0.0

      inet6 addr: ::1/128 Scope:Host

      UP LOOPBACK RUNNING  MTU:65536  Metric:1

      RX packets:64 errors:0 dropped:0 overruns:0 frame:0

      TX packets:64 errors:0 dropped:0 overruns:0 carrier:0

      collisions:0 txqueuelen:1000

      RX bytes:3824 (3.7 KiB)  TX bytes:3824 (3.7 KiB)
</pre></div>
</div>
<p>2. Set CAN0 and CAN1 parameters</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# ip link set can0 down

root@ok3576:/# ip link set can0 type can bitrate 1000000 sample-point 0.8 dbitrate 2000000 sample-point 0.8 fd on

root@ok3576:/# ip link set can1 down

root@ok3576:/# ip link set can1 type can bitrate 1000000 sample-point 0.8 dbitrate 2000000 sample-point 0.8 fd on
</pre></div>
</div>
<p>Set the baud rate of the can0 and can1 devices to 500000</p>
<p>3. Open the can device</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/#ip link set can0 up

root@ok3576:/# echo 4096 &gt; /sys/class/net/can0/tx_queue_len

root@ok3576:/# ip link set can1 up

root@ok3576:/#echo 4096 &gt; /sys/class/net/can1/tx_queue_len
</pre></div>
</div>
<p>4. Client sending data; Server receiving data</p>
<p>The can0 device acts as a server (the server first executes the following command).</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# candump can0&amp;
</pre></div>
</div>
<p>can1 device as a client (client sends data)</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# cansend can1 1F334455#1122334455667788
</pre></div>
</div>
</section>
<section id="g-5g">
<h3>4.21 4G/5G<a class="headerlink" href="#g-5g" title="Link to this heading"></a></h3>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>When using the IoT card to test, the module firmware version needs to be confirmed, the low firmware version is not supported, and</strong> EM05 <strong>needs to be upgraded;</strong></p></li>
<li><p><strong>Some IoT cards require a dedicated account number and password when dialing, and users adjust the commands according to the situation;</strong></p></li>
<li><p><strong>The quectelCM –help command allows you to see the meaning of the relevant parameters;</strong></p></li>
<li><p><strong>For switching between 4G and 5G, it is necessary to use the S2 switch on the carrier board</strong></p></li>
</ul>
<p>OK3576 supports 4G module EM05 and 5G module RM500U. Connect the 4G/5G module to the development board before powering on, insert the SIM card, and start the development board.</p>
<p>1. After connecting the module and powering up the board and module, check the USB status through the lsusb command.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/#lsusb
Bus 002 Device 002: ID 04b4:6500
Bus 001 Device 001: ID 1d6b:0002
Bus 001 Device 004: ID 0000:3825
Bus 001 Device 003: ID 09da:2268
Bus 001 Device 002: ID 04b4:6502
Bus 002 Device 003: ID 0781:5591
Bus 002 Device 001: ID 1d6b:0003
**Bus 001 Device 005: ID 2c7c:0125                            //EM05 VID and PID
</pre></div>
</div>
<p>View device node status under /dev</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# ls /dev/ttyUSB*
/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2  /dev/ttyUSB3 
</pre></div>
</div>
<p>2. After the equipment is successfully identified, the dial-up Internet access test can be conducted. fltest_quectel.sh calls quectelCM, see /usr/bin/fltest_quectel.sh for specific commands</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# quectelCM &amp;
</pre></div>
</div>
<p>Printing information is as follows:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[04-23_05:32:27:029]Quectel_QConnectManager_Linux_V1.6.0.24
[04-23_05:32:27:030] Find /sys/bus/usb/devices/1-1.4 idVendor=0x2c7c idProduct=0x125, bus=0x001, dev=0x005
[04-23_05:32:27:030] Auto find qmichannel = /dev/cdc-wdm0
[04-23_05:32:27:030] Auto find usbnet_adapter = wwan0
[04-23_05:32:27:030] netcard driver = qmi_wwan, driver version = 6.1.57
[04-23_05:32:27:031] Modem works in QMI mode
[04-23_05:32:27:034] cdc_wdm_fd = 7
[04-23_05:32:27:115] Get clientWDS = 7
[04-23_05:32:27:147] Get clientDMS = 1
[04-23_05:32:27:179] Get clientNAS = 2
[04-23_05:32:27:210] Get clientUIM = 1
[04-23_05:32:27:243] Get clientWDA = 1
[04-23_05:32:27:275] requestBaseBandVersion EM05CEFCR06A04M1G_ND
[04-23_05:32:27:403] requestGetSIMStatus SIMStatus: SIM_READY
[04-23_05:32:27:435] requestGetProfile[1] cmnet///0/IPV4V6
[04-23_05:32:27:467] requestRegistrationState2 MCC: 460, MNC: 0, PS: Attached, DataCap: LTE
[04-23_05:32:27:499] requestQueryDataCall IPv4ConnectionStatus: DISCONNECTED
[04-23_05:32:27:499] ifconfig wwan0 0.0.0.0
[04-23_05:32:27:507] ifconfig wwan0 down
[04-23_05:32:27:563] requestSetupDataCall WdsConnectionIPv4Handle: 0x86da5b80
[04-23_05:32:27:691] ifconfig wwan0 up
[04-23_05:32:27:697] busybox udhcpc -f -n -q -t 5 -i wwan0
udhcpc: started, v1.36.0
udhcpc: broadcasting discover
udhcpc: broadcasting select for 10.19.76.92, server 10.19.76.93
udhcpc: lease of 10.19.76.92 obtained from 10.19.76.93, lease time 7200
[04-23_05:32:27:747] deleting routers
[04-23_05:32:27:768] adding dns 111.11.1.3
[04-23_05:32:27:768] adding dns 111.11.11.3
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Ping domain test.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576:/# ping -I wwan0 www.forlinx.com -c 3   //指定wwan0网卡ping3次
PING s-526319.gotocdn.com (211.149.226.120) from 10.19.76.92 wwan0: 56(84) bytes of data.
64 bytes from 211.149.226.120 (211.149.226.120): icmp_seq=1 ttl=48 time=79.2 ms
64 bytes from 211.149.226.120 (211.149.226.120): icmp_seq=2 ttl=48 time=64.1 ms
64 bytes from 211.149.226.120 (211.149.226.120): icmp_seq=3 ttl=48 time=62.6 ms

--- s-526319.gotocdn.com ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2003ms
rtt min/avg/max/mdev = 62.606/68.624/79.164/7.477 ms
</pre></div>
</div>
</section>
</section>
<section id="ok3576-platform-multimedia-test">
<h2>5. OK3576 Platform Multimedia Test<a class="headerlink" href="#ok3576-platform-multimedia-test" title="Link to this heading"></a></h2>
<p>Some application layer software for audio and video on the OK3576 platform uses Gstreamer, which supports hardware codecs. All examples in this section based on the GStreamer command line form.</p>
<section id="audio-and-video-playback">
<h3>5.1 Audio and Video Playback<a class="headerlink" href="#audio-and-video-playback" title="Link to this heading"></a></h3>
<section id="playing-audio-and-video-with-gst-play">
<h4>5.1.1 Playing Audio and Video with Gst-play<a class="headerlink" href="#playing-audio-and-video-with-gst-play" title="Link to this heading"></a></h4>
<p>Gplay is an audio/video player based on GStreamer that can automatically select the right plugin for audio/video play according to the hardware, and it is easy to run.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-play-1.0 /userdata/1080p_60fps_h265-30S.mp4
Press &#39;k&#39; to see a list of keyboard shortcuts.
Now playing /userdata/media/1080p_60fps_h265-30S.mp4
Redistribute latency...
Redistribute latency...
Redistribute latency...
0:00:30.0 / 0:00:30.0
Reached end of play list.
</pre></div>
</div>
</section>
<section id="playing-video-with-gst-launch">
<h4>5.1.2 Playing Video with Gst-launch<a class="headerlink" href="#playing-video-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-launch-1.0 filesrc location= /userdata/1080p_60fps_h265-30S.mp4 ! qtdemux !  h265parse ! mppvideodec ! autovideosink
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Redistribute latency...
Pipeline is PREROLLED ...
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
^Chandling interrupt. (10.2 %)
Interrupt: Stopping pipeline ...
Execution ended after 0:00:03.136669679
Setting pipeline to NULL ...
Freeing pipeline ...

</pre></div>
</div>
</section>
</section>
<section id="video-hardware-encoding">
<h3>5.2 Video Hardware Encoding<a class="headerlink" href="#video-hardware-encoding" title="Link to this heading"></a></h3>
<section id="video-hardware-encoding-h-264">
<h4>5.2.1 Video Hardware Encoding H.264<a class="headerlink" href="#video-hardware-encoding-h-264" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-launch-1.0 videotestsrc num-buffers=600 ! video/x-raw,framerate=30/1,width=7680,height=4320 ! mpph264enc ! h264parse ! mp4mux ! filesink location=test.mp4
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
^Chandling interrupt. (6.0 %)
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.932071557
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="video-hardware-encoding-h-265">
<h4>5.2.2 Video Hardware Encoding H.265<a class="headerlink" href="#video-hardware-encoding-h-265" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-launch-1.0 videotestsrc num-buffers=600 ! video/x-raw,framerate=60/1,width=3840,height=2160 ! mpph265enc ! h265parse ! mp4mux ! filesink location=test.mp4
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
^Chandling interrupt. (7.2 %)
Interrupt: Stopping pipeline ...
Execution ended after 0:00:01.410982596
Setting pipeline to NULL ...
Freeing pipeline ...

</pre></div>
</div>
</section>
<section id="jpeg-hardware-encoding">
<h4>5.2.3 JPEG Hardware Encoding<a class="headerlink" href="#jpeg-hardware-encoding" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-launch-1.0 videotestsrc num-buffers=20 ! video/x-raw,framerate=60/1,width=3840,height=2160 ! mpph265enc ! h265parse ! mp4mux ! filesink location=test.jpeg
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.588552391
Setting pipeline to NULL ...
Freeing pipeline ...

</pre></div>
</div>
</section>
</section>
<section id="video-hardware-decoding">
<h3>5.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading"></a></h3>
<p>OK3576 supports hardware decoding for H.264, H.265, VP8, and VP9 video formats. The H.264 decoder supports 8K at 30fps, while the H.265 decoder supports 8K at 60fps.</p>
<p>OK3588 uses the mppvideodec component for hardware video decoding, and its output formats are NV12, I420, and YV12.</p>
<section id="decoding-and-playing-h-264-format-video">
<h4>5.3.1 Decoding and Playing H.264 Format Video<a class="headerlink" href="#decoding-and-playing-h-264-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>
root@localhost:~# gst-launch-1.0 filesrc location=/userdata/4k_60fps_h264-30S.mp4 ! qtdemux ! h264parse ! mppvideodec ! autovideosink
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Redistribute latency...
Pipeline is PREROLLED ...
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
^Chandling interrupt. (6.9 %)
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.112765294
Setting pipeline to NULL ...
Freeing pipeline ...

</pre></div>
</div>
</section>
<section id="decoding-and-playing-h-265-format-video">
<h4>5.3.2 Decoding and Playing H.265 Format Video<a class="headerlink" href="#decoding-and-playing-h-265-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@localhost:~# gst-launch-1.0 filesrc location=/userdata/4k_60fps_h265-30S.mp4 ! qtdemux ! h265parse ! mppvideodec ! autovideosink
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Redistribute latency...
Pipeline is PREROLLED ...0 %)
Prerolled, waiting for async message to finish...
Setting pipeline to PLAYING ...
Redistribute latency...
New clock: GstSystemClock
^Chandling interrupt. (54.8 %)
Interrupt: Stopping pipeline ...
Execution ended after 0:00:16.586469167
Setting pipeline to NULL ...
</pre></div>
</div>
</section>
</section>
<section id="camera-test">
<h3>5.4 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading"></a></h3>
<p>OK3576 supports OV13855 MIPI camera and UVC camera. First, test the UVC camera with Logitech C270 process. Insert the USB camera into the development board, and the UVC driver will be installed automatically.</p>
<section id="uvc-camera-test">
<h4>5.4.1 UVC Camera Test<a class="headerlink" href="#uvc-camera-test" title="Link to this heading"></a></h4>
<section id="camera-recognition-detection-and-format-support-queries">
<h5><strong>5.4.1.1 Camera Recognition Detection and Format Support Queries</strong><a class="headerlink" href="#camera-recognition-detection-and-format-support-queries" title="Link to this heading"></a></h5>
<p>Camera Recognition Detection</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/# v4l2-ctl --list-devices		//View the UVC camera device node, and see that/dev/video20 &amp; 21 is the USB camera node
    UVC Camera (046d:0825) (usb-xhci-hcd.0.auto-1.1):
    
    /dev/video20

    /dev/video21

    /dev/media2
</pre></div>
</div>
<p>Format Support Queries</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/# v4l2-ctl --list-formats-ext -d /dev/video20 	//View formats supported by the camera  
   ioctl: VIDIOC_ENUM_FMT
   
   Type: Video Capture

    [0]: &#39;YUYV&#39; (YUYV 4:2:2)

            Size: Discrete 640x480

                    Interval: Discrete 0.033s (30.000 fps)

                    Interval: Discrete 0.040s (25.000 fps)

                    Interval: Discrete 0.050s (20.000 fps)

                    Interval: Discrete 0.067s (15.000 fps)

                    Interval: Discrete 0.100s (10.000 fps)

                    Interval: Discrete 0.200s (5.000 fps)

            Size: Discrete 160x120

                    Interval: Discrete 0.033s (30.000 fps)

                    Interval: Discrete 0.040s (25.000 fps)

                    Interval: Discrete 0.050s (20.000 fps)

                    Interval: Discrete 0.067s (15.000 fps)

                    Interval: Discrete 0.100s (10.000 fps)

                    Interval: Discrete 0.200s (5.000 fps)

            Size: Discrete 176x144

                    Interval: Discrete 0.033s (30.000 fps)

                    Interval: Discrete 0.040s (25.000 fps)

                    Interval: Discrete 0.050s (20.000 fps)

                    Interval: Discrete 0.067s (15.000 fps)

                    Interval: Discrete 0.100s (10.000 fps)

                    Interval: Discrete 0.200s (5.000 fps)

            Size: Discrete 320x176

                    Interval: Discrete 0.033s (30.000 fps)

                    Interval: Discrete 0.040s (25.000 fps)

                    Interval: Discrete 0.050s (20.000 fps)

                    Interval: Discrete 0.067s (15.000 fps)

                    Interval: Discrete 0.100s (10.000 fps)

                    Interval: Discrete 0.200s (5.000 fps)
</pre></div>
</div>
</section>
<section id="camera-capture-format-queries-and-modifications">
<h5><strong>5.4.1.2 Camera Capture Format Queries and Modifications</strong><a class="headerlink" href="#camera-capture-format-queries-and-modifications" title="Link to this heading"></a></h5>
<p>Camera Capture Format Queries</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/# &lt;font style=&quot;color:#0000FF;&quot;&gt;v4l2-ctl -V -d /dev/video20&lt;/font&gt;

    Format Video Capture:

    Width/Height      : 640/480

    Pixel Format      : &#39;YUYV&#39; (YUYV 4:2:2)

    Field             : None

    Bytes per Line    : 1280

    Size Image        : 614400

    Colorspace        : sRGB

    Transfer Function : Rec. 709

    YCbCr/HSV Encoding: ITU-R 601

    Quantization      : Default (maps to Limited Range)

    Flags             :
</pre></div>
</div>
</section>
<section id="camera-image-preview">
<h5><strong>5.4.1.3 Camera Image Preview</strong><a class="headerlink" href="#camera-image-preview" title="Link to this heading"></a></h5>
<p>Camera Image Preview</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/#gst-launch-1.0  v4l2src device=/dev/video20 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480  ! autovideosink 

Setting pipeline to PAUSED ...

Pipeline is live and does not need PREROLL ...

Pipeline is PREROLLED ...

Setting pipeline to PLAYING ...

New clock: GstSystemClock

Redistribute latency...

0:00:04.8 / 99:99:99.
</pre></div>
</div>
</section>
</section>
<section id="ov13855-test">
<h4>5.4.2 OV13855 Test<a class="headerlink" href="#ov13855-test" title="Link to this heading"></a></h4>
<section id="id4">
<h5>5.4.2.1 Camera Recognition Detection and Format Support Queries<a class="headerlink" href="#id4" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/#   v4l2-ctl --list-devices

   rkcif (platform:rkcif-mipi-lvds):
   
   /dev/video0

    /dev/video1

    /dev/video2

    /dev/video3

    /dev/video4

    /dev/video5

    /dev/video6

    /dev/video7

    /dev/video8

    /dev/video9

    /dev/video10

    /dev/media0

    rkisp_mainpath (platform:rkisp-vir0): //cam1
  
    /dev/video55

    /dev/video56

    /dev/video57

    /dev/video58

    /dev/video59

    /dev/video60

    /dev/video63

    /dev/media5
</pre></div>
</div>
</section>
<section id="camera-previews">
<h5><strong>5.4.2.2 Camera Previews</strong><a class="headerlink" href="#camera-previews" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/# gst-launch-1.0 v4l2src device=/dev/video55 io-mode=dmabuf ! video/x-raw,format=NV12,width=1920,height=1080,framerate=30/1 ! xvimagesink force-aspect-ratio=true

Setting pipeline to PAUSED ...

Using mplane plugin for capture

Pipeline is live and does not need PREROLL ...

Pipeline is PREROLLED ...

Setting pipeline to PLAYING ...

New clock: GstSystemClock

[  314.354521] rkisp_hw 27c00000.isp: set isp clk = 702000000Hz

[  314.361618] rkisp rkisp-vir0: first params buf queue

[  314.362034] rkcif-mipi-lvds: stream[0] start streaming

[  314.362194] rockchip-mipi-csi2 mipi0-csi2: stream on, src_sd: 000000003df896bb, sd_name:rockchip-csi2-dphy0

[  314.362209] rockchip-mipi-csi2 mipi0-csi2: stream ON

[  314.362247] rockchip-csi2-dphy0: dphy0, data_rate_mbps 1080

[  314.362523] rockchip-csi2-dphy csi2-dcphy0: csi2_dphy_s_stream stream on:1, dphy0, ret 0

[  314.362537] ov13855 3-0036: ov13855_s_stream: on: 1, 4224x3136@30

Redistribute latency...

0:00:02.0 / 99:99:99.
</pre></div>
</div>
</section>
</section>
<section id="ov5645-test">
<h4>5.4.3 OV5645 Test<a class="headerlink" href="#ov5645-test" title="Link to this heading"></a></h4>
<p><strong>Camera Corresponding Nodes</strong></p>
<p>CAM2 ：rkcif-mipi-lvds1</p>
<p>CAM3 ：rkcif-mipi-lvds2</p>
<p>CAM4 ：rkcif-mipi-lvds4</p>
<p>CAM5 ：rkcif-mipi-lvds3</p>
<p>Take testing CAM5 as an example.</p>
<section id="camera-recognition-detection">
<h5><strong>5.4.3.1 Camera Recognition Detection</strong><a class="headerlink" href="#camera-recognition-detection" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/#   v4l2-ctl --list-devices

    rkcif (platform:rkcif-mipi-lvds4):
 
    /dev/video44

    /dev/video45

    /dev/video46

    /dev/video47

    /dev/video48

    /dev/video49

    /dev/video50

    /dev/video51

    /dev/video52

    /dev/video53

    /dev/video54

    /dev/media4
</pre></div>
</div>
</section>
<section id="view-supported-formats">
<h5>5.4.3.2. View Supported Formats<a class="headerlink" href="#view-supported-formats" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/#  v4l2-ctl --list-formats-ext -d /dev/video44

    ioctl: VIDIOC_ENUM_FMT
  
    Type: Video Capture Multiplanar

    [0]: &#39;NV16&#39; (Y/UV 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [1]: &#39;NV61&#39; (Y/VU 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [2]: &#39;NV12&#39; (Y/UV 4:2:0)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [3]: &#39;NV21&#39; (Y/VU 4:2:0)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [4]: &#39;YUYV&#39; (YUYV 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [5]: &#39;YVYU&#39; (YVYU 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [6]: &#39;UYVY&#39; (UYVY 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8

    [7]: &#39;VYUY&#39; (VYUY 4:2:2)

            Size: Stepwise 64x64 - 1920x1080 with step 8/8
</pre></div>
</div>
</section>
<section id="id5">
<h5><strong>5.4.3.3 Camera Previews</strong><a class="headerlink" href="#id5" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ok3576-ubuntu24:/#  gst-launch-1.0 v4l2src device=/dev/video11 io-mode=mmap ! video/x-raw,format=NV12,width=1920,height=1080,framerate=30/1 ! xvimagesink force-aspect-ratio=true
Setting pipeline to PAUSED ...
Using mplane plugin for capture
Pipeline is live and does not need PREROLL ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Redistribute latency...
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:05.859784258
Setting pipeline to NULL ...
Freeing pipeline ...

</pre></div>
</div>
</section>
</section>
</section>
</section>
<section id="system-flashing">
<h2>6. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading"></a></h2>
<p>OK3576-C development board currently supports the OTG flashing method. The appropriate flashing tool is provided in the user documentation.</p>
<section id="otg-system-flashing">
<h3>6.1 OTG System Flashing<a class="headerlink" href="#otg-system-flashing" title="Link to this heading"></a></h3>
<section id="otg-driver-installation">
<h4>6.1.1 OTG Driver Installation<a class="headerlink" href="#otg-driver-installation" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Path：OK3576-C（Linux）user information\Linux\tool\DriverAssitant_v5.11.zip</p></li>
</ul>
<p>Extract the above path file to any directory and run it with administrator privileges</p>
<p>Open DriverInstall.exe</p>
<p><img alt="Image" src="_images/1726214251487_8975ec46_6ec0_47ed_9a87_15161a370c5e.png" /></p>
<p>Click “Driver Installation”</p>
<p><img alt="Image" src="_images/1726214251723_98517c31_82d2_4e6d_9c09_9a214f28b101.png" /></p>
</section>
<section id="otg-full-flashing-test">
<h4>6.1.2 OTG Full Flashing Test<a class="headerlink" href="#otg-full-flashing-test" title="Link to this heading"></a></h4>
<section id="rkdevtool-flashing-test">
<h5>6.1.2.1 RKDevTool Flashing Test<a class="headerlink" href="#rkdevtool-flashing-test" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Path: OK3576-C (Linux) User Profile\Linux\Tool\RKDevTool_Release_v3.31.zip</p></li>
</ul>
<p>It is a development tool provided by Rockchip Micro. Unzip it to a full English path before use, connect the TYPE-C0 port of the development board and the host computer with a Type-C cable, press and hold the recovery key of the development board and don’t release it, then press the reset key to reset the system, and release the recovery key after about two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note: The condition for recognition is that the development board is powered up and the RECOVER key is in the pressed state. Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn’t match the following figure, please consider unzipping it in an English directory. During OTG flashing, it is necessary to link the OTG cable to the typeC port of the board, as shown in the following figure:</strong></p>
<p><img alt="Image" src="_images/1750318796237_22e349ae_0114_48aa_9d91_8d325204fb91.png" /></p>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1750319091973_df49a9b7_0487_45bb_ae0f_e17c6d58fb451.png" /></p>
<p>Click the “Upgrade Firmware” tab, click the “Firmware” button to select the full upgrade image update.img. The program will be parsing the firmware, so wait a while.</p>
<p><img alt="Image" src="_images/1750319339986_e8e6060c_5e99_4928_a142_e56dfd22b0f11.png" /></p>
<p>Click “Advanced Functions”-&gt; “Erase All” to erase.</p>
<p><img alt="Image" src="_images/1750319533424_f65d5c86_78e3_4a0d_849b_f8900eb94eb01.png" /></p>
<p>Click the “Upgrade Firmware” button-&gt; “Upgrade” to upgrade.</p>
<p><img alt="Image" src="_images/1750319645988_ab89d472_d74b_4ef3_abdd_44fb5ac64af71.png" /></p>
</section>
</section>
<section id="otg-step-programming-test">
<h4>6.1.3 OTG Step Programming Test<a class="headerlink" href="#otg-step-programming-test" title="Link to this heading"></a></h4>
<p>In the development phase, it is very time-consuming to burn all of them every time, so here is the method of using OTG burning tool to burn in separate partitions.</p>
<p><strong>Note: To recognize the device, the recovery button on the development board should be pressed down while the board is powered on.</strong></p>
<p>First, after the compilation is complete, a separate partition image can be found in the rockdev directory.</p>
<p>Take separate programming boot.img (including device tree and startup logo) as an example to demonstrate the programming method.</p>
<p>Use the Type-C cable to connect the development board to the host. Press and hold the recover key and do not release it. Then press the reset key to reset the system. Release the recover key after about two seconds. The system will prompt to discover the loader device.</p>
<p><img alt="Image" src="_images/1750321145954_e538cc24_efea_42d3_ac79_f4dea297807d.png" /></p>
<p>Click the “Device Partition Table” button to automatically read the partition address.</p>
<p><img alt="Image" src="_images/1750321169101_0b9fd528_7444_4dfd_80bf_8a3667939d1e.png" /></p>
<p>The prompt asks if you want to update the download address. Clicking “Yes” will result in a successful reading of the partition table.</p>
<p><img alt="Image" src="_images/1750321192039_f765e1ab_4b15_4520_977d_a882316605d1.png" /></p>
<p>Click the right test area of the partition to select the partition mirror, and check the partition.</p>
<p><img alt="Image" src="_images/1750321827091_49476e2a_c84f_428e_864a_ef66d28f5e78.png" /></p>
<p>Click the “Execute” button will automatically burn and restart.</p>
<p><img alt="Image" src="_images/1750321680514_c4f87f44_cc37_4eea_9f59_8a19405c108f.png" /></p>
<p><strong>Introduction to MASKROM mode</strong></p>
<p>If the loader is damaged and cannot enter the Loader mode, press and hold the Maskrom key (On the right side of the RTC batter) and then press the reset key to enter the maskrom mode for flashing.</p>
<p><img alt="Image" src="_images/1750321945719_2ce43c88_a38d_42ca_9fc3_53eae15b4000.png" /></p>
<p>At this time, the system will prompt the discovery of a maskrom device. The flashing process is consistent with the loader mode, so it is best to use an update.img burning.</p>
<p><strong>Note: Don’t click “Device Partition Table” in maskrom mode, it is invalid.</strong></p>
</section>
</section>
<section id="tf-card-flashing">
<h3>6.2 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading"></a></h3>
<p>TF card flashing and testing</p>
<p><strong>Note: The maximum capacity of the test TF card is 32G; using a TF card larger than 32G may cause the card to fail to write.</strong></p>
<p>Copy SDDiskTool _ v1.76.zip from the user profile tool directory to any windows directory. Run with administrator privilges</p>
<p>SD_Firmware_Tool.exe.</p>
<p><img alt="Image" src="_images/1726214252666_a91fc93c_b5bf_476b_bff2_ebe975b5ea7b.png" /></p>
<p>Select the disk device, check “Firmware Upgrade” and select update.img. Click Start Creating.</p>
<p><img alt="Image" src="_images/1726214252868_8740d473_a961_43fe_8444_8cc7f9e007ac.png" /></p>
<p><img alt="Image" src="_images/1726214253092_fcfe76c3_478e_41b5_bf25_b53b68a368d6.png" /></p>
<p>Insert the TF card into the development board and start it, and the system will automatically enter the flashing process. After the programming is completed, the screen and serial port will prompt:</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>At this time, pull out the TF card, the system automatically restarts (please do not power down directly).</p>
<p>When mass production, you can judge whether the burn-in is completed or not according to the heartbeat light of the core board, and the heartbeat light changes during the burn-in process are as follows:</p>
<p>1. Kernel startup phase: heartbeat light mode, regular intermittent flashing;</p>
<p>2. Flashing preparation phase: EMMC indicator (off);</p>
<p>3. Flashing phase:EMMC indicator (on);</p>
<p>4. Flashing completion phase: Regular intermittent blinking.</p>
<p>Serial port information during the burning process:</p>
<p><img alt="Image" src="_images/1726214253365_d2c3acc8_5556_408b_9a88_7b9305caf707.png" /></p>
<p>If the automatic restart does not occur after removing the TF card, a manual restart can also complete the burning. Please be patient during the burning process.</p>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>