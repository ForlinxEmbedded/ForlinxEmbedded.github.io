

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux5.10.160_User’s Manual &mdash; Forlinx Embedded RK3568 Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/rockchip/ok3568-c/OK3568-C_Linux5_10_160_User_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="00_OK3568-C_Linux5.10.160+QT5.15.8用户编译手册" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html" />
    <link rel="prev" title="User’s Hardware Manual_V3.1" href="OK3568-C_User_Hardware_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_User_Hardware_Manual.html">User’s Hardware Manual_V3.1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux5.10.160_User’s Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview"><font style="color:#000000;">Overview</font></a></li>
<li class="toctree-l2"><a class="reference internal" href="#ok3568-c-c2c-development-board-description">1. OK3568-C/C2C Development Board Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux-5-10-160-system-software-resources-features">1.1 Linux 5.10.160 System Software Resources Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emmc-memory-partition-table">1.2 EMMC Memory Partition Table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fast-startup">2. Fast Startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-startup">2.1 Preparation Before Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-serial-driver-installation">2.2 Debugging Serial Driver Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serial-port-login">2.3 Serial Port Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-connection-settings">2.3.1 Serial Port Connection Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-login">2.3.2 Serial Login</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#network-login">2.4 Network Login</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ssh">2.4.1 SSH</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ftp">2.4.2 FTP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screen-switching">2.5 Screen Switching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-control-of-uboot-menu">2.5.1 Dynamic Control of Uboot Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kernel-device-tree-specification">2.5.2 Kernel Device Tree Specification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#system-shutdown">2.6 System Shutdown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3568-platform-function-test">3. OK3568 Platform Function Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interface-function-test">3.1 Interface Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-interface-functions">3.1.1 Introduction to Interface Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-touch-functions">3.1.2 Introduction to Touch Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hardware-decoding-experience">3.1.3 Hardware Decoding Experience</a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-test">3.1.4 Camera Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opengl-test">3.1.5 OpenGL Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#music-play-test">3.1.6 Music Play Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#record-test">3.1.7 Record Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g-5g-test">3.1.8 4G/5G Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wifi-test">3.1.9 WIFI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#network-configuration-test">3.1.10 Network Configuration Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#browser-tests">3.1.11 Browser Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#watchdog-tests">3.1.12 Watchdog Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-tests">3.1.13 Key Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtc-test">3.1.14 RTC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spi-test">3.1.15 SPI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uart-test">3.1.16 UART Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#backlight-test">3.1.17 Backlight Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cpu-frequency-configuration-test">3.1.18 CPU Frequency Configuration Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3568-command-line-function-test">4. OK3568 Command Line Function Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-function-test">4.1 Command Line Function Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-information-query">4.1.1 System Information Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fm-test">4.1.2 FM Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temperature-test">4.1.3 Temperature Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ddr-bandwidth-test">4.1.4 DDR Bandwidth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">4.1.5 Key Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-port-test">4.1.6 Serial Port Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">4.1.7 SPI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">4.1.8 Watchdog Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">4.1.9 WIFI Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bluetooth-test">4.1.10 Bluetooth Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rtc-function-test">4.1.11 RTC Function Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-mouse-test">4.1.12 USB Mouse Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-2-0-usb3-0">4.1.13 USB 2.0/USB3.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#screen-backlight-adjustment">4.1.14 Screen Backlight Adjustment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tf-card-test">4.1.15 TF Card Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#emmc-test">4.1.16 EMMC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ethernet-configuration">4.1.17 Ethernet Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#web-services">4.1.18 Web Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="#play-record-test">4.1.19 Play/Record Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g-em05-ce-module-test">4.1.20 4G EM05-CE Module Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g-quectel-rm500u-module">4.1.21 5G Quectel RM500U Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sleep-wake-up-test">4.1.22 Sleep Wake-up Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#npu-opencv-test">4.1.23 NPU OpenCV Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#can-test">4.1.24 CAN Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#led-test">4.1.25 LED Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#typec-test">4.1.26 TYPEC Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pcie-test">4.1.27 PCIE Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sqlite3-test">4.1.28 SQLite3 Test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ok3568-platform-multimedia-test">5. OK3568 Platform Multimedia Test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-and-video-playback">5.1 Audio and Video Playback</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-and-video-with-gst-play">5.1.1 Playing Audio and Video with Gst-play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-with-gst-launch">5.1.2 Playing Video with gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-audio-with-gst-launch">5.1.3 Playing Audio with Gst-launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#playing-video-and-audio-with-gst-launch">5.1.4 Playing Video and Audio with gst-launch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-encoding">5.2 Video Hardware Encoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-264">5.2.1 Video Hardware Encoding H.264</a></li>
<li class="toctree-l4"><a class="reference internal" href="#video-hardware-encoding-h-265">5.2.2 Video Hardware Encoding H.265</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video-hardware-decoding">5.3 Video Hardware Decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h-264-format-video">5.3.1 Decoding and Playing H.264 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h264-format-video-with-audio">5.3.2 Decoding and Playing H264 Format Video with Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-h-265-format-video">5.3.3 Decoding and Playing H.265 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-video-audio-in-h265-format">5.3.4 Decoding and Playing Video&amp;Audio in H265 format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp8-format-video">5.3.5 Decoding and Playing VP8 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp8-format-video-with-audio">5.3.6 Decoding and Playing VP8 Format Video with Audio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video">5.3.7 Decoding and Playing VP9 Format Video</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decoding-and-playing-vp9-format-video-with-audio">5.3.8 Decoding and Playing VP9 Format Video with Audio</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">5.4 Camera Test</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uvc-camera-test">5.4.1 UVC Camera Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ov13850-test">5.4.2 OV13850 Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#waylandsink-point-test">5.5 Waylandsink Point Test</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-flashing">6. System Flashing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#otg-system-flashing">6.1 OTG System Flashing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otg-driver-installation">6.1.1 OTG Driver Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-full-flashing-test">6.1.2 OTG Full Flashing Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#otg-step-by-step-flashing-test">6.1.3 OTG Step-by-step Flashing Test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tf-card-flashing">6.2 TF Card Flashing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html">00_OK3568-C_Linux5.10.160+QT5.15.8用户编译手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#id1"><font style="color:#000000;">概  述</font></a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#id2"><font style="color:#000000;">更新记录</font></a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#vmware">01_VMware虚拟机软件安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#ubuntu">02_加载已有ubuntu开发环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#id5">03_搭建新的ubuntu开发环境</a></li>
<li class="toctree-l1"><a class="reference internal" href="OK3568-C_Linux5_10_160_User_Compilation_Manual.html#id13">04_相关代码编译</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded RK3568 Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux5.10.160_User’s Manual</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux5-10-160-users-manual">
<h1>Linux5.10.160_User’s Manual<a class="headerlink" href="#linux5-10-160-users-manual" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading"></a></h2>
<p>This manual is mainly applicable to the Linux5.10.160 operating system on the Forlinx OK3568-C platform. Other platforms can also refer to it, but there will be differences between different platforms. Please make modifications according to the actual conditions.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>User Manual Version</p></th>
<th class="head"><p>Revision History  </font></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>24/11/2023</p></td>
<td><p>V1.0</p></td>
<td><p><font style="color:rgb(38, 38, 38);">OK3568-C Linux5.10.160+QT5.15.8_User’s Manual Initial Version</font><font style="color:rgb(38, 38, 38);">  </font></p></td>
</tr>
<tr class="row-odd"><td><p><font style="color:rgb(38, 38, 38);">11/12/2023</font><font style="color:rgb(38, 38, 38);">   </font></p></td>
<td><p>V1.1</p></td>
<td><p>1. Removing the Forlinx user from FTP, and the file system has not been added yet; <br />2. Video hardcoding; RGA only supports 0-4G; adding description.</p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">15/05/2024</font><font style="color:rgb(38, 38, 38);">   </font></p></td>
<td><p>V2.0</p></td>
<td><p><font style="color:rgb(38, 38, 38);">1.</font>  Adding FET3568-C2, OK3568-C2C configuration;<br />2. Correcting the errors in the manual.</p></td>
</tr>
<tr class="row-odd"><td><p>04/07/2025</p></td>
<td><p><font style="color:rgb(38, 38, 38);"> V2.1</font></p></td>
<td><p><font style="color:rgb(38, 38, 38);">4.2.22 休眠唤醒测试章节添加长鑫内存已将休眠唤醒功能去掉内容。</font></p></td>
</tr>
<tr class="row-even"><td><p><font style="color:rgb(38, 38, 38);">15/10/2025</font></p></td>
<td><p>V2.2</p></td>
<td><p>Adding notes in the WIFI test chapter and the quick startup chapter (The antenna must be connected for startup, otherwise the startup may be affected).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2><font style="color:#000000;">Overview</font><a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>OK3568-C/C2C development board currently provides software documentation for the Linux operating system. This document is the Linux software manual, focusing on relevant functionality testing and explanations for the Linux5.10.160 kernel. Please choose the documentation that matches the image installed on the development board for the operations. You can access the documentation and source code of the software and hardware through the web link provided by Forlinx. Please ask your sales representative for the download link.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>The OK3568 - C/C2C development board is pre - flashed with a Linux image by default at the factory. Before operating, please confirm whether the system is Linux. If not, please re - flash the Linux image. Refer to the “System Flashing” section for the flashing method. After the flashing is completed, you can check the kernel version information through the steps in the “Serial Port Login” section;</strong></p></li>
<li><p><strong>For detailed information, refer to the OK3568 - C/C2C user documentation. In this document, the directory of the user documentation mentioned is based on the root directory of the OK3568 - C/C2C user documentation.</strong></p></li>
</ul>
</section>
<section id="ok3568-c-c2c-development-board-description">
<h2>1. OK3568-C/C2C Development Board Description<a class="headerlink" href="#ok3568-c-c2c-development-board-description" title="Link to this heading"></a></h2>
<p>RK3568 is a low-power high-performance processor based on ARM64 architecture. It includes 4-core Cortex-A55 and independent NEON co-processor and neural network plus processor NPU. It can be applied to computers, mobile phones, personal mobile Internet and digital multimedia devices.</p>
<p>FET3568-C and FET3568-C2 SoM have the same pin definition and can share a common carrier board. When FET3568-C is combined with the OK3568-C carrier board, the development board name is OK3568-C development board; when FET3568-C2 is combined with the OK3568-C carrier board, the development board name is OK3568-C2C development board.</p>
<p>The connection between SoM and the carrier board is board-to-board, and the main interfaces are shown as follows:</p>
<p><img alt="Image" src="_images/1719278381485_bb9a6037_390d_4576_aecf_008cc2ef4692.png" /></p>
<p>Front</p>
<p><img alt="Image" src="_images/1719278381902_b0dd9d04_67b0_48a5_b8c8_745f4c6f103a.png" /></p>
<p>Back</p>
<p><strong>Note:</strong></p>
<p><strong>This software manual does not describe the hardware parameters. Before referring to this manual for software development, please read “OK3568-C &amp; OK3568-C2C _ Hardware Manual” under the path of “Hardware Data \ User Manual” to understand the product naming rules and the hardware configuration information of the product you use, which is helpful for you to use this product.</strong></p>
<section id="linux-5-10-160-system-software-resources-features">
<h3>1.1 Linux 5.10.160 System Software Resources Features<a class="headerlink" href="#linux-5-10-160-system-software-resources-features" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Device</strong></p></th>
<th class="head"><p><strong>Location of driver source code in the kernel</strong></p></th>
<th class="head"><p><strong>Device Name</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LCD Backlight Driver</p></td>
<td><p>drivers/video/backlight/pwm_bl.c</p></td>
<td><p>/sys/class/backlight</p></td>
</tr>
<tr class="row-odd"><td><p>USB Port</p></td>
<td><p>drivers/usb/storage/</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>USB Mouse</p></td>
<td><p>drivers/hid/usbhid/</p></td>
<td><p>/dev/input/mice</p></td>
</tr>
<tr class="row-odd"><td><p>Ethernet</p></td>
<td><p>drivers/net/ethernet/stmicro/stmmac</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SD/micro TF card driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk1pX</p></td>
</tr>
<tr class="row-odd"><td><p>EMMC Driver</p></td>
<td><p>drivers/mmc/host/dw_mmc-rockchip.c</p></td>
<td><p>/dev/block/mmcblk2pX</p></td>
</tr>
<tr class="row-even"><td><p>OV13850</p></td>
<td><p>drivers/media/i2c/ov13850.c</p></td>
<td><p>/dev/videoX</p></td>
</tr>
<tr class="row-odd"><td><p>LCD Controller</p></td>
<td><p>drivers/gpu/drm/rockchip/rockchip_drm_vop.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>MIPI CSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-mipi-rx.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>MIPI DSI</p></td>
<td><p>drivers/phy/rockchip/phy-rockchip-inno-mipi-dphy.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LCD Touch Driver</p></td>
<td><p>drivers/input/touchscreen/gt9xx/*<br/>drivers/input/touchscreen/edt-ft5x06.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-odd"><td><p>RTC Real Time Clock Driver</p></td>
<td><p>drivers/rtc/rtc-rx8010.c<br/>drivers/rtc/rtc-pcf8563.c</p></td>
<td><p>/dev/rtc0</p></td>
</tr>
<tr class="row-even"><td><p>Serial Port</p></td>
<td><p>drivers/tty/serial/8250/8250_dw.c</p></td>
<td><p>/dev/ttySX</p></td>
</tr>
<tr class="row-odd"><td><p>Key Driver</p></td>
<td><p>drivers/input/keyboard/adc-keys.c</p></td>
<td><p>/dev/input/eventX</p></td>
</tr>
<tr class="row-even"><td><p>LED</p></td>
<td><p>drivers/leds/leds-gpio.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>I2S</p></td>
<td><p>sound/soc/rockchip/rockchip_i2s.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Audio Driver</p></td>
<td><p>sound/soc/codecs/rk817_codec.c</p></td>
<td><p>/dev/snd/</p></td>
</tr>
<tr class="row-odd"><td><p>PMIC</p></td>
<td><p>drivers/mfd/rk808.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>PCIE</p></td>
<td><p>drivers/pci/controller/pcie-rockchip.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Watchdog</p></td>
<td><p>drivers/watchdog/dw_wdt.c</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>drivers/spi/spi-rockchip.c</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="emmc-memory-partition-table">
<h3>1.2 EMMC Memory Partition Table<a class="headerlink" href="#emmc-memory-partition-table" title="Link to this heading"></a></h3>
<p>The following table shows the eMMC memory partition information for the Linux operating system (calculated with a block size of 512bit):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Partition Index</strong></p></th>
<th class="head"><p><strong>Name</strong></p></th>
<th class="head"><p><strong>Offset / block</strong></p></th>
<th class="head"><p><strong>Size/block</strong></p></th>
<th class="head"><p><strong>content</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>N/A</p></td>
<td><p>loader</p></td>
<td><p>0x00000000</p></td>
<td><p>0x00003fc0</p></td>
<td><p>MiniLoaderAll.bin</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>uboot</p></td>
<td><p>0x00004000</p></td>
<td><p>0x00002000</p></td>
<td><p>uboot.img</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>misc</p></td>
<td><p>0x00006000</p></td>
<td><p>0x00002000</p></td>
<td><p>misc.img</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>boot</p></td>
<td><p>0x00008000</p></td>
<td><p>0x00020000</p></td>
<td><p>boot.img</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>recovery</p></td>
<td><p>0x00028000</p></td>
<td><p>0x00040000</p></td>
<td><p>recovery.img</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>backup</p></td>
<td><p>0x00068000</p></td>
<td><p>0x00010000</p></td>
<td><p>backup.img</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>rootfs</p></td>
<td><p>0x00078000</p></td>
<td><p>0x00c00000</p></td>
<td><p>rootfs.img</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>oem</p></td>
<td><p>0x00c78000</p></td>
<td><p>0x00040000</p></td>
<td><p>oem.img</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>userdata</p></td>
<td><p>0x00cb8000</p></td>
<td><p>the all left</p></td>
<td><p>userdata.img</p></td>
</tr>
</tbody>
</table>
<p>The partition size can be viewed on the development board using the fdisk -l command:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# fdisk –l
Found valid GPT with protective MBR; using GPT

Disk /dev/mmcblk0: 15269888 sectors, 3360M
Logical sector size: 512
Disk identifier (GUID): b0640000-0000-493c-8000-1e08000019fe
Partition table holds up to 128 entries
First usable sector is 34, last usable sector is 15269854

Number  Start (sector)    End (sector)  Size Name
     1           16384           24575 4096K uboot
     2           24576           32767 4096K misc
     3           32768          163839 64.0M boot
     4          163840          425983  128M recovery
     5          425984          491519 32.0M backup
     6          491520        13074431 6144M rootfs
     7        13074432        13336575  128M oem
     8        13336576        15269854  943M userdata
</pre></div>
</div>
</section>
</section>
<section id="fast-startup">
<h2>2. Fast Startup<a class="headerlink" href="#fast-startup" title="Link to this heading"></a></h2>
<section id="preparation-before-startup">
<h3>2.1 Preparation Before Startup<a class="headerlink" href="#preparation-before-startup" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>12V2A or 12V3A DC Power Cable</p></li>
<li><p>Debugging serial cable</p></li>
</ul>
<p><strong>Note: Be sure to install the Wifi antenna when startup.</strong></p>
<p><img alt="Image" src="_images/1719278320996_e105caf3_f44c_4236_9713_8a433603e88c.png" /></p>
</section>
<section id="debugging-serial-driver-installation">
<h3>2.2 Debugging Serial Driver Installation<a class="headerlink" href="#debugging-serial-driver-installation" title="Link to this heading"></a></h3>
<p>The debugging serial port of the OK3568-C - C platform uses a Type - C interface. There is an on - board USB to UART chip, so there’s no need to purchase a USB to serial port debugging tool. It is extremely simple and convenient to use.</p>
<p>To install the driver, please use the driver package CP210x _ VCP _ Windows _ XP _ Vista. Zip provided in the \ Linux \ Tools \ directory of the user profile.</p>
<p>Select to run CP210xVCPInstaller _ x86.exe for 32-bit operating system and CP210xVCPInstaller _ x64.exe for 64-bit operating system after decompression.</p>
</section>
<section id="serial-port-login">
<h3>2.3 Serial Port Login<a class="headerlink" href="#serial-port-login" title="Link to this heading"></a></h3>
<section id="serial-port-connection-settings">
<h4>2.3.1 Serial Port Connection Settings<a class="headerlink" href="#serial-port-connection-settings" title="Link to this heading"></a></h4>
<p><strong>Description:</strong></p>
<ul class="simple">
<li><p><strong>Serial port terminal login user: serial port terminal automatically logs in (user: root, password root);</strong></p></li>
<li><p><strong>Serial port settings: Baud rate 115200, 8 data bits, 1 stop bit, no parity bit, no flow control;</strong></p></li>
<li><p><strong>Hardware Requirements: Type-C cable required to connect PC and development boards;</strong></p></li>
<li><p><strong>Software requirements: PC Windows system needs to install the super terminal software. Because the terminal software has many types, users can choose their familiar one.</strong></p></li>
</ul>
<p>In the following, we take the putty terminal software as an example to introduce the serial port login method:</p>
<p>Step 1: Connect the serial port number of the computer—check the serial port number from the device manager (Based on the port actually recognized by the computer );</p>
<p><img alt="Image" src="_images/1719278321359_fa8fcd47_98f8_4f39_a06e_20c985639e64.png" /></p>
<p>Step 2: Open and set up putty, then set the“ line according to the COM port of the computer used, baud rate 115200;</p>
<p><img alt="Image" src="_images/1719278321563_33878f07_57ca_425b_9f07_0f6ad5325c03.png" /></p>
<p>Step 3: After the setting, input the COM port used by the computer in Saved Sessions. The following figure takes COM24 as an example, save the settings, open the serial port again later, and click on the saved port number;</p>
<p><img alt="Image" src="_images/1719278321755_7f70b87a_57c6_4aab_ae10_4e27e83acf4d.png" /></p>
</section>
<section id="serial-login">
<h4>2.3.2 Serial Login<a class="headerlink" href="#serial-login" title="Link to this heading"></a></h4>
<p>After the terminal software on the PC side is set, connect the PC and the development board through the serial port cable, and power on after connecting the power supply. The startup information can be seen through the terminal software.</p>
<p>The following startup message indicates a successful start, allowing a new command line to be entered by pressing Enter:</p>
<p><img alt="Image" src="_images/1719278321964_f1970b22_1566_4579_aa6e_d305c114c7c3.png" /></p>
<p><strong>Note: If the prompt shows [root&#64;buildroot]#, it indicates that this is the first reboot after the initial flashing is completed, and the system is currently writing some information. During this process, please do not perform any operations. Only when the system reboots automatically again does it mean the flashing is finished. [root&#64;OK3568-buildroot]#That’s the normal state. This can be viewed through the uboot boot information.</strong></p>
<p>First boot, recovery mode:</p>
<p><img alt="Image" src="_images/1719278322192_c1627636_d731_4ba9_9f9c_95a77b1fa479.png" /></p>
<p>Normal boot:</p>
<p><img alt="Image" src="_images/1719278322394_e0b77e8e_c261_48a1_9048_2aa975640069.png" /></p>
</section>
</section>
<section id="network-login">
<h3>2.4 Network Login<a class="headerlink" href="#network-login" title="Link to this heading"></a></h3>
<p>In addition to logging in via the debugging serial port, the OK3568 supports SSH network login to the development board and also supports FTP file transfer. The following example uses an IP address of 172.16.0.76 for the development board to illustrate the use of network tools. To modify the network IP, use the command “ifconfig eth0 172.16.0.76”. The development board and PC should be connected to the same switch or directly connected via an Ethernet cable.</p>
<section id="ssh">
<h4>2.4.1 SSH<a class="headerlink" href="#ssh" title="Link to this heading"></a></h4>
<p>OK3568 development board supports SSH service and automatically starts it during boot up. After setting the IP address, the board can be used as an SSH server. You can log in to the development board via SSH for development and debugging, as well as use scp for file transfer.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>When logging in, enter the root username and the root password as prompted. If you wish to log in as the root user via SSH, you must first set a login password for the root user. To do this, log in to the development board via the serial port and use the passwd “username” command to change the login password for the specified user. There will be a password strength prompt, which can be ignored and has no effect on password changes;</strong></p></li>
<li><p><strong>The following test is based on the development board IP address 172.16.0.76. Please modify it according to your actual situation. Use the command “ifconfig eth0 172.16.0.76” on the debugging serial terminal to make the change.</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1719278322647_f6dd874b_e614_4e71_b207_c4a903394ef8.png" /></p>
<p>Open the putty software and make the following settings (the actual IP shall prevail):</p>
<p><img alt="Image" src="_images/1719278322854_2cc112b3_b2c3_47a4_9ba3_4f72e0948f19.png" /></p>
<p><img alt="Image" src="_images/1719278323013_c3b34392_8085_47b9_b6b3_d8b65781387e.png" /></p>
</section>
<section id="ftp">
<h4>2.4.2 FTP<a class="headerlink" href="#ftp" title="Link to this heading"></a></h4>
<p>OK3568 development board supports FTP service and automatically starts when powered on. Once you’ve set the IP address, it can be used as an FTP server. The following describes how to utilize the FTP tool for file transfer.</p>
<p>Path: OK3568-C (Linux) user profile\tool\FileZilla*</p>
<p>Install the file Zilla tool on windows and set it up as shown in the following figure.</p>
<p>**Note: **</p>
<ul class="simple">
<li><p><strong>This function requires the development board to be connected to the network cable; the host IP is set in the same network segment as the client, ensuring that the host and the client are in the same LAN; username root, password root; after successful login, you can upload, download and delete files anywhere in the file system. In general, it is not recommended to use root to log in to FTP. Please set the user login according to the actual situation;</strong></p></li>
<li><p><strong>The following test is based on the development board IP address 172.16.0.76. Please modify it according to your actual situation. Use the command ‘ifconfig eth0 172.16.0.76’ on the debugging serial terminal to make the change.</strong></p></li>
</ul>
<p><img alt="Image" src="_images/1719278323255_21c94a98_fc27_402d_b5a2_70a423c00aab.png" /></p>
<p><img alt="Image" src="_images/1719278323417_a7df861d_c88e_49c5_a0f1_a343c9f3270a.png" /></p>
</section>
</section>
<section id="screen-switching">
<h3>2.5 Screen Switching<a class="headerlink" href="#screen-switching" title="Link to this heading"></a></h3>
<p>The OK3568 supports multiple screen interfaces such as LVDS/LCD, MIPI DSI/eDP, and HDMI, enabling the same or different content to be displayed on three screens simultaneously. Currently, there are three ways to control screen switching: first, dynamic control via the U-Boot menu; second, specification in the kernel device tree; third, control using the Qt application Ubootmenu.</p>
<p><strong>Note: Screen switching involves touch - screen switching. In the factory - installed image, the LVDS, MIPI, and HDMI interfaces all output video images by default. The touch function is set to the LVDS screen by default. If you want to use the MIPI touch screen, please turn off the LVDS screen output during the screen selection stage.</strong></p>
<section id="dynamic-control-of-uboot-menu">
<h4>2.5.1 Dynamic Control of Uboot Menu<a class="headerlink" href="#dynamic-control-of-uboot-menu" title="Link to this heading"></a></h4>
<p>This method switches screens without recompiling and flashing in existing supported screens.</p>
<p>Press ctrl + C at the serial port terminal in the uboot self-starting process to pop up the control options:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Hit key to stop autoboot(&#39;CTRL+C&#39;):  0
---------------------------------------------
0:Exit to console
1:Reboot
2:Display type
---------------------------------------------
</pre></div>
</div>
<p>Enter 2 at the terminal to access the Screen Control sub-menu:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
hdmi==&gt;off mipi_edp==&gt;off lvds_rgb=&gt;off
Select  display
0:Exit
1:hdmi display off
2:mipi_edp display off
3:lvds_rgb display off		
---------------------------------------------
</pre></div>
</div>
<p>You can choose from four types of screens: HDMI, MIPI-DSI, eDP, and Lvds. Press the options to switch whether to turn them on. You can switch and select between MIPI - DSI and eDP at Option 2. The option parameter information table is as follows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Terminal input</strong></p></th>
<th class="head"><p>**Screen selection parameters **</p></th>
<th class="head"><p><strong>Corresponding meanings for the parameters</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Exit</p></td>
<td><p>Return to the previous menu</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>hdmi display off</p></td>
<td><p>Turn on HDMI screen signal output</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>mipi_edp display off</p></td>
<td><p>Turn on MIPI-DSI/eDP screen signal output</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>lvds_rgb display off</p></td>
<td><p>Turn on LVDS screen signal output</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of opening the eDP screen, pressing the number 2, and printing the information change:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
hdmi==&gt;off mipi_edp==&gt;mipi lvds_rgb=&gt;off
Select  display
0:Exit
1:hdmi display off
2:mipi_edp display mipi
3:lvds display off
---------------------------------------------
</pre></div>
</div>
<p>It can be seen that the above bold font is switched to mipi screen signal output. Press the number 2 again, and the print information changes:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
hdmi==&gt;off mipi_edp==&gt;edp lvds_rgb=&gt;off
Select  display
0:Exit
1:hdmi display off
2:mipi_edp display edp
3:lvds display off
---------------------------------------------
</pre></div>
</div>
<p>It can be seen that the above bold font is switched to eDP screen signal output. After the selection is completed, exit according to the menu prompt option to restart, and press the number 0 to print the information change:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>---------------------------------------------
0:Exit to console
1:Reboot
2:Display type
---------------------------------------------
</pre></div>
</div>
<p>Press the number 1 to perform the reboot operation. The screen option for the uboot phase operation takes effect after the reboot.</p>
<p>After the screen selection is completed, you can also press the reset key of the development board to restart, and it will take effect after starting.</p>
</section>
<section id="kernel-device-tree-specification">
<h4>2.5.2 Kernel Device Tree Specification<a class="headerlink" href="#kernel-device-tree-specification" title="Link to this heading"></a></h4>
<p>This method does not require the connection of a serial terminal, and the system image defaults to the desired configuration selection, which is suitable for mass production. However, we need to manually modify the device tree and regenerate the system image once again</p>
<p><strong>Note: This method has higher priority than the uboot screen selection, and the uboot selection will not take effect after the device tree is modified.</strong></p>
<p>The device tree path: kernel/arch/arm64/boot/dts/rockchip/OK3568-C-common.dtsi</p>
<p>In the kernel source code, open the device dtsi file and find the following node:</p>
<p><img alt="Image" src="_images/1719278323616_495a2d74_afea_4779_9f50_cd95a9a2031e.png" /></p>
<p>The node has a default disabled state and needs to be changed to an okay enabled node. Change according to screen requirements.</p>
<p>Examples:</p>
<p>Close the hdmi, lvds screens, change the attribute to “off”, and use edp to change the corresponding attribute to edp.</p>
<p><img alt="Image" src="_images/1719278323856_10f207f4_f416_4e2b_ac95_c93d21937917.png" /></p>
<p>After saving, recompile to generate the image.</p>
<p>There are many types of MIPI screens, and the existing timing and control words may not meet the requirements, so it is necessary to change the display-timings under the dsi node. However, any node status attribute related to display is handled by default, and the program will automatically control it.</p>
</section>
</section>
<section id="system-shutdown">
<h3>2.6 System Shutdown<a class="headerlink" href="#system-shutdown" title="Link to this heading"></a></h3>
<p>In general, you can turn off the power directly, but avoid doing so during important operations like data storage or usage to prevent irreversible file damage. Damaged files may require firmware rewrite. To ensure that data is not completely written, enter the sync command to complete data synchronization before turning off the power.</p>
<p><strong>Note: For products designed based on the SoM, if there are scenarios where accidental power loss causes the system to shut down unexpectedly, measures such as adding power-loss protection can be incorporated into the design.</strong></p>
</section>
</section>
<section id="ok3568-platform-function-test">
<h2>3. OK3568 Platform Function Test<a class="headerlink" href="#ok3568-platform-function-test" title="Link to this heading"></a></h2>
<p>OK3568 platform has perfect support for Qt, especially for multimedia related classes, such as video decoding and playback, camera, video recording, etc., which can be combined with hardware codec and OpenGL to achieve the best results.</p>
<section id="interface-function-test">
<h3>3.1 Interface Function Test<a class="headerlink" href="#interface-function-test" title="Link to this heading"></a></h3>
<section id="introduction-to-interface-functions">
<h4>3.1.1 Introduction to Interface Functions<a class="headerlink" href="#introduction-to-interface-functions" title="Link to this heading"></a></h4>
<p>The desktop is displayed as follows after the development board booting:</p>
<p><img alt="Image" src="_images/1719278338971_c5e0ddf0_4f33_4933_a69e_8219bde9d1ec.png" /></p>
</section>
<section id="introduction-to-touch-functions">
<h4>3.1.2 Introduction to Touch Functions<a class="headerlink" href="#introduction-to-touch-functions" title="Link to this heading"></a></h4>
<p>The LVDS and MIPI screen connected to the development board can be displayed and touched normally. If it is necessary to turn off a display touch, please refer to the manual 2.5.1 Uboot Menu Dynamic Control to turn off the corresponding display output.</p>
</section>
<section id="hardware-decoding-experience">
<h4>3.1.3 Hardware Decoding Experience<a class="headerlink" href="#hardware-decoding-experience" title="Link to this heading"></a></h4>
<p>Click the desktop icon to open the video player.</p>
<p><img alt="Image" src="_images/1719278339248_4dabc742_6517_472d_9d30_4ec875b1fede.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278339578_041f1a51_7337_42e4_ab0c_8556cd86437f.png" /></p>
<p>Application Interfaces</p>
</section>
<section id="camera-test">
<h4>3.1.4 Camera Test<a class="headerlink" href="#camera-test" title="Link to this heading"></a></h4>
<p>Click the desktop icon to open the video player qcamera. The test program supports USB Camera and OV13850. Plug in a USB Camera, using the RMONCAM 720P as an example.</p>
<p><strong>Note: The app needs to be connected to the camera before opening.</strong></p>
<p><img alt="Image" src="_images/1719278339889_3486bbbd_ac5e_462d_8437_e215f06cf70e.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278340062_4cee86c6_56eb_4b90_9157_7277150a77ec.jpeg" /></p>
<p>Application Interfaces</p>
<p>After opening the application, click UVC Camera to start the camera preview.</p>
<p><img alt="Image" src="_images/1722222638366_57fd39ef_cb1c_44bf_8d6d_3a5f4e4f575f.png" /></p>
<p>In Video Mode, you can click the record button to record, and click the recording button to stop recording. The generated video file is located in /userdata/VIDEO0.MOV.</p>
<p>Playback tests can be performed using the gst-play-1.0/userdata/VIDEO0.mov command.</p>
<p>Click the Video Mode button to switch to the photo mode, and click Capture to take a photo.</p>
<p><img alt="Image" src="_images/1722222669081_cdf60e5c_d112_40f1_a778_4dddde67669a.png" /></p>
<p>The generated file is located in the/userdata path:</p>
<p><img alt="Image" src="_images/1719278340766_a3e88dca_ea75_4117_adb4_73cd307acadb.png" /></p>
<p>For raw sensors such as OV13850, each sensor corresponds to 5 device nodes:</p>
<p><img alt="Image" src="_images/1719278340953_79cdb1e4_186a_4746_bce0_5d95c9f32861.png" /></p>
<p>Mainpath, refers to an output node of Rockchip ISP, which can output full-resolution images, generally used to take photos and capture Raw images.</p>
<p>Self Path, refers to an output node of Rockchip ISP, which can only output up to 1080p resolution and is usually used for preview.</p>
<p>Statistics for 3A statistics.</p>
<p>Input-params for 3A parameter setting.</p>
</section>
<section id="opengl-test">
<h4>3.1.5 OpenGL Test<a class="headerlink" href="#opengl-test" title="Link to this heading"></a></h4>
<p>OK3568 supports OpenGL ES3.2; click the desktop icon for OpenGL test.</p>
<p><img alt="Image" src="_images/1719278341147_ea2bf015_ee77_4525_9d84_c299a481cac4.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278341344_c3dbc479_6fe5_4eef_ab2d_734ac48de168.png" /></p>
<p>Application Interfaces</p>
</section>
<section id="music-play-test">
<h4>3.1.6 Music Play Test<a class="headerlink" href="#music-play-test" title="Link to this heading"></a></h4>
<p>“music player” is a simple audio test application that can be used to test the function of the sound card or as a simple audio player.</p>
<p><img alt="Image" src="_images/1719278341536_11a01c91_7a10_4660_8a6c_a46bc3f15f5e.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278341744_96af593c_422a_4247_8683_76aa15092b2d.jpeg" /></p>
<p>Application Interfaces</p>
<p>Click the button in the lower left corner and select test audio /userdata/media/test.mp3</p>
<p><strong>Note: The default sound card output is rk809. If using HDMI output, please use the command on the serial port:</strong></p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-play-1.0/userdata/media/test.mp3 --audiosink=&quot;alsasink device=hw:1,0&quot;
</pre></div>
</div>
</section>
<section id="record-test">
<h4>3.1.7 Record Test<a class="headerlink" href="#record-test" title="Link to this heading"></a></h4>
<p>The Audio recorder “is a recording test application that can be used to test whether the recording function of the sound card is normal:</p>
<p><img alt="Image" src="_images/1719278341970_5c6cd369_0684_4285_9340_adfa65217a71.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278342179_1c23083c_05e4_4330_b895_61fb77073d28.png" /></p>
<p>Application Interfaces</p>
<p>Click the drop-down menu to select the input device, audio format and audio channel, click the output file dir text box to input the output path and name of the recording file, select audio/ogg for File Container, select channel number 1 for Channels, and set the rest by default. Click Record to start recording. Recorded audio files can be played using gst-play-1.0.  Click Exit to exit the test.</p>
</section>
<section id="g-5g-test">
<h4>3.1.8 4G/5G Test<a class="headerlink" href="#g-5g-test" title="Link to this heading"></a></h4>
<p>This test requires an Internet-capable SIM card, a description of which can be found in the Command Line Functional Tests 5G section of this manual.</p>
<p>The “4G/5G” test program is used to test the OK3568 external 5G module (RM500U). Before testing, please power off the development board, access the 5G module, insert the SIM card, start the development board, and open the test application.</p>
<p>Meanwhile, the test supports the 4G module (EM05-CE), inserts the 4G module and SIM card in the case of power failure, and opens the test application after powering up the system to start.</p>
<p><img alt="Image" src="_images/1719278342369_aae4c7ce_35ea_4a39_9d07_a58b76a04fb3.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278342568_ac49bc27_e9a0_4a3e_9d9d_9531859e9dc1.jpeg" /></p>
<p>Application Interfaces</p>
<p>Click the connect button, the program will automatically enter the dialing process and get the IP settings, DNS, etc. Wait patiently for a few seconds, and then click the ping button to test.</p>
</section>
<section id="wifi-test">
<h4>3.1.9 WIFI Test<a class="headerlink" href="#wifi-test" title="Link to this heading"></a></h4>
<p>“WIFI” is a tool to configure wifi. The OK3568 platform has the AW-CM358 module on board by default. The wifi module exists in the system as a mlan node, and this test corresponds to mlan0 (other corresponding nodes are used for multiple devices):</p>
<p><strong>Note: Be sure to install the Wifi antenna when startup.</strong></p>
<p><img alt="Image" src="_images/1719278342777_71fbf17c_b33f_45fa_8b54_58b2385e1a1f.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278342968_2427f6a6_d21b_4a30_a759_482fda9f802f.jpeg" /></p>
<p>Application Interfaces</p>
<p>Select mlan0, enter the router name (the one connected to wifi) in the SSID column, enter the router password in the PAWD column, click CONNECT to the router via wifi, enter a valid ip in the IP column, and then click ping to see if the currently used wifi network is smooth.</p>
<p>By default, the AW-CM358 module is soldered to the OK3568 backplane, and only the mlan0 node is soldered. Take mlan0 as an example to demonstrate the use of the wifi tool.</p>
<p>Open the Wifi test app, enter the correct network name and password, click CONNECT, wait 5 seconds, and click STATUS to view the connection ledge.</p>
<p>After the connection is successful, click ping to test the network.</p>
<p><img alt="Image" src="_images/1719278343211_ff947899_2693_44bf_aeb9_1eac2e775a2f.jpeg" /></p>
</section>
<section id="network-configuration-test">
<h4>3.1.10 Network Configuration Test<a class="headerlink" href="#network-configuration-test" title="Link to this heading"></a></h4>
<p>When the OK3568 starts up, the default setting of the NIC is dhcp. The two modes of dhcp and static can be selected through the “Network” configuration application, and the static mode can be configured with ip address, subnet mask, gateway, and DNS.</p>
<p><img alt="Image" src="_images/1719278343505_ef3b8313_7f9f_4046_9829_854446a777b8.png" /></p>
<p>Application Icons</p>
<p>The interface is as follows:</p>
<p><img alt="Image" src="_images/1719278343711_d466a46d_345d_4d4c_a18c_a69c2871d95d.png" /></p>
<p>Select eth0 or eth1, then select DHCP, and click “Application” at the bottom of the interface to restart the network and automatically obtain IP.</p>
<p>Click STATIC, select Set Static IP, enter the IP to be set in the IP column, enter the subnet mask in the netmask column, enter the gateway in the getaway column, and enter the DNS in the DNS column.</p>
<p>After entering the URL and clicking the ping key, the result of the ping will prompt on the left, as follows:</p>
<p><img alt="Image" src="_images/1719278343972_0afb76db_63cb_45da_a6e5_d22b08cfd289.png" /></p>
<p><strong>Note: Information such as ip set in STATIC mode is saved to the relevant configuration file of the system so each reboot will use the network information set this time; network information configured in DHCP mode, on the other hand, does not need to care about this; ip addresses are dynamically assigned every reboot.</strong></p>
</section>
<section id="browser-tests">
<h4>3.1.11 Browser Tests<a class="headerlink" href="#browser-tests" title="Link to this heading"></a></h4>
<p>“Simplebrowser” is a simple and practical web browser. Please ensure smooth network connection when using it, and make sure DNS is available before accessing external websites. By default, the browser launches and accesses the official website of Forlinx Embedded. Click the icon:</p>
<p><img alt="Image" src="_images/1719278344166_5e581467_5fca_46a1_b831_546f334a5bfa.png" /></p>
<p>The interface is as follows:</p>
<p><strong>Note: If the development board time is abnormal,  it will cause certificate problems. Do not shut down the power immediately after using the browser or the sync command at the command line. Otherwise, it may cause the browser to exit abnormally and not work properly, and can only be solved by re-burning.</strong></p>
<p><img alt="Image" src="_images/1719278344475_8254f288_d525_423d_a733_826149a47378.png" /></p>
<p>Exit this browser via the upper navigation bar File-&gt;Quit.</p>
</section>
<section id="watchdog-tests">
<h4>3.1.12 Watchdog Tests<a class="headerlink" href="#watchdog-tests" title="Link to this heading"></a></h4>
<p>“WatchDog” is an application used to test the watchdog status.</p>
<p><img alt="Image" src="_images/1719278344842_75e227c5_74a1_4d36_8dd5_9570f5fef866.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278345098_b4ecb513_38b6_4d9a_9d25_a8fadb05bd75.png" /></p>
<p>Application Interfaces</p>
<p>Click start to open the dog feeding function by default and feed the dog regularly. At this time, the system will not restart.</p>
<p>When unchecking feed dog, count down 6s and the system enters reboot. It indicates that the Watchdog function is normal.</p>
</section>
<section id="key-tests">
<h4>3.1.13 Key Tests<a class="headerlink" href="#key-tests" title="Link to this heading"></a></h4>
<p>The “Keypad” is used to test whether the platform’s own keys are available:</p>
<p><img alt="Image" src="_images/1719278345285_92ffe334_fb43_466f_b80a_e6e9bdfb6ffa.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278345454_3ec0497f_b53c_4d1b_b29b_3262851f300b.jpeg" /></p>
<p>Application Interfaces</p>
<p>By default, OK3568 platform configures the four physical buttons V+, V-, Home, and ESC as the Volume + and Volume - keys, Home, and Return keys, respectively. The corresponding key in the test application will turn blue when pressing the key, indicating that the key is in normal status.</p>
<p>Press “X” to exit the current routine and return to the system desktop.</p>
</section>
<section id="rtc-test">
<h4>3.1.14 RTC Test<a class="headerlink" href="#rtc-test" title="Link to this heading"></a></h4>
<p>The “RTC” application allows you to view and set the current system time:</p>
<p><img alt="Image" src="_images/1719278345659_69a69214_d59b_4f30_a277_79b4ae7638ce.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278345878_2faee878_578c_4126_b6e7_ad04ae576bb2.png" /></p>
<p>Application Interfaces</p>
<p>After selecting “Manual,” you can manually set the time by choosing “date” and “time,” then click “apply” to complete the settings. With the RTC backup battery installed, the time will not be lost in case of a power outage and reboot.</p>
<p>Click Auto to perform network timing, and click apply to perform timing successfully.</p>
</section>
<section id="spi-test">
<h4>3.1.15 SPI Test<a class="headerlink" href="#spi-test" title="Link to this heading"></a></h4>
<p>Click on the desktop icon to use it to test the OK3568 on-board SPI interface. Spi0 has one CS interface, corresponding to the/dev/spidev 0.0; spi2 has two CS interfaces, corresponding to/dev/spidev2.0 and/dev/spidev2.1, respectively.</p>
<p>Short the spi2 T/R pins according to the board schematic. The short circuit test does not need to consider the CS interface; if additional equipment is used for communication, the corresponding dev interface needs to be considered.</p>
<p><img alt="Image" src="_images/1719278346060_8972ef99_0fee_40b3_b2e0_2559ce1d6f11.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278346331_1852b31a_992b_4f43_84c8_40a466716f67.png" /></p>
<p>Open the test program after the completion of short circuit, and click the send button to conduct the sending and receiving test.</p>
<p><img alt="Image" src="_images/1719278346635_2b8f1646_2a6e_48b9_a713_15eada1cc349.png" /></p>
<p>Application Interfaces</p>
<p><img alt="Image" src="_images/1719278346917_8e2caf6d_2081_430d_b4dd_369f0e4671b4.png" /></p>
<p>Click the Exit button to exit the test.</p>
</section>
<section id="uart-test">
<h4>3.1.16 UART Test<a class="headerlink" href="#uart-test" title="Link to this heading"></a></h4>
<p>Click on the desktop icon to use it to test the OK3568 on-board UART interface.</p>
<p><img alt="Image" src="_images/1719278347128_407709e9_5608_4d5d_a510_2e6c4c88ca65.png" /></p>
<p>Application Icons</p>
<p>OK3568 serial port supports odd and even parity, 8 data bits and 1 stop bit.</p>
<p>Please short the serial port to be tested before the serial port loopback test. UART3, UART4, UART5 and UART8 serial ports are indicated in the schematic diagram of OK3568 platform carrier board, in which UART2 is the debugging serial port and UART8 is the Bluetooth serial port. The default device names of UART3, UART4 and UART5 in the development board are ttyS3, ttyS4 and ttyS5 respectively. Here, take the test of UART4 serial port as an example. According to the schematic diagram of the development board, the transceiver pins of UART4 are short-circuited, corresponding to PIN29 and PIN30 respectively.</p>
<p><img alt="Image" src="_images/1719278347360_b24c7a70_e419_4bd6_8b07_25e3e8813f42.png" /></p>
<p>Turn on the test program after the short circuit is completed.</p>
<p>Click Settings on the right, select parameters such as serial port and baud rate, and click apply. Set parameter successfully. Then click the first button on the right to connect.</p>
<p><img alt="Image" src="_images/1719278348053_af679c45_cbcf_40aa_8081_1046c17d4a48.png" /></p>
<p>Application Interfaces</p>
<p>Click the keyboard “1” to send automatically. Due to the problem of short circuit, the received “1” will also be displayed on the terminal.</p>
<p><img alt="Image" src="_images/1719278348286_2c3fd0dd_574f_4aa5_98b8_52258308b532.png" /></p>
</section>
<section id="backlight-test">
<h4>3.1.17 Backlight Test<a class="headerlink" href="#backlight-test" title="Link to this heading"></a></h4>
<p>“BackLight” is the lcd backlight adjustment application:</p>
<p><img alt="Image" src="_images/1719278348482_f019814c_b412_485c_baf3_84bf915802e6.png" /></p>
<p>Application Icons</p>
<p><img alt="Image" src="_images/1719278348704_ba67c57c_27b1_40c3_8206_4f722163f1ca.jpeg" /></p>
<p>Application Interfaces</p>
<p>Drag the slider in the interface to set the Lcd backlight brightness, level 0 is no backlight, level 255 is the highest level.</p>
</section>
<section id="cpu-frequency-configuration-test">
<h4>3.1.18 CPU Frequency Configuration Test<a class="headerlink" href="#cpu-frequency-configuration-test" title="Link to this heading"></a></h4>
<p>Click the desktop icon to enter the next menu:</p>
<p><img alt="Image" src="_images/1719278348931_c1b9c9d6_80ba_4d86_8c81_5088e2175809.png" /><strong>-&gt;</strong><img alt="Image" src="_images/1719278349161_81e0b3d5_37d8_447e_8cf5_154d6f26b660.png" /></p>
<p>Application Icons</p>
<p>The main frequency of OK3568 CPU is up to 1.9 Ghz. By default, the CPU will dynamically adjust the main frequency according to the load. The main frequency of the CPU can also be fixed by setting.  Click the desktop Power icon to enter the CPU frequency setting page:</p>
<p><img alt="Image" src="_images/1719278349339_bced7ad8_3cb7_438d_bc00_e5cf2f7ba5ba.jpeg" /></p>
<p>Set Userspace Governor: Set the main frequency in the user mode</p>
<p>Set Frequency A55: Set the main frequency</p>
<p>Take the setting of main frequency as an example. If it is necessary to set a fixed frequency, please click Set Userspace Governor, click run, return to the operation interface as shown in the figure above, and click Set Frequency A55 to set.</p>
<p><img alt="Image" src="_images/1719278349538_3585a87e_e5ad_43fb_934a_f97477b071d2.jpeg" /></p>
<p>Select the corresponding frequency for setting according to the requirements.</p>
</section>
</section>
</section>
<section id="ok3568-command-line-function-test">
<h2>4. OK3568 Command Line Function Test<a class="headerlink" href="#ok3568-command-line-function-test" title="Link to this heading"></a></h2>
<section id="command-line-function-test">
<h3>4.1 Command Line Function Test<a class="headerlink" href="#command-line-function-test" title="Link to this heading"></a></h3>
<p>The OK3568 platform has various built-in command line tools available to users.</p>
<section id="system-information-query">
<h4>4.1.1 System Information Query<a class="headerlink" href="#system-information-query" title="Link to this heading"></a></h4>
<p>To view kernel and CPU information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>uname<span class="w"> </span>-a
Linux<span class="w"> </span>OK3568-buildroot<span class="w"> </span><span class="m">5</span>.10.160<span class="w"> </span><span class="c1">#1 SMP Fri Oct 13 08:48:42 HKT 2023 aarch64 GNU/Linux</span>
</pre></div>
</div>
<p>View operating system information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/etc/issue
Welcome<span class="w"> </span>to<span class="w"> </span>RK3566_RK3568<span class="w"> </span>Buildroot
</pre></div>
</div>
<p>View environment variable information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>env
<span class="nv">SHELL</span><span class="o">=</span>/bin/bash
<span class="nv">GST_V4L2_PREFERRED_FOURCC</span><span class="o">=</span>NV12:YU12:NV16:YUY2
<span class="nv">GST_VIDEO_CONVERT_PREFERRED_FORMAT</span><span class="o">=</span>NV12:NV16:I420:YUY2
<span class="nv">SEATD_VTBOUND</span><span class="o">=</span><span class="m">0</span>
<span class="nv">PIXMAN_USE_RGA</span><span class="o">=</span><span class="m">1</span>
<span class="nv">UMS_RO</span><span class="o">=</span><span class="m">0</span>
<span class="nv">CHROMIUM_FLAGS</span><span class="o">=</span>--enable-wayland-ime
<span class="nv">GST_V4L2_USE_LIBV4L2</span><span class="o">=</span><span class="m">1</span>
<span class="nv">UMS_MOUNTPOINT</span><span class="o">=</span>/mnt/ums
<span class="nv">GST_INSPECT_NO_COLORS</span><span class="o">=</span><span class="m">1</span>
<span class="nv">UMS_MOUNT</span><span class="o">=</span><span class="m">0</span>
<span class="nv">PULSE_HOME</span><span class="o">=</span>/userdata/.pulse
<span class="nv">QT_GSTREAMER_WINDOW_VIDEOSINK</span><span class="o">=</span>waylandsink
<span class="nv">EDITOR</span><span class="o">=</span>/bin/vi
<span class="nv">GST_DEBUG_NO_COLOR</span><span class="o">=</span><span class="m">1</span>
<span class="nv">PWD</span><span class="o">=</span>/
<span class="nv">LOGNAME</span><span class="o">=</span>root
<span class="nv">PREFERED_VIDEOSINK</span><span class="o">=</span>waylandsink
<span class="nv">UMS_SIZE</span><span class="o">=</span>256M
<span class="nv">HOME</span><span class="o">=</span>/root
<span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nv">ADB_TCP_PORT</span><span class="o">=</span><span class="m">5555</span>
<span class="nv">WESTON_FREEZE_DISPLAY</span><span class="o">=</span>/tmp/.freeze_weston
<span class="nv">QT_GSTREAMER_WIDGET_VIDEOSINK</span><span class="o">=</span>waylandsink
<span class="nv">WAYLANDSINK_FORCE_DMABUF</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GST_V4L2SRC_DEFAULT_DEVICE</span><span class="o">=</span>/dev/video-camera0
<span class="nv">TERM</span><span class="o">=</span>vt100
<span class="nv">USER</span><span class="o">=</span>root
<span class="nv">UMS_FILE</span><span class="o">=</span>/userdata/ums_shared.img
<span class="nv">AUTOAUDIOSINK_PREFERRED</span><span class="o">=</span>pulsesink
<span class="nv">ADBD_SHELL</span><span class="o">=</span>/bin/bash
<span class="nv">GST_V4L2SRC_RK_DEVICES</span><span class="o">=</span>_mainpath:_selfpath:_bypass:_scale
<span class="nv">WESTON_DRM_MIRROR</span><span class="o">=</span><span class="m">1</span>
<span class="nv">UMS_FSTYPE</span><span class="o">=</span>vfat
<span class="nv">SHLVL</span><span class="o">=</span><span class="m">1</span>
<span class="nv">GST_VIDEO_FLIP_USE_RGA</span><span class="o">=</span><span class="m">1</span>
<span class="nv">USB_FUNCS</span><span class="o">=</span>adb
<span class="nv">QT_GSTREAMER_PLAYBIN</span><span class="o">=</span>playbin3
<span class="nv">WESTON_DISABLE_ATOMIC</span><span class="o">=</span><span class="m">1</span>
<span class="nv">XDG_RUNTIME_DIR</span><span class="o">=</span>/var/run
<span class="nv">PLAYBIN2_PREFERRED_AUDIOSINK</span><span class="o">=</span>pulsesink
<span class="nv">GST_VIDEO_CONVERT_USE_RGA</span><span class="o">=</span><span class="m">1</span>
<span class="nv">PATH</span><span class="o">=</span>/usr/bin:/usr/sbin
<span class="nv">QTWEBENGINE_CHROMIUM_FLAGS</span><span class="o">=</span>--no-sandbox<span class="w"> </span>--disable-es3-gl-context<span class="w"> </span>--ignore-gpu-blacklist<span class="w"> </span>--ignore-gpu-blocklist<span class="w"> </span>--enable-accelerated-video-decode
<span class="nv">GST_V4L2SRC_MAX_RESOLUTION</span><span class="o">=</span>3840x2160
<span class="nv">_</span><span class="o">=</span>/usr/bin/env
<span class="nv">OLDPWD</span><span class="o">=</span>/root
</pre></div>
</div>
</section>
<section id="fm-test">
<h4>4.1.2 FM Test<a class="headerlink" href="#fm-test" title="Link to this heading"></a></h4>
<p><strong>Note: This process takes cpu0 as an example, and the actual process of cpu1, cpu2, and cpu3 will be changed at the same time.</strong></p>
<p>1.  All cpufreq governor types supported in the current kernel:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
conservative<span class="w"> </span>ondemand<span class="w"> </span>userspace<span class="w"> </span>powersave<span class="w"> </span>interactive<span class="w"> </span>performance
</pre></div>
</div>
<p>The userspace indicates user mode, in which other users’ programs can adjust the CPU frequency.</p>
<p>2.\ To view the frequency gear supported by the current CPU;</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies
<span class="m">408000</span><span class="w"> </span><span class="m">600000</span><span class="w"> </span><span class="m">816000</span><span class="w"> </span><span class="m">1104000</span><span class="w"> </span><span class="m">1416000</span><span class="w"> </span><span class="m">1608000</span><span class="w"> </span><span class="m">1800000</span><span class="w"> </span><span class="m">1992000</span>
</pre></div>
</div>
<p>3. Set to user mode and modify the frequency to 1800000:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>userspace<span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1800000</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed
</pre></div>
</div>
<p>View the modified current frequency:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq
<span class="m">1800000</span>
</pre></div>
</div>
</section>
<section id="temperature-test">
<h4>4.1.3 Temperature Test<a class="headerlink" href="#temperature-test" title="Link to this heading"></a></h4>
<p>View the temperature value:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/thermal/thermal_zone0/temp
<span class="m">56111</span>
</pre></div>
</div>
<p>The temperature value is 56°C.</p>
</section>
<section id="ddr-bandwidth-test">
<h4>4.1.4 DDR Bandwidth Test<a class="headerlink" href="#ddr-bandwidth-test" title="Link to this heading"></a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>memory_bandwidth.sh
</pre></div>
</div>
<p>Take OK3568-C as an example. As follows：</p>
<p><img alt="Image" src="_images/1719278349807_b0062ff0_42e9_4dc0_953c_c6e41b1ddf7f.png" /></p>
<p>The OK3568-C has a DDR4 write bandwidth of about 1480M/s and a read bandwidth of about 5100M/s.</p>
</section>
<section id="id1">
<h4>4.1.5 Key Tests<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p><img alt="Image" src="_images/1719278350041_69289c78_69d0_4604_9725_f359e0d01c07.png" /></p>
<p>Use the keytest command line tool to test the keys. At present, keytest supports the test of the four keys V +, V-, Home and ESC on the backplane, and the key codes are 115, 114, 139 and 158 respectively. At this point, press the lift button in sequence, and the following can be output on the terminal:</p>
<p>Execute the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w">  </span>fltest_keytest
Available<span class="w"> </span>devices:
/dev/input/event2:<span class="w">    </span>adc-keys
key115<span class="w"> </span>Presse
key115<span class="w"> </span>Released
key114<span class="w"> </span>Presse
key114<span class="w"> </span>Released
key139<span class="w"> </span>Presse
key139<span class="w"> </span>Released
key158<span class="w"> </span>Presse
key158<span class="w"> </span>Released
</pre></div>
</div>
</section>
<section id="serial-port-test">
<h4>4.1.6 Serial Port Test<a class="headerlink" href="#serial-port-test" title="Link to this heading"></a></h4>
<p>OK3568 serial port supports odd and even parity, 8 data bits and 1 stop bit.</p>
<p>Please short the serial port to be tested before the serial port loopback test. In the schematic diagram of the OK3568 platform, UART2, UART3, UART4, UART5, and UART8 are indicated as 5 serial ports, with UART2 being the debug port and UART8 being the Bluetooth port. The serial ports available to the user are UART3, UART4 and UART5, and the corresponding device names in the development board are ttyS3, ttyS4 and ttyS5. Take the test of UART4 serial port as an example, short-circuit the receiving and transmitting pins of UART4 according to the schematic diagram of the development board, corresponding to PIN29 and PIN30 respectively.</p>
<p><img alt="Image" src="_images/1719278350392_6790a64b_37c7_4cda_95b6_f8ce5d08686a.png" /></p>
<p>Turn on the test program after the short circuit is completed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_uarttest<span class="w"> </span>-d<span class="w"> </span>/dev/ttyS4
Welcome<span class="w"> </span>to<span class="w"> </span>uart<span class="w"> </span><span class="nb">test</span>
Send<span class="w"> </span><span class="nb">test</span><span class="w"> </span>data:
forlinx_uart_test.1234567890...
Read<span class="w"> </span>Test<span class="w"> </span>Data<span class="w"> </span>finished,Read:
forlinx_uart_test.1234567890...
</pre></div>
</div>
<p>If the serial port prints the above content after execution, it indicates that the serial port communication is basically normal.</p>
</section>
<section id="id2">
<h4>4.1.7 SPI Test<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p>2 x SPI interfaces are led out from the OK3568 carrier board, which are configured as spidev in the default software for loopback test. When testing, refer to the schematic for shorting MOSI (PIN15) and MISO (PIN16), and then use the commands below to test each.</p>
<p><img alt="Image" src="_images/1719278350643_b70444ce_bf67_4e70_8a94_831eb688b494.png" /></p>
<p>Without shorting the SPI 2_ MOSI and the SPI 2_ MISO, execute the test command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_spidev_test<span class="w"> </span>-D<span class="w"> </span>/dev/spidev2.0
spi<span class="w"> </span>mode:<span class="w"> </span>0x0
bits<span class="w"> </span>per<span class="w"> </span>word:<span class="w"> </span><span class="m">8</span>
max<span class="w"> </span>speed:<span class="w"> </span><span class="m">500000</span><span class="w"> </span>Hz<span class="w"> </span><span class="o">(</span><span class="m">500</span><span class="w"> </span>KHz<span class="o">)</span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF
</pre></div>
</div>
<p>Short circuit the SPI 2_ MOSI to the SPI 2_ MISO and execute the test command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_spidev_test<span class="w"> </span>-D<span class="w"> </span>/dev/spidev2.0
spi<span class="w"> </span>mode:<span class="w"> </span>0x0
bits<span class="w"> </span>per<span class="w"> </span>word:<span class="w"> </span><span class="m">8</span>
max<span class="w"> </span>speed:<span class="w"> </span><span class="m">500000</span><span class="w"> </span>Hz<span class="w"> </span><span class="o">(</span><span class="m">500</span><span class="w"> </span>KHz<span class="o">)</span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
<span class="m">40</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">95</span>
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF<span class="w"> </span>FF
DE<span class="w"> </span>AD<span class="w"> </span>BE<span class="w"> </span>EF<span class="w"> </span>BA<span class="w"> </span>AD
F0<span class="w"> </span>0D
</pre></div>
</div>
</section>
<section id="id3">
<h4>4.1.8 Watchdog Tests<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>Watchdog is a function often used in embedded systems. The device node of watchdog in OK3568 is/dev/watchdog. This test provides two test procedures, and the user can choose one of them to test according to the actual situation.</p>
<section id="start-the-fltest-watchdog-set-the-time-as-10s-and-feed-the-dog-regularly">
<h5>4.1.8.1 Start the fltest _ watchdog, set the time as 10s, and feed the dog regularly.<a class="headerlink" href="#start-the-fltest-watchdog-set-the-time-as-10s-and-feed-the-dog-regularly" title="Link to this heading"></a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_watchdog
Watchdog<span class="w"> </span>Ticking<span class="w"> </span>Away!
</pre></div>
</div>
<p>This command turns on the watchdog and performs a feed, so the system does not reboot.</p>
<p><strong>Note: When ctrl + C is used to end the test program, the system will reset after 10 seconds. If you do not want to reset, please input within 10 seconds after ctrl + C:</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_watchdog<span class="w"> </span>-d
Watchdog<span class="w"> </span>card<span class="w"> </span>disabled.<span class="w">   </span>//Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>watchdog
</pre></div>
</div>
</section>
<section id="start-the-fltest-watchdog-restart-set-the-reset-time-to-10-s-and-do-not-feed-the-dog">
<h5>4.1.8.2 Start the fltest _ watchdog restart, set the reset time to 10 s, and do not feed the dog.<a class="headerlink" href="#start-the-fltest-watchdog-restart-set-the-reset-time-to-10-s-and-do-not-feed-the-dog" title="Link to this heading"></a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_watchdogrestart
Restart<span class="w"> </span>after<span class="w"> </span><span class="m">10</span><span class="w"> </span>seconds
</pre></div>
</div>
<p>This command turns on the watchdog, but does not feed the dog, and the system reboots after 10 seconds.</p>
</section>
</section>
<section id="id4">
<h4>4.1.9 WIFI Test<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<p>The OK3568 supports the onboard AW-CM358 by default and supports STA and AP modes.</p>
<section id="sta-mode">
<h5>4.1.9.1 STA Mode<a class="headerlink" href="#sta-mode" title="Link to this heading"></a></h5>
<p>Before using the wifi function, the following steps are required for configuration:</p>
<p>Step 1:</p>
<p>Assume that the SSID name of the Wifi hotspot is ChinaNet-Jvgv and the password is asdasd123</p>
<p>Enter the following command in the development board terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_wifi.sh<span class="w"> </span>-i<span class="w"> </span>mlan0<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;ChinaNet-Jvgv&quot;</span><span class="w"> </span>-p<span class="w"> </span>asdasd123
</pre></div>
</div>
<p>In the above command,</p>
<p>The specific assignment of “wlan0” or “wlan1” to a particular module needs to be determined before use, and it depends on the actual situation.</p>
<p>-s The actual wifi hotspot name of the connection;</p>
<p>-p followed by the parameter Password refers to the password of the actual wifi hotspot to be connected. If the current hotspot does not have a password, the parameter after -p is NONE.</p>
<p>Step 2:</p>
<p>Check whether it can ping the external network and enter the following command in the terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>ping<span class="w"> </span>www.forlinx.com
PING<span class="w"> </span>www.forlinx.com<span class="w"> </span><span class="o">(</span><span class="m">220</span>.181.111.188<span class="o">)</span>:<span class="w"> </span><span class="m">56</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">5</span>.562<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">5</span>.884<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.595<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.323<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">4</span>.682<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">220</span>.181.111.188:<span class="w"> </span><span class="nv">seq</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">57</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">3</span>.798<span class="w"> </span>ms
</pre></div>
</div>
<p>If you want to stop, you need to press Ctrl + C to ping, indicating that the network can be used normally at this time.</p>
</section>
<section id="ap-mode">
<h5>4.1.9.2 AP Mode<a class="headerlink" href="#ap-mode" title="Link to this heading"></a></h5>
<p>Before using the hotspot function, you need to connect and configure the network port to ensure that the network port can be connected to the Internet. Configure the hotspot command. The command AP becomes DISABLED in the first pass, and becomes ENABLE in the second pass, as shown below:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_hostapd.sh
killall:<span class="w"> </span>hostapd:<span class="w"> </span>no<span class="w"> </span>process<span class="w"> </span>killed
Stopping<span class="w"> </span>dnsmasq:<span class="w"> </span>FAIL
Starting<span class="w"> </span>dnsmasq:<span class="w"> </span>Configuration<span class="w"> </span>file:<span class="w"> </span>/etc/hostapd-2.4g.conf
Using<span class="w"> </span>interface<span class="w"> </span>uap0<span class="w"> </span>with<span class="w"> </span>hwaddr<span class="w"> </span>ea:fb:1c:67:09:af<span class="w"> </span>and<span class="w"> </span>ssid<span class="w"> </span><span class="s2">&quot;OK3568_WIFI_2.4G_AP&quot;</span>
<span class="o">[</span><span class="w">   </span><span class="m">75</span>.916321<span class="o">]</span><span class="w"> </span>wlan:<span class="w"> </span>Starting<span class="w"> </span>AP
OK
root@OK3568-buildroot:/#<span class="w"> </span><span class="o">[</span><span class="w">   </span><span class="m">75</span>.917730<span class="o">]</span><span class="w"> </span>fw<span class="w"> </span>doesn<span class="s1">&#39;t support 11ax</span>
<span class="s1">[   75.925842] CMD_RESP: cmd 0xb1 error, result=0x1</span>
<span class="s1">Failed to set beacon parameters</span>
<span class="s1">[   75.925876] IOCTL failed: 0000000023c4c37b id=0x20000, sub_id=0x20001 action=1, status_code=0x1</span>
<span class="s1">Interface initialization failed</span>
<span class="s1">[   75.925901] woal_cfg80211_add_beacon: start uap failed</span>
<span class="s1">uap0: interface state UNINITIALIZED-&gt;DISABLED</span>
<span class="s1">uap0: AP-DISABLED</span>
<span class="s1">uap0: Unable to setup interface.</span>
<span class="s1">uap0: interface state DISABLED-&gt;DISABLED</span>
<span class="s1">uap0: AP-DISABLED</span>
<span class="s1">uap0: CTRL-EVENT-TERMINATING</span>
<span class="s1">hostapd_free_hapd_data: Interface uap0 wasn&#39;</span>t<span class="w"> </span>started
nl80211:<span class="w"> </span>deinit<span class="w"> </span><span class="nv">ifname</span><span class="o">=</span>uap0<span class="w"> </span><span class="nv">disabled_11b_rates</span><span class="o">=</span><span class="m">0</span>
root@OK3568-buildroot:/#<span class="w"> </span>fltest_hostapd.sh
killall:<span class="w"> </span>hostapd:<span class="w"> </span>no<span class="w"> </span>process<span class="w"> </span>killed
Stopping<span class="w"> </span>dnsmasq:<span class="w"> </span>OK
Starting<span class="w"> </span>dnsmasq:<span class="w"> </span>Configuration<span class="w"> </span>file:<span class="w"> </span>/etc/hostapd-2.4g.conf
Using<span class="w"> </span>interface<span class="w"> </span>uap0<span class="w"> </span>with<span class="w"> </span>hwaddr<span class="w"> </span>ea:fb:1c:67:09:af<span class="w"> </span>and<span class="w"> </span>ssid<span class="w"> </span><span class="s2">&quot;OK3568_WIFI_2.4G_AP&quot;</span>
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.878776<span class="o">]</span><span class="w"> </span>wlan:<span class="w"> </span>Starting<span class="w"> </span>AP
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.880177<span class="o">]</span><span class="w"> </span>fw<span class="w"> </span>doesn<span class="err">&#39;</span>t<span class="w"> </span>support<span class="w"> </span>11ax
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.890603<span class="o">]</span><span class="w"> </span>wlan:<span class="w"> </span>AP<span class="w"> </span>started
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.890785<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>:<span class="w"> </span>uap0:<span class="w"> </span>link<span class="w"> </span>becomes<span class="w"> </span>ready
OK
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.896832<span class="o">]</span><span class="w"> </span>Set<span class="w"> </span><span class="nv">AC</span><span class="o">=</span><span class="m">3</span>,<span class="w"> </span><span class="nv">txop</span><span class="o">=</span><span class="m">47</span><span class="w"> </span><span class="nv">cwmin</span><span class="o">=</span><span class="m">3</span>,<span class="w"> </span><span class="nv">cwmax</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="nv">aifs</span><span class="o">=</span><span class="m">1</span>
root@OK3568-buildroot:/#<span class="w"> </span>uap0:<span class="w"> </span>interface<span class="w"> </span>state<span class="w"> </span>UNINITIALIZED-&gt;ENABLED
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.899399<span class="o">]</span><span class="w"> </span>Set<span class="w"> </span><span class="nv">AC</span><span class="o">=</span><span class="m">2</span>,<span class="w"> </span><span class="nv">txop</span><span class="o">=</span><span class="m">94</span><span class="w"> </span><span class="nv">cwmin</span><span class="o">=</span><span class="m">7</span>,<span class="w"> </span><span class="nv">cwmax</span><span class="o">=</span><span class="m">15</span><span class="w"> </span><span class="nv">aifs</span><span class="o">=</span><span class="m">1</span>
uap0:<span class="w"> </span>AP-ENABLED
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.901643<span class="o">]</span><span class="w"> </span>Set<span class="w"> </span><span class="nv">AC</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">txop</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">cwmin</span><span class="o">=</span><span class="m">15</span>,<span class="w"> </span><span class="nv">cwmax</span><span class="o">=</span><span class="m">63</span><span class="w"> </span><span class="nv">aifs</span><span class="o">=</span><span class="m">3</span>
<span class="o">[</span><span class="w">   </span><span class="m">82</span>.903627<span class="o">]</span><span class="w"> </span>Set<span class="w"> </span><span class="nv">AC</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">txop</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">cwmin</span><span class="o">=</span><span class="m">15</span>,<span class="w"> </span><span class="nv">cwmax</span><span class="o">=</span><span class="m">1023</span><span class="w"> </span><span class="nv">aifs</span><span class="o">=</span><span class="m">7</span>
</pre></div>
</div>
<p>WiFi Hotspot Name: forlinx</p>
<p>Password: 12345678</p>
<p>At this time, the mobile phone can connect to this hotspot and connect to the Internet.</p>
</section>
</section>
<section id="bluetooth-test">
<h4>4.1.10 Bluetooth Test<a class="headerlink" href="#bluetooth-test" title="Link to this heading"></a></h4>
<p>The AW-CM358 of the OK3568 carrier board has integrated Bluetooth. This section demonstrates the use of Bluetooth for file transfer between the phone and the development board.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568<span class="w"> </span>-<span class="w"> </span>buildroot:/#<span class="w"> </span>bluetoothctl<span class="w"> 				</span>//<span class="w"> </span>Open<span class="w"> </span>the<span class="w"> </span>BlueZ<span class="w"> </span>Bluetooth<span class="w"> </span>tool
Agent<span class="w"> </span>registered
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># power on 										// Start the Bluetooth device</span>
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">36</span>:DC:25:54:7C:CB<span class="w"> </span>Class:<span class="w"> </span>0x00100000
Changing<span class="w"> </span>power<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">36</span>:DC:25:54:7C:CB<span class="w"> </span>Powered:<span class="w"> </span>yes
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># pairable on 									// Set to pairing mode</span>
Changing<span class="w"> </span>pairable<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># discoverable on 								 // Set to discoverable mode</span>
Changing<span class="w"> </span>discoverable<span class="w"> </span>on<span class="w"> </span>succeeded
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">36</span>:DC:25:54:7C:CB<span class="w"> </span>Discoverable:<span class="w"> </span>yes
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># agent on 										// Start the agent</span>
Agent<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>registered
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># default - agent</span>
Default<span class="w"> </span>agent<span class="w"> </span>request<span class="w"> </span>successful
//<span class="w"> </span>At<span class="w"> </span>this<span class="w"> </span>time,<span class="w"> </span>turn<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>Bluetooth<span class="w"> </span>on<span class="w"> </span>your<span class="w"> </span>phone<span class="w"> </span>to<span class="w"> </span>scan.<span class="w"> </span>If<span class="w"> </span>it<span class="w"> </span>fails<span class="w"> </span>to<span class="w"> </span>scan<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>long<span class="w"> </span>time,<span class="w"> </span>please<span class="w"> </span>repeat<span class="w"> </span>the<span class="w"> </span>operation.
<span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># discoverable on 								// Set the current agent as the default</span>
//<span class="w"> </span>Click<span class="w"> </span>on<span class="w"> </span><span class="s2">&quot;BlueZ 5.50&quot;</span><span class="w"> </span>to<span class="w"> </span>pair.<span class="w"> </span>Perform<span class="w"> </span>password<span class="w"> </span>verification<span class="w"> </span>on<span class="w"> </span>both<span class="w"> </span>the<span class="w"> </span>phone<span class="w"> </span>and<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board,<span class="w"> </span>and<span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="s2">&quot;YES&quot;</span>.
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>OPPO<span class="w"> </span>Reno3<span class="w"> </span>Youth<span class="w"> </span>Edition<span class="w"> </span>5G
Request<span class="w"> </span>confirmation
<span class="o">[</span>agent<span class="o">]</span><span class="w"> </span>Confirm<span class="w"> </span>passkey<span class="w"> </span><span class="m">508432</span><span class="w"> </span><span class="o">(</span>yes/no<span class="o">)</span>:<span class="w"> </span>yes
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Modalias:<span class="w"> </span>bluetooth:v001Dp1200d1436
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001105</span><span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110a<span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110c<span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000110e<span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001112</span><span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001115</span><span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000111f<span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span>0000aa15<span class="w"> </span>-<span class="w"> </span><span class="m">0000</span><span class="w"> </span>-<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-<span class="w"> </span><span class="m">8000</span><span class="w"> </span>-<span class="w"> </span>00805f9b34fb
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>UUIDs:<span class="w"> </span><span class="m">00001235</span><span class="w"> </span>-<span class="w"> </span>95c<span class="w"> </span>-<span class="w"> </span>9f4f<span class="w"> </span>-<span class="w"> </span>bb80a90cdf00
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>ServicesResolved:<span class="w"> </span>yes
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Paired:<span class="w"> </span>yes
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Controller<span class="w"> </span><span class="m">36</span>:DC:25:54:7C:CB<span class="w"> </span>Discoverable:<span class="w"> </span>no
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>ServicesResolved:<span class="w"> </span>no
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Device<span class="w"> </span>C4:FE:5B:17:C7:78<span class="w"> </span>Connected:<span class="w"> </span>no
After<span class="w"> </span>successful<span class="w"> </span>pairing,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>share<span class="w"> </span>files<span class="w"> </span>from<span class="w"> </span>your<span class="w"> </span>phone<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board<span class="w"> </span>via<span class="w"> </span>Bluetooth.
</pre></div>
</div>
<p><img alt="Image" src="_images/1719278350913_df9c333d_0740_4ed5_931c_c055cae5b122.png" /></p>
<p>Type quit to exit bluetoothctl. The received file is located in the/root directory.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>bluetooth<span class="o">]</span><span class="c1"># quit</span>
root@OK3568-buildroot:/#<span class="w">  </span>ls<span class="w"> </span>/root/
wx_camera_1581992646090.jpg
At<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>time,<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>also<span class="w"> </span>send<span class="w"> </span>the<span class="w"> </span>files<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>mobile<span class="w"> </span>phone.
root@OK3568-buildroot:/#<span class="w"> </span>fltest_obexctl.sh
<span class="o">[</span>obex<span class="o">]</span><span class="c1"># connect C4:FE:5B:17:C7:78</span>
Attempting<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>C4:FE:5B:17:C7:78
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Session<span class="w"> </span>/org/bluez/obex/client/session0<span class="w"> </span><span class="o">[</span>default<span class="o">]</span>
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>ObjectPush<span class="w"> </span>/org/bluez/obex/client/session0
Connection<span class="w"> </span>successful
<span class="o">[</span>C4:FE:5B:17:C7:78<span class="o">]</span><span class="c1"># send /home/forlinx/audio/test.mp3</span>
Attempting<span class="w"> </span>to<span class="w"> </span>send<span class="w"> </span>/home/forlinx/audio/test.mp3<span class="w"> </span>to<span class="w"> </span>/org/bluez/obex/client/session0
<span class="o">[</span>NEW<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0
Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0
<span class="w">        </span>Status:<span class="w"> </span>queued
<span class="w">        </span>Name:<span class="w"> </span>test.mp3
<span class="w">        </span>Size:<span class="w"> </span><span class="m">4818092</span>
<span class="w">        </span>Filename:<span class="w"> </span>/home/forlinx/audio/test.mp3
<span class="w">        </span>Session:<span class="w"> </span>/org/bluez/obex/client/session0
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0<span class="w"> </span>Status:<span class="w"> </span>active
<span class="o">[</span>CHG<span class="o">]</span><span class="w"> </span>Transfer<span class="w"> </span>/org/bluez/obex/client/session0/transfer0<span class="w"> </span>Transferred:<span class="w"> </span><span class="m">8046</span><span class="w"> </span><span class="o">(</span>@8KB/s<span class="w"> </span><span class="m">09</span>:57<span class="o">)</span>
</pre></div>
</div>
<p><img alt="Image" src="_images/1719278351113_a7ae10ff_6f83_4923_8783_10849f874870.png" /></p>
<p><strong>Note: The files received by some manufacturers’ mobile phones must have suffixes, otherwise they will be rejected by the Android system. Therefore, when testing, please try to use files with suffix names for testing.</strong></p>
</section>
<section id="rtc-function-test">
<h4>4.1.11 RTC Function Test<a class="headerlink" href="#rtc-function-test" title="Link to this heading"></a></h4>
<p>RTC testing is mainly done by using the date and hwclock tools to set the software and hardware time. The test checks if the software clock can read and synchronize with the RTC clock when the development board is powered off and on again (Note: Make sure that the button battery is already installed on the board).</p>
<p><img alt="Image" src="_images/1719278351323_70952562_19f7_4ff3_b7d6_77c0f64f0936.png" /></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>date<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;2022-2-9 10:50:00&quot;</span><span class="w">		</span>//<span class="w"> </span>Set<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:50:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span><span class="w"> </span>
root@OK3568-buildroot:/#<span class="w"> </span>date<span class="w">							        </span>//<span class="w"> </span>Read<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:51:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span><span class="w"> </span>
root@OK3568-buildroot:/#<span class="w"> </span>hwclock<span class="w"> </span>-r<span class="w">					            </span>//<span class="w"> </span>Check<span class="w"> </span>the<span class="w"> </span>hardware<span class="w"> </span><span class="nb">time</span>
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">02</span>:50:14<span class="w"> </span><span class="m">2022</span><span class="w">  </span><span class="m">0</span>.000000<span class="w"> </span>seconds<span class="w"> </span>
root@OK3568-buildroot:/#<span class="w"> </span>hwclock<span class="w"> </span>-w<span class="w"> </span>-u<span class="w">				           </span>//<span class="w"> </span>Calculate<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span><span class="w"> </span>zone<span class="w"> </span>based<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>system<span class="w"> </span><span class="nb">time</span><span class="w"> </span>and<span class="w"> </span>write<span class="w"> </span>it<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>RTC
//<span class="w"> </span>Restart<span class="w"> </span>the<span class="w"> </span>development<span class="w"> </span>board.<span class="w"> </span>After<span class="w"> </span>entering<span class="w"> </span>the<span class="w"> </span>system,<span class="w"> </span><span class="nb">read</span><span class="w"> </span>the<span class="w"> </span>system<span class="w"> </span><span class="nb">time</span><span class="w"> </span>and<span class="w"> </span>check<span class="w"> </span><span class="k">if</span><span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span><span class="nb">set</span><span class="w"> </span>time.<span class="w"> </span>Note<span class="w"> </span>that<span class="w"> </span>you<span class="w"> </span>should<span class="w"> </span>not<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>Internet,<span class="w"> </span>otherwise<span class="w"> </span>the<span class="w"> </span><span class="nb">time</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>automatically<span class="w"> </span>synchronized.
root@OK3568-buildroot:/#<span class="w"> </span>date
Wed<span class="w"> </span>Feb<span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>:52:00<span class="w"> </span>UTC<span class="w"> </span><span class="m">2022</span>
</pre></div>
</div>
</section>
<section id="usb-mouse-test">
<h4>4.1.12 USB Mouse Test<a class="headerlink" href="#usb-mouse-test" title="Link to this heading"></a></h4>
<p>Connect the USB mouse to the USB interface of the OK3568 platform, and the print information of the serial port terminal is as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">1513</span>.413310<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1.2:<span class="w"> </span>new<span class="w"> </span>low-speed<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">4</span><span class="w"> </span>using<span class="w"> </span>ehci-platform
<span class="o">[</span><span class="w"> </span><span class="m">1513</span>.503041<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1.2:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>found,<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span>192f,<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span><span class="m">0916</span>
<span class="o">[</span><span class="w"> </span><span class="m">1513</span>.503724<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1.2:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>strings:<span class="w"> </span><span class="nv">Mfr</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">Product</span><span class="o">=</span><span class="m">2</span>,<span class="w"> </span><span class="nv">SerialNumber</span><span class="o">=</span><span class="m">0</span>
<span class="o">[</span><span class="w"> </span><span class="m">1513</span>.504492<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1.2:<span class="w"> </span>Product:<span class="w"> </span>USB<span class="w"> </span>Optical<span class="w"> </span>Mouse
<span class="o">[</span><span class="w"> </span><span class="m">1513</span>.511579<span class="o">]</span><span class="w"> </span>input:<span class="w"> </span>USB<span class="w"> </span>Optical<span class="w"> </span>Mouse<span class="w"> </span>as<span class="w"> </span>/devices/platform/fe380000.usb/usb3/3-1/3-1.2/3-1.2:1.0/0003:192F:0916.0002/input/input7
<span class="o">[</span><span class="w"> </span><span class="m">1513</span>.564896<span class="o">]</span><span class="w"> </span>hid-generic<span class="w"> </span><span class="m">0003</span>:192F:0916.0002:<span class="w"> </span>input,hidraw0:<span class="w"> </span>USB<span class="w"> </span>HID<span class="w"> </span>v1.11<span class="w"> </span>Mouse<span class="w"> </span><span class="o">[</span>USB<span class="w"> </span>Optical<span class="w"> </span>Mouse<span class="o">]</span><span class="w"> </span>on<span class="w"> </span>usb-fe380000.usb-1.2/input0
</pre></div>
</div>
<p>At this time, the arrow cursor appears on the screen, the mouse can work normally.</p>
<p>When the USB mouse is disconnected, the printout in the serial terminal is as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@<span class="w"> </span>rk3568/<span class="o">]</span><span class="c1"># [ 1583.443782] usb 3-1.2: USB disconnect, device number 4</span>
</pre></div>
</div>
<p>The arrow cursor on the screen disappears and the mouse is successfully removed.</p>
</section>
<section id="usb-2-0-usb3-0">
<h4>4.1.13 USB 2.0/USB3.0<a class="headerlink" href="#usb-2-0-usb3-0" title="Link to this heading"></a></h4>
<p>OK3568 supports two USB 2.0 and one USB 3.0 interfaces. You can connect USB devices such as a mouse, keyboard, or USB flash drive to any of the onboard USB host interfaces. The board also supports hot-plugging for the mentioned devices. Demonstration with a mounting USB flash drive; the current USB flash drive test support up to 128G, but no test for 128G or above.</p>
<p><img alt="Image" src="_images/1719278351657_3fda5e10_b4c0_4a51_898b_6feff96a376a.png" /></p>
<p>USB3.0 and OTG are multiplexed and can be switched using a DIP switch. Please make sure that the DIP switch is set to the ON position when using the USB3.0 interface.</p>
<p><img alt="Image" src="_images/1719278351981_a705799e_6294_4750_b08a_8deeb641beaf.png" /></p>
<p>The terminal prints information about the USB flash drive, and since many types of USB flash drives exist, the information displayed may vary:</p>
<p>Step 1: After the development board has started, connect the USB flash drive to the USB host interface on the development board.</p>
<p>Serial port information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="w"> </span><span class="m">1771</span>.366204<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>new<span class="w"> </span>SuperSpeed<span class="w"> </span>Gen<span class="w"> </span><span class="m">1</span><span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">2</span><span class="w"> </span>using<span class="w"> </span>xhci-hcd
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.388752<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>found,<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span>05e3,<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span><span class="m">0749</span>,<span class="w"> </span><span class="nv">bcdDevice</span><span class="o">=</span><span class="m">15</span>.35
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.388893<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>New<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>strings:<span class="w"> </span><span class="nv">Mfr</span><span class="o">=</span><span class="m">3</span>,<span class="w"> </span><span class="nv">Product</span><span class="o">=</span><span class="m">4</span>,<span class="w"> </span><span class="nv">SerialNumber</span><span class="o">=</span><span class="m">5</span>
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.388930<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>Product:<span class="w"> </span>USB3.0<span class="w"> </span>Card<span class="w"> </span>Reader
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.388988<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>Manufacturer:<span class="w"> </span>Generic
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.389034<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">8</span>-1:<span class="w"> </span>SerialNumber:<span class="w"> </span><span class="m">000000001536</span>
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.396803<span class="o">]</span><span class="w"> </span>usb-storage<span class="w"> </span><span class="m">8</span>-1:1.0:<span class="w"> </span>USB<span class="w"> </span>Mass<span class="w"> </span>Storage<span class="w"> </span>device<span class="w"> </span>detected
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.397699<span class="o">]</span><span class="w"> </span>usb-storage<span class="w"> </span><span class="m">8</span>-1:1.0:<span class="w"> </span>Quirks<span class="w"> </span>match<span class="w"> </span><span class="k">for</span><span class="w"> </span>vid<span class="w"> </span>05e3<span class="w"> </span>pid<span class="w"> </span><span class="m">0749</span>:<span class="w"> </span><span class="m">420</span>
<span class="o">[</span><span class="w"> </span><span class="m">1771</span>.397897<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span>host0:<span class="w"> </span>usb-storage<span class="w"> </span><span class="m">8</span>-1:1.0
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.421609<span class="o">]</span><span class="w"> </span>scsi<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span>Direct-Access<span class="w">     </span>Generic<span class="w">  </span>MassStorageClass<span class="w"> </span><span class="m">1536</span><span class="w"> </span>PQ:<span class="w"> </span><span class="m">0</span><span class="w"> </span>ANSI:<span class="w"> </span><span class="m">6</span>
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.725888<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span><span class="m">31116288</span><span class="w"> </span><span class="m">512</span>-byte<span class="w"> </span>logical<span class="w"> </span>blocks:<span class="w"> </span><span class="o">(</span><span class="m">15</span>.9<span class="w"> </span>GB/14.8<span class="w"> </span>GiB<span class="o">)</span>
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.726972<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Write<span class="w"> </span>Protect<span class="w"> </span>is<span class="w"> </span>off
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.728240<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Write<span class="w"> </span>cache:<span class="w"> </span>disabled,<span class="w"> </span><span class="nb">read</span><span class="w"> </span>cache:<span class="w"> </span>enabled,<span class="w"> </span>doesn<span class="err">&#39;</span>t<span class="w"> </span>support<span class="w"> </span>DPO<span class="w"> </span>or<span class="w"> </span>FUA
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.737200<span class="o">]</span><span class="w">  </span>sda:<span class="w"> </span>sda1
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.741706<span class="o">]</span><span class="w"> </span>sd<span class="w"> </span><span class="m">0</span>:0:0:0:<span class="w"> </span><span class="o">[</span>sda<span class="o">]</span><span class="w"> </span>Attached<span class="w"> </span>SCSI<span class="w"> </span>removable<span class="w"> </span>disk
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.946654<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>utf8<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>a<span class="w"> </span>recommended<span class="w"> </span>IO<span class="w"> </span>charset<span class="w"> </span><span class="k">for</span><span class="w"> </span>FAT<span class="w"> </span>filesystems,<span class="w"> </span>filesystem<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span><span class="k">case</span><span class="w"> </span>sensitive!
<span class="o">[</span><span class="w"> </span><span class="m">1772</span>.949198<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>sda1<span class="o">)</span>:<span class="w"> </span>Volume<span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>properly<span class="w"> </span>unmounted.<span class="w"> </span>Some<span class="w"> </span>data<span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>corrupt.<span class="w"> </span>Please<span class="w"> </span>run<span class="w"> </span>fsck.
</pre></div>
</div>
<p>Step 2: View the mount directory</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>ls<span class="w"> </span>/run/media/
</pre></div>
</div>
<p>sda1 //sda1 is the first USB storage device inserted, and so on.</p>
<p>Step 3: View the contents of the USB flash disk:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@<span class="w"> </span>ok3568:/<span class="o">]</span><span class="c1"># ls -l /run/media/sda1</span>
drwxrwx---<span class="w"> </span><span class="m">3</span><span class="w"> </span>root<span class="w"> </span>disk<span class="w">      </span><span class="m">8192</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">2021</span><span class="w">  </span>Music
</pre></div>
</div>
<p>Before reading and writing, you need to pay attention to the frequency of the CPU.</p>
<p>Write test:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/run/media/sda1/test<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">500</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fsync
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">37</span>.3332<span class="w"> </span>s,<span class="w"> </span><span class="m">14</span>.0<span class="w"> </span>MB/s//The<span class="w"> </span>write<span class="w"> </span>speed<span class="w"> </span>is<span class="w"> </span>limited<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>specific<span class="w"> </span>storage<span class="w"> </span>device.
</pre></div>
</div>
<p>Read test：</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/run/media/sda1/test<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">20</span>.0277<span class="w"> </span>s,<span class="w"> </span><span class="m">26</span>.2<span class="w"> </span>MB/s<span class="w">   </span>
</pre></div>
</div>
</section>
<section id="screen-backlight-adjustment">
<h4>4.1.14 Screen Backlight Adjustment<a class="headerlink" href="#screen-backlight-adjustment" title="Link to this heading"></a></h4>
<p>Backlight level range (0–255), maximum level 255, 0 indicating turn off. Enter the system and enter the following command in the terminal to perform the backlight test.</p>
<p><strong>1. View the current screen backlight values:</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568<span class="w"> </span>-<span class="w"> </span>buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/backlight/lvds<span class="w"> </span>-<span class="w"> </span>backlight/brightness<span class="w">		</span>//<span class="w"> </span>Check<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>value<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>LVDS<span class="w"> </span>screen
<span class="m">200</span>
root@OK3568<span class="w"> </span>-<span class="w"> </span>buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/backlight/dsi1<span class="w"> </span>-<span class="w"> </span>backlight/brightness<span class="w">		 </span>//<span class="w"> </span>Check<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>value<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>DSI<span class="w"> </span>screen
<span class="m">200</span>
root@OK3568<span class="w"> </span>-<span class="w"> </span>buildroot:/#<span class="w"> </span>cat<span class="w"> </span>/sys/class/backlight/edp<span class="w"> </span>-<span class="w"> </span>backlight/brightness<span class="w">		</span>//<span class="w"> </span>Check<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>value<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>eDP<span class="w"> </span>screen
<span class="m">200</span>
</pre></div>
</div>
<p><strong>2. Backlight is off:</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;/sys/class/backlight/lvds-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>LVDS<span class="w"> </span>screen
root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;/sys/class/backlight/dsi1-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>DSI<span class="w"> </span>screen
root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/class/backlight/edp-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>off<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>eDP<span class="w"> </span>screen
</pre></div>
</div>
<p><strong>3. LCD backlight is on:</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">255</span><span class="w"> </span>&gt;/sys/class/backlight/lvds-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>LVDS<span class="w"> </span>screen
root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">255</span><span class="w"> </span>&gt;/sys/class/backlight/dsi1-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>DSI<span class="w"> </span>screen
root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">255</span>&gt;<span class="w"> </span>/sys/class/backlight/edp-backlight/brightness<span class="w"> </span>//<span class="w"> </span>Turn<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>backlight<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>eDP<span class="w"> </span>screen
</pre></div>
</div>
</section>
<section id="tf-card-test">
<h4>4.1.15 TF Card Test<a class="headerlink" href="#tf-card-test" title="Link to this heading"></a></h4>
<p>Insert the TF card into the TF card slot on the development board’s carrier board. In normal circumstances, the development board’s terminal will display the following information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">294</span>.166421<span class="o">]</span><span class="w"> </span>mmc_host<span class="w"> </span>mmc1:<span class="w"> </span>Bus<span class="w"> </span>speed<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>50000000Hz<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span>req<span class="w"> </span>100000000Hz,<span class="w"> </span>actual<span class="w"> </span>50000000HZ<span class="w"> </span><span class="nv">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.186093<span class="o">]</span><span class="w"> </span>dwmmc_rockchip<span class="w"> </span>fe2b0000.dwmmc:<span class="w"> </span>Successfully<span class="w"> </span>tuned<span class="w"> </span>phase<span class="w"> </span>to<span class="w"> </span><span class="m">360</span>
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.186188<span class="o">]</span><span class="w"> </span>mmc1:<span class="w"> </span>new<span class="w"> </span>ultra<span class="w"> </span>high<span class="w"> </span>speed<span class="w"> </span>SDR50<span class="w"> </span>SDHC<span class="w"> </span>card<span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span>aaaa
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.191496<span class="o">]</span><span class="w"> </span>mmcblk1:<span class="w"> </span>mmc1:aaaa<span class="w"> </span>SL08G<span class="w"> </span><span class="m">7</span>.40<span class="w"> </span>GiB
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.202785<span class="o">]</span><span class="w">  </span>mmcblk1:<span class="w"> </span>p1
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.266294<span class="o">]</span><span class="w"> </span>dwmmc_rockchip<span class="w"> </span>fe2b0000.dwmmc:<span class="w"> </span>Successfully<span class="w"> </span>tuned<span class="w"> </span>phase<span class="w"> </span>to<span class="w"> </span><span class="m">70</span>
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.279993<span class="o">]</span><span class="w"> </span>mmc_host<span class="w"> </span>mmc1:<span class="w"> </span>Bus<span class="w"> </span>speed<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>375000Hz<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span>req<span class="w"> </span>400000Hz,<span class="w"> </span>actual<span class="w"> </span>375000HZ<span class="w"> </span><span class="nv">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.458237<span class="o">]</span><span class="w"> </span>mmc_host<span class="w"> </span>mmc1:<span class="w"> </span>Bus<span class="w"> </span>speed<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>50000000Hz<span class="w"> </span><span class="o">(</span>slot<span class="w"> </span>req<span class="w"> </span>100000000Hz,<span class="w"> </span>actual<span class="w"> </span>50000000HZ<span class="w"> </span><span class="nv">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span><span class="w">  </span><span class="m">294</span>.847627<span class="o">]</span><span class="w"> </span>dwmmc_rockchip<span class="w"> </span>fe2b0000.dwmmc:<span class="w"> </span>Successfully<span class="w"> </span>tuned<span class="w"> </span>phase<span class="w"> </span>to<span class="w"> </span><span class="m">360</span>
<span class="o">[</span><span class="w">  </span><span class="m">295</span>.071071<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>mmcblk1p1<span class="o">)</span>:<span class="w"> </span>utf8<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>a<span class="w"> </span>recommended<span class="w"> </span>IO<span class="w"> </span>charset<span class="w"> </span><span class="k">for</span><span class="w"> </span>FAT<span class="w"> </span>filesystems,<span class="w"> </span>filesystem<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span><span class="k">case</span><span class="w"> </span>sensitive!
<span class="o">[</span><span class="w">  </span><span class="m">295</span>.073331<span class="o">]</span><span class="w"> </span>FAT-fs<span class="w"> </span><span class="o">(</span>mmcblk1p1<span class="o">)</span>:<span class="w"> </span>Volume<span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>properly<span class="w"> </span>unmounted.<span class="w"> </span>Some<span class="w"> </span>data<span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>corrupt.<span class="w"> </span>Please<span class="w"> </span>run<span class="w"> </span>fsck.
</pre></div>
</div>
<p>By default, the TF card is mounted to the file system/run/media/directory</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>mount<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>mmcblk1<span class="w">             </span>//View<span class="w"> </span>the<span class="w"> </span>mount<span class="w"> </span>directory
/dev/mmcblk1p1<span class="w"> </span>on<span class="w"> </span>/run/media/mmcblk1p1<span class="w"> </span><span class="nb">type</span><span class="w"> </span>vfat<span class="w"> </span><span class="o">(</span>rw,relatime,fmask<span class="o">=</span><span class="m">0022</span>,dmask<span class="o">=</span><span class="m">0022</span>,codepage<span class="o">=</span><span class="m">936</span>,iocharset<span class="o">=</span>utf8,shortname<span class="o">=</span>mixed,errors<span class="o">=</span>remount-ro<span class="o">)</span>
</pre></div>
</div>
<p>Write test:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/run/media/mmcblk1p1/test<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">500</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fsync
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">24</span>.6959<span class="w"> </span>s,<span class="w"> </span><span class="m">21</span>.2<span class="w"> </span>MB/s<span class="w"> </span>
</pre></div>
</div>
<p>Read test：</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/run/media/mmcblk1p1/test<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M//Read<span class="w"> </span><span class="nb">test</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">8</span>.31059<span class="w"> </span>s,<span class="w"> </span><span class="m">63</span>.1<span class="w"> </span>MB/s<span class="w"> 	</span>
</pre></div>
</div>
</section>
<section id="emmc-test">
<h4>4.1.16 EMMC Test<a class="headerlink" href="#emmc-test" title="Link to this heading"></a></h4>
<p>The OK3568 platform eMMC runs in HS400 mode 200MHz clock by default. The following is a simple eMMC read/write speed test: taking the read/write ext4 file system as an example.</p>
<p><strong>Note: To ensure the accuracy of the data, please restart the development board to test the reading speed.</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/test<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">500</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span>fsync//Write<span class="w"> </span><span class="nb">test</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">6</span>.73418<span class="w"> </span>s,<span class="w"> </span><span class="m">77</span>.9<span class="w"> </span>MB/s
root@OK3568-buildroot:/#<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/test<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/null<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span>//Read<span class="w"> </span><span class="nb">test</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span><span class="k">in</span>
<span class="m">500</span>+0<span class="w"> </span>records<span class="w"> </span>out
<span class="m">524288000</span><span class="w"> </span>bytes<span class="w"> </span><span class="o">(</span><span class="m">524</span><span class="w"> </span>MB,<span class="w"> </span><span class="m">500</span><span class="w"> </span>MiB<span class="o">)</span><span class="w"> </span>copied,<span class="w"> </span><span class="m">3</span>.05486<span class="w"> </span>s,<span class="w"> </span><span class="m">172</span><span class="w"> </span>MB/s<span class="w">       </span>
</pre></div>
</div>
</section>
<section id="ethernet-configuration">
<h4>4.1.17 Ethernet Configuration<a class="headerlink" href="#ethernet-configuration" title="Link to this heading"></a></h4>
<p>OK3568 has two Gigabit NIC on board, if you plug in a network cable to connect to the network, the OK3568 development board will acquire IP when it starts up.</p>
<section id="fixed-ip-method">
<h5>4.1.17.1 Fixed IP Method<a class="headerlink" href="#fixed-ip-method" title="Link to this heading"></a></h5>
<p><strong>Note: This method fixes network IP. After use, network card gets normal IP. If ping fails, check multiple network cards in same Linux segment. Adjust routing or use distinct segments.</strong></p>
<p>Development Board IP: 192.168.1.151</p>
<p>Router IP: 192.168.1.1</p>
<p>Subnet mask: 255.255.255.0</p>
<p>Power up the development board and execute the following command</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>vi<span class="w"> </span>/etc/network/interfaces<span class="w">   </span>//<span class="w"> </span>Open<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>file
<span class="c1"># interface file auto-generated by buildroot</span>
auto<span class="w"> </span>lo
iface<span class="w"> </span>lo<span class="w"> </span>inet<span class="w"> </span>loopback
//<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>content<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>added
auto<span class="w"> </span>eth0
iface<span class="w"> </span>eth0<span class="w"> </span>inet<span class="w"> </span>static<span class="w">       					</span>//<span class="w"> </span>Specify<span class="w"> </span>the<span class="w"> </span>network<span class="w"> </span>card<span class="w"> </span>that<span class="w"> </span>needs<span class="w"> </span>a<span class="w"> </span>fixed<span class="w"> </span>IP
address<span class="w"> </span><span class="m">192</span>.168.1.151<span class="w">      						</span>//<span class="w"> </span>Specify<span class="w"> </span>the<span class="w"> </span>fixed<span class="w"> </span>IP<span class="w"> </span>address
netmask<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w">     					</span>//<span class="w"> </span>Specify<span class="w"> </span>the<span class="w"> </span>fixed<span class="w"> </span>subnet<span class="w"> </span>mask
gateway<span class="w"> </span><span class="m">192</span>.168.1.1<span class="w">      								</span>//<span class="w"> </span>Specify<span class="w"> </span>the<span class="w"> </span>gateway
//<span class="w"> </span>After<span class="w"> </span>saving<span class="w"> </span>and<span class="w"> </span>exiting,<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>board<span class="w"> </span>or<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>configuration:
root@OK3568-buildroot:/#<span class="w"> </span>ifdown<span class="w"> </span>-a<span class="w">					</span>//<span class="w"> </span>Stop<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>configuration
root@OK3568-buildroot:/#<span class="w"> </span>ifup<span class="w"> </span>-a<span class="w">						</span>//<span class="w"> </span>Enable<span class="w"> </span>the<span class="w"> </span>configuration
<span class="o">[</span><span class="w">  </span><span class="m">646</span>.969888<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_UP<span class="o">)</span>:<span class="w"> </span>eth0:<span class="w"> </span>link<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>ready
root@OK3568-buildroot:/#<span class="w">  </span><span class="o">[</span><span class="w">  </span><span class="m">651</span>.976934<span class="o">]</span><span class="w"> </span>rk_gmac-dwmac<span class="w"> </span>fe300000.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Link<span class="w"> </span>is<span class="w"> </span>Up<span class="w"> </span>-<span class="w"> </span>1Gbps/Full<span class="w"> </span>-<span class="w"> </span>flow<span class="w"> </span>control<span class="w"> </span>off
<span class="o">[</span><span class="w">  </span><span class="m">651</span>.977798<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>:<span class="w"> </span>eth0:<span class="w"> </span>link<span class="w"> </span>becomes<span class="w"> </span>ready
</pre></div>
</div>
</section>
<section id="automatic-ip-acquisition-method">
<h5>4.1.17.2  Automatic IP Acquisition Method<a class="headerlink" href="#automatic-ip-acquisition-method" title="Link to this heading"></a></h5>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>vi<span class="w"> </span>/etc/network/interfaces<span class="w">   	  </span>//<span class="w"> </span>Open<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>file
<span class="c1"># interface file auto-generated by buildroot</span>
auto<span class="w"> </span>lo
iface<span class="w"> </span>lo<span class="w"> </span>inet<span class="w"> </span>loopback
//<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>content<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>added.<span class="w"> </span>Remove<span class="w"> </span>the<span class="w"> </span>address,<span class="w"> </span>netmask,<span class="w"> </span>and<span class="w"> </span>gateway<span class="w"> </span>attributes.
auto<span class="w"> </span>eth0
iface<span class="w"> </span>eth0<span class="w"> </span>inet<span class="w"> </span>dhcp
//<span class="w"> </span>After<span class="w"> </span>saving<span class="w"> </span>and<span class="w"> </span>exiting,<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>board<span class="w"> </span>or<span class="w"> </span>restart<span class="w"> </span>the<span class="w"> </span>configuration.
root@OK3568-buildroot:/#<span class="w">  </span>ifdown<span class="w"> </span>-a<span class="w">						</span>//<span class="w"> </span>Stop<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>configuration
root@OK3568-buildroot:/#<span class="w">  </span>ifup<span class="w"> </span>-a<span class="w">							</span>//<span class="w"> </span>Enable<span class="w"> </span>the<span class="w"> </span>configuration
<span class="o">[</span><span class="w">  </span><span class="m">971</span>.278624<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_UP<span class="o">)</span>:<span class="w"> </span>eth0:<span class="w"> </span>link<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>ready
udhcpc:<span class="w"> </span>started,<span class="w"> </span>v1.27.2
udhcpc:<span class="w"> </span>sending<span class="w"> </span>discover
udhcpc:<span class="w"> </span>sending<span class="w"> </span>discover
<span class="o">[</span><span class="w">  </span><span class="m">975</span>.284961<span class="o">]</span><span class="w"> </span>rk_gmac-dwmac<span class="w"> </span>fe300000.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Link<span class="w"> </span>is<span class="w"> </span>Up<span class="w"> </span>-<span class="w"> </span>1Gbps/Full<span class="w"> </span>-<span class="w"> </span>flow<span class="w"> </span>control<span class="w"> </span>off
<span class="o">[</span><span class="w">  </span><span class="m">975</span>.285828<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>:<span class="w"> </span>eth0:<span class="w"> </span>link<span class="w"> </span>becomes<span class="w"> </span>ready
</pre></div>
</div>
</section>
</section>
<section id="web-services">
<h4>4.1.18 Web Services<a class="headerlink" href="#web-services" title="Link to this heading"></a></h4>
<p>The OK3568 development board comes with the lighttpd web server pre-installed, and the lighttpd service has been automatically started at system startup. Enter the IP address of the board into the PC browser to view the web pages in the board’s webserver, as shown in the following figure:</p>
<p><img alt="Image" src="_images/1719278352301_9a9c652e_6632_4390_8e62_63297b6458da.png" /></p>
<p><strong>Note: To use this function properly, the network IP of the development board needs to be the same network segment as the network IP of the PC, or the PC is under the subnet of the network where the development board is located.</strong></p>
</section>
<section id="play-record-test">
<h4>4.1.19 Play/Record Test<a class="headerlink" href="#play-record-test" title="Link to this heading"></a></h4>
<p>Development board provides a standard 3.5mm audio jack and a XH2.54-2P white socket P25 for driving an 8Ω speaker with a maximum output power of 1.3W. Before conducting sound playback testing, please insert your headphones into the earpiece interface or plug the speaker into the corresponding slot on the carrier board. To perform the test, use the following command:</p>
<p><img alt="Image" src="_images/1719278352613_65d7016b_8ddc_45f2_925a_a4b172267b26.png" /></p>
<p><strong>Note: Plug the prepared microphone into the 3.5mm headphone jack before performing the recording test.</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>gst-play-1.0<span class="w"> </span>/userdata/media/test.mp3<span class="w">    </span>
//<span class="w"> </span>Headphone<span class="w"> </span>or<span class="w"> </span>speaker<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span><span class="nb">test</span>
Press<span class="w"> </span><span class="s1">&#39;k&#39;</span><span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>keyboard<span class="w"> </span>shortcuts.
Now<span class="w"> </span>playing<span class="w"> </span>/home/forlinx/audio/test.mp3
Redistribute<span class="w"> </span>latency...
<span class="m">0</span>:00:05.8<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:05:00.0
root@OK3568-buildroot:/#<span class="w"> </span>gst-play-1.0<span class="w"> </span>/userdata/media/test.mp3<span class="w"> </span>--audiosink<span class="o">=</span><span class="s2">&quot;alsasink device=hw:1,0&quot;</span>
//<span class="w"> </span>HDMI<span class="w"> </span>audio<span class="w"> </span>playback<span class="w"> </span><span class="nb">test</span>
Press<span class="w"> </span><span class="s1">&#39;k&#39;</span><span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>a<span class="w"> </span>list<span class="w"> </span>of<span class="w"> </span>keyboard<span class="w"> </span>shortcuts.<span class="w">						</span>
Now<span class="w"> </span>playing<span class="w"> </span>/home/forlinx/audio/test.mp3
Redistribute<span class="w"> </span>latency...
<span class="m">0</span>:00:05.3<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>:05:00.0
root@OK3568-buildroot:/#<span class="w"> </span>arecord<span class="w"> </span>-c<span class="w"> </span><span class="m">2</span><span class="w"> </span>-r<span class="w"> </span><span class="m">44100</span><span class="w"> </span>-f<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>mic.wav<span class="w">		</span>
//<span class="w"> </span>Recording<span class="w"> </span>test.<span class="w"> </span>Press<span class="w"> </span>Ctrl<span class="w"> </span>+<span class="w"> </span>c<span class="w"> </span>to<span class="w"> </span>stop<span class="w"> </span>recording.
Recording<span class="w"> </span>WAVE<span class="w"> </span><span class="s1">&#39;mic.wav&#39;</span><span class="w"> </span>:<span class="w"> </span>Signed<span class="w"> </span><span class="m">16</span><span class="w"> </span>bit<span class="w"> </span>Little<span class="w"> </span>Endian,<span class="w"> </span>Rate<span class="w"> </span><span class="m">44100</span><span class="w"> </span>Hz,<span class="w"> </span>Stereo
Aborted<span class="w"> </span>by<span class="w"> </span>signal<span class="w"> </span>Interrupt...
root@OK3568-buildroot:/#<span class="w"> </span>ls<span class="w">						</span>//<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>see<span class="w"> </span>the<span class="w"> </span>generated<span class="w"> </span>recording<span class="w"> </span>file<span class="w"> </span>mic.wav<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>current<span class="w"> </span>directory
bin<span class="w">	            </span>home<span class="w">    </span>lost+found<span class="w">   </span>oem<span class="w">         	</span>run<span class="w">     	</span>timestamp<span class="w">  </span>var
busybox.config<span class="w">	</span>init<span class="w">     	 </span>media<span class="w">       </span>opt<span class="w">            </span>sbin<span class="w">    	</span>tmp
data<span class="w">	</span>lib<span class="w">          </span>mic.wav<span class="w">	 </span>proc<span class="w">         </span>sdcard<span class="w">        </span>udisk
dev<span class="w">	            </span>lib64<span class="w">   	 </span>misc<span class="w">         </span>rockchip_test<span class="w">  	</span>sys<span class="w">      </span>userdata
etc<span class="w">	            </span>linuxrc<span class="w">   </span>mnt<span class="w">          </span>root<span class="w">           </span>system<span class="w">  </span>usr
</pre></div>
</div>
</section>
<section id="g-em05-ce-module-test">
<h4>4.1.20 4G EM05-CE Module Test<a class="headerlink" href="#g-em05-ce-module-test" title="Link to this heading"></a></h4>
<p>OK3568 supports the 4G module. Connect the 4G module before starting the development board, and insert the SIM card to start the development board.</p>
<p><strong>Note: When testing, please pay attention to the direction of SIM insertion, there is a silkscreen marking on the carrier board, access to the antenna, and use the medium card for testing.</strong></p>
<p><img alt="Image" src="_images/1719278352941_05f448d6_c980_4ea0_add9_ac501ceaeead.png" />           <img alt="Image" src="_images/1719278353197_4e3becb0_3a56_485d_b311_76aae48c0b8a.png" /></p>
<p><img alt="Image" src="_images/1719278353750_da665f9c_b6f0_40f5_a903_9f960f23925f.png" /></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>quectelCM<span class="w"> </span><span class="p">&amp;</span>
root@OK3568-buildroot:/#<span class="w"> </span><span class="o">[</span><span class="m">01</span>-01_08:00:25:082<span class="o">]</span><span class="w"> </span>Quectel_QConnectManager_Linux_V1.6.0.24
<span class="o">[</span><span class="m">01</span>-01_08:00:25:083<span class="o">]</span><span class="w"> </span>Find<span class="w"> </span>/sys/bus/usb/devices/5-1<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span>0x2c7c<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span>0x125,<span class="w"> </span><span class="nv">bus</span><span class="o">=</span>0x005,<span class="w"> </span><span class="nv">dev</span><span class="o">=</span>0x002
<span class="o">[</span><span class="m">01</span>-01_08:00:25:092<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">qmichannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/dev/qcqmi0
<span class="o">[</span><span class="m">01</span>-01_08:00:25:096<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">usbnet_adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>usb0
<span class="o">[</span><span class="m">01</span>-01_08:00:25:101<span class="o">]</span><span class="w"> </span>netcard<span class="w"> </span><span class="nv">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>GobiNet,<span class="w"> </span>driver<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">22</span>-Aug-2005
<span class="o">[</span><span class="m">01</span>-01_08:00:25:108<span class="o">]</span><span class="w"> </span>Modem<span class="w"> </span>works<span class="w"> </span><span class="k">in</span><span class="w"> </span>QMI<span class="w"> </span>mode
<span class="o">[</span><span class="m">01</span>-01_08:00:25:138<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientWDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:25:170<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientDMS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:25:202<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientNAS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:25:234<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientUIM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:25:267<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span><span class="nv">clientWDA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">11</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:25:299<span class="o">]</span><span class="w"> </span>requestBaseBandVersion<span class="w"> </span>EM05CEFCR06A02M1G_ND
<span class="o">[</span><span class="m">01</span>-01_08:00:25:427<span class="o">]</span><span class="w"> </span>requestGetSIMStatus<span class="w"> </span>SIMStatus:<span class="w"> </span>SIM_READY
<span class="o">[</span><span class="m">01</span>-01_08:00:25:459<span class="o">]</span><span class="w"> </span>requestGetProfile<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span>cmnet///0
<span class="o">[</span><span class="m">01</span>-01_08:00:25:491<span class="o">]</span><span class="w"> </span>requestRegistrationState2<span class="w"> </span>MCC:<span class="w"> </span><span class="m">460</span>,<span class="w"> </span>MNC:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>PS:<span class="w"> </span>Attached,<span class="w"> </span>DataCap:<span class="w"> </span>LTE
<span class="o">[</span><span class="m">01</span>-01_08:00:25:523<span class="o">]</span><span class="w"> </span>requestQueryDataCall<span class="w"> </span>IPv4ConnectionStatus:<span class="w"> </span>DISCONNECTED
<span class="o">[</span><span class="m">01</span>-01_08:00:25:525<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span><span class="m">0</span>.0.0.0
<span class="o">[</span><span class="w">   </span><span class="m">25</span>.714570<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_UP<span class="o">)</span>:<span class="w"> </span>usb0:<span class="w"> </span>link<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>ready
<span class="o">[</span><span class="w">   </span><span class="m">25</span>.714707<span class="o">]</span><span class="w"> </span>IPv6<span class="o">[</span><span class="m">01</span>-01_08:00:25:539<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span>down
:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>:<span class="w"> </span>usb0:<span class="w"> </span>link<span class="w"> </span>becomes<span class="w"> </span>ready
<span class="o">[</span><span class="m">01</span>-01_08:00:25:780<span class="o">]</span><span class="w"> </span>requestSetupDataCall<span class="w"> </span>WdsConnectionIPv4Handle:<span class="w"> </span>0x872dea00
<span class="o">[</span><span class="m">01</span>-01_08:00:25:940<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span>up
<span class="o">[</span><span class="m">01</span>-01_08:00:25:952<span class="o">]</span><span class="w"> </span>busybox<span class="w"> </span>udhcpc<span class="w"> </span>-f<span class="w"> </span>-n<span class="w"> </span>-q<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-i<span class="w"> </span>usb0
udhcpc:<span class="w"> </span>started,<span class="w"> </span>v1.27.2
udhcpc:<span class="w"> </span>sending<span class="w"> </span>discover
udhcpc:<span class="w"> </span>sending<span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">10</span>.25.28.200
udhcpc:<span class="w"> </span>lease<span class="w"> </span>of<span class="w"> </span><span class="m">10</span>.25.28.200<span class="w"> </span>obtained,<span class="w"> </span>lease<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">7200</span>
<span class="o">[</span><span class="m">01</span>-01_08:00:26:119<span class="o">]</span><span class="w"> </span>deleting<span class="w"> </span>routers
<span class="o">[</span><span class="m">01</span>-01_08:00:26:152<span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>dns<span class="w"> </span><span class="m">111</span>.11.1.3
<span class="o">[</span><span class="m">01</span>-01_08:00:26:152<span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>dns<span class="w"> </span><span class="m">111</span>.11.11.3
<span class="o">[</span><span class="m">01</span>-01_08:00:29:683<span class="o">]</span><span class="w"> </span>requestRegistrationState2<span class="w"> </span>MCC:<span class="w"> </span><span class="m">460</span>,<span class="w"> </span>MNC:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>PS:<span class="w"> </span>Attached,<span class="w"> </span>DataCap:<span class="w"> </span>LTE
<span class="o">[</span><span class="w">   </span><span class="m">32</span>.227679<span class="o">]</span><span class="w"> </span>vcc3v3_lcd2_n:<span class="w"> </span>disabling
root@OK3568-buildroot:/#<span class="w"> </span>ping<span class="w"> </span>www.forlinx.com<span class="w">		</span>
//进行ping测试
PING<span class="w"> </span>s-526319.gotocdn.com<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">51</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">1430</span><span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">51</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">434</span><span class="w"> </span>ms
^C<span class="w">										</span>
---<span class="w"> </span>s-526319.gotocdn.com<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">7</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">2</span><span class="w"> </span>received,<span class="w"> </span><span class="m">71</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>5999ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">434</span>.376/932.642/1430.909/498.267<span class="w"> </span>ms,<span class="w"> </span>pipe<span class="w"> </span><span class="m">2</span>
</pre></div>
</div>
</section>
<section id="g-quectel-rm500u-module">
<h4>4.1.21 5G Quectel RM500U Module<a class="headerlink" href="#g-quectel-rm500u-module" title="Link to this heading"></a></h4>
<p>The default model of the 5G module is the Remote RM500U.</p>
<p><strong>Note: When testing, please pay attention to the direction of SIM insertion, there is a silkscreen marking on the carrier board, access to the antenna, and use the medium card for testing.</strong></p>
<p><img alt="Image" src="_images/1719278354286_e6598aea_92d6_4f12_9470_9d461beb46e9.png" />     <img alt="Image" src="_images/1719278354610_75f79799_93f9_40e0_ae84_0061bb80b8a9.png" /></p>
<p><img alt="Image" src="_images/1719278355063_66e3ac36_7487_4bf5_b45b_051b87b454f7.png" />The 5G adapter card is equipped with RM500U5G module and connected with OK3568. The test method is as follows:</p>
<p>Check the OK3568 console to see if the Remote RM500U 5G module is recognized successfully:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w">  </span>lsusb<span class="w">									</span>//View<span class="w"> </span>USB<span class="w"> </span>mounted<span class="w"> </span>device
Bus<span class="w"> </span><span class="m">003</span><span class="w"> </span>Device<span class="w"> </span><span class="m">002</span>:<span class="w"> </span>ID<span class="w"> </span><span class="m">0424</span>:2514
Bus<span class="w"> </span><span class="m">004</span><span class="w"> </span>Device<span class="w"> </span><span class="m">003</span>:<span class="w"> </span>ID<span class="w"> </span>2c7c:0900<span class="w">							  </span>//RM500U<span class="w"> </span>5G<span class="w"> </span>Module<span class="w"> </span>Node
Bus<span class="w"> </span><span class="m">001</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0002
Bus<span class="w"> </span><span class="m">002</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0001
Bus<span class="w"> </span><span class="m">003</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0002
Bus<span class="w"> </span><span class="m">004</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0003
Bus<span class="w"> </span><span class="m">005</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0002
Bus<span class="w"> </span><span class="m">006</span><span class="w"> </span>Device<span class="w"> </span><span class="m">001</span>:<span class="w"> </span>ID<span class="w"> </span>1d6b:0001
</pre></div>
</div>
<p>Check whether the node under dev is generated:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>ls<span class="w"> </span>/dev/ttyUSB*<span class="w">									</span>
/dev/ttyUSB0<span class="w">  </span>/dev/ttyUSB1<span class="w">  </span>/dev/ttyUSB2<span class="w">  </span>/dev/ttyUSB3<span class="w">	        </span>//These<span class="w"> </span>four<span class="w"> </span>nodes<span class="w"> </span>are<span class="w"> </span>generated<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>5G<span class="w"> </span>module.
</pre></div>
</div>
<p>Network Test.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>quectelCM<span class="w"> </span><span class="p">&amp;</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="m">1204</span>
root@OK3568-buildroot:/#<span class="w"> </span><span class="o">[</span><span class="m">10</span>-19_08:39:03:926<span class="o">]</span><span class="w"> </span>Quectel_QConnectManager_Linux_V1.6.0.24
<span class="o">[</span><span class="m">10</span>-19_08:39:03:928<span class="o">]</span><span class="w"> </span>Find<span class="w"> </span>/sys/bus/usb/devices/6-1<span class="w"> </span><span class="nv">idVendor</span><span class="o">=</span>0x2c7c<span class="w"> </span><span class="nv">idProduct</span><span class="o">=</span>0x900,<span class="w"> </span><span class="nv">bus</span><span class="o">=</span>0x006,<span class="w"> </span><span class="nv">dev</span><span class="o">=</span>0x002
<span class="o">[</span><span class="m">10</span>-19_08:39:03:928<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">qmichannel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/dev/ttyUSB2
<span class="o">[</span><span class="m">10</span>-19_08:39:03:928<span class="o">]</span><span class="w"> </span>Auto<span class="w"> </span>find<span class="w"> </span><span class="nv">usbnet_adapter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>usb0
<span class="o">[</span><span class="m">10</span>-19_08:39:03:928<span class="o">]</span><span class="w"> </span>netcard<span class="w"> </span><span class="nv">driver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>cdc_ncm,<span class="w"> </span>driver<span class="w"> </span><span class="nv">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>.10.160
<span class="o">[</span><span class="m">10</span>-19_08:39:03:928<span class="o">]</span><span class="w"> </span>Modem<span class="w"> </span>works<span class="w"> </span><span class="k">in</span><span class="w"> </span>ECM_RNDIS_NCM<span class="w"> </span>mode
<span class="o">[</span><span class="m">10</span>-19_08:39:03:937<span class="o">]</span><span class="w"> </span><span class="nv">atc_fd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:03:937<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>ATE0Q0V1
<span class="o">[</span><span class="m">10</span>-19_08:39:03:938<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+Q+ATE0Q0V1
<span class="o">[</span><span class="m">10</span>-19_08:39:03:942<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+CME<span class="w"> </span>ERROR:<span class="w"> </span><span class="m">4</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:943<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QCFG<span class="o">=</span><span class="s2">&quot;NAT&quot;</span>,1
<span class="o">[</span><span class="m">10</span>-19_08:39:04:944<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QCFG<span class="o">=</span><span class="s2">&quot;NAT&quot;</span>,1
<span class="o">[</span><span class="m">10</span>-19_08:39:04:964<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:965<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QCFG<span class="o">=</span><span class="s2">&quot;usbnet&quot;</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:965<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QCFG<span class="o">=</span><span class="s2">&quot;usbnet&quot;</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:967<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QCFG:<span class="w"> </span><span class="s2">&quot;usbnet&quot;</span>,5
<span class="o">[</span><span class="m">10</span>-19_08:39:04:967<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:967<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVCTL<span class="o">=</span>?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:968<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVCTL<span class="o">=</span>?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:970<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVCTL:<span class="w"> </span><span class="o">(</span><span class="m">1</span>-8<span class="o">)</span>,<span class="o">(</span><span class="m">0</span>-3<span class="o">)</span>,<span class="o">(</span><span class="m">0</span>,1<span class="o">)</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:970<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:970<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+CGREG<span class="o">=</span><span class="m">2</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:971<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+CGREG<span class="o">=</span><span class="m">2</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:975<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:975<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span>?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:976<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span>?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:980<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="o">(</span><span class="m">1</span>-8<span class="o">)</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:980<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:980<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+CGMR
<span class="o">[</span><span class="m">10</span>-19_08:39:04:981<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+CGMR
<span class="o">[</span><span class="m">10</span>-19_08:39:04:981<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>RM500UCNAAR03A01M2G_01.001.01.001
<span class="o">[</span><span class="m">10</span>-19_08:39:04:981<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:981<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+CPIN?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:982<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+CPIN?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:982<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+CPIN:<span class="w"> </span>READY
<span class="o">[</span><span class="m">10</span>-19_08:39:04:982<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:983<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QCCID
<span class="o">[</span><span class="m">10</span>-19_08:39:04:983<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QCCID
<span class="o">[</span><span class="m">10</span>-19_08:39:04:985<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QCCID:<span class="w"> </span><span class="m">89860119801762954063</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:985<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:986<span class="o">]</span><span class="w"> </span>requestGetICCID<span class="w"> </span><span class="m">89860119801762954063</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:986<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+CIMI
<span class="o">[</span><span class="m">10</span>-19_08:39:04:986<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+CIMI
<span class="o">[</span><span class="m">10</span>-19_08:39:04:987<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span><span class="m">460011239017205</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:987<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:04:987<span class="o">]</span><span class="w"> </span>requestGetIMSI<span class="w"> </span><span class="m">460011239017205</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:04:987<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+COPS<span class="o">=</span><span class="m">3</span>,0<span class="p">;</span>+COPS?<span class="p">;</span>+COPS<span class="o">=</span><span class="m">3</span>,1<span class="p">;</span>+COPS?<span class="p">;</span>+COPS<span class="o">=</span><span class="m">3</span>,2<span class="p">;</span>+COPS?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:988<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+COPS<span class="o">=</span><span class="m">3</span>,0<span class="p">;</span>+COPS?<span class="p">;</span>+COPS<span class="o">=</span><span class="m">3</span>,1<span class="p">;</span>+COPS?<span class="p">;</span>+COPS<span class="o">=</span><span class="m">3</span>,2<span class="p">;</span>+COPS?
<span class="o">[</span><span class="m">10</span>-19_08:39:04:994<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+COPS:<span class="w"> </span><span class="m">0</span>,0,<span class="s2">&quot;CHN-UNICOM&quot;</span>,11
<span class="o">[</span><span class="m">10</span>-19_08:39:04:997<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+COPS:<span class="w"> </span><span class="m">0</span>,1,<span class="s2">&quot;CUCC&quot;</span>,11
<span class="o">[</span><span class="m">10</span>-19_08:39:05:000<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+COPS:<span class="w"> </span><span class="m">0</span>,2,<span class="s2">&quot;46001&quot;</span>,11
<span class="o">[</span><span class="m">10</span>-19_08:39:05:001<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:05:001<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:002<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:073<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+CME<span class="w"> </span>ERROR:<span class="w"> </span><span class="m">3</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:073<span class="o">]</span><span class="w"> </span>requestQueryDataCall<span class="w"> </span><span class="nv">err</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">call_state</span><span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:073<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span><span class="m">0</span>.0.0.0
<span class="o">[</span><span class="m">10</span>-19_08:39:05:084<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span>down
<span class="o">[</span><span class="m">10</span>-19_08:39:05:091<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVCTL<span class="o">=</span><span class="m">1</span>,1,0
<span class="o">[</span><span class="m">10</span>-19_08:39:05:092<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVCTL<span class="o">=</span><span class="m">1</span>,1,0
<span class="o">[</span><span class="m">10</span>-19_08:39:05:326<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:05:326<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:327<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:05:386<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+CME<span class="w"> </span>ERROR:<span class="w"> </span><span class="m">3</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:06:387<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:06:388<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:06:450<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+CME<span class="w"> </span>ERROR:<span class="w"> </span><span class="m">3</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:447<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="m">1</span>,1,<span class="s2">&quot;IPV4V6&quot;</span>,0
<span class="o">[</span><span class="m">10</span>-19_08:39:07:451<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:452<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:512<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="m">10</span>.130.122.198,255.255.255.0,10.130.122.1,,202.99.160.68,202.99.166.4,2408:841e:52f0:a2f4:178f:7578:4e3d:7937,,,,2408:8888:0000:8888:0000:0000:0000:0008,2408:8899:0000:8899:0000:0000:0000:0008
<span class="o">[</span><span class="m">10</span>-19_08:39:07:512<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:07:512<span class="o">]</span><span class="w"> </span>requestSetupDataCall<span class="w"> </span><span class="nv">err</span><span class="o">=</span><span class="m">0</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:512<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:513<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:573<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="m">10</span>.130.122.198,255.255.255.0,10.130.122.1,,202.99.160.68,202.99.166.4,2408:841e:52f0:a2f4:178f:7578:4e3d:7937,,,,2408:8888:0000:8888:0000:0000:0000:0008,2408:8899:0000:8899:0000:0000:0000:0008
<span class="o">[</span><span class="m">10</span>-19_08:39:07:573<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:07:573<span class="o">]</span><span class="w"> </span>requestGetIPAddress<span class="w"> </span><span class="m">10</span>.130.122.198
<span class="o">[</span><span class="m">10</span>-19_08:39:07:574<span class="o">]</span><span class="w"> </span>requestGetIPAddress<span class="w"> </span><span class="nv">err</span><span class="o">=</span><span class="m">0</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:574<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:574<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:636<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="m">10</span>.130.122.198,255.255.255.0,10.130.122.1,,202.99.160.68,202.99.166.4,2408:841e:52f0:a2f4:178f:7578:4e3d:7937,,,,2408:8888:0000:8888:0000:0000:0000:0008,2408:8899:0000:8899:0000:0000:0000:0008
<span class="o">[</span><span class="m">10</span>-19_08:39:07:636<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="w">   </span><span class="m">40</span>.298676<span class="o">]</span><span class="w"> </span>cdc_ncm<span class="w"> </span><span class="m">6</span>-1:1.0<span class="w"> </span>usb0:<span class="w"> </span><span class="m">3750</span><span class="w"> </span>mbit/s<span class="w"> </span>downlink<span class="w"> </span><span class="m">3750</span><span class="w"> </span>mbit/s<span class="w"> </span>uplink
<span class="o">[</span><span class="m">10</span>-19_08:39:07:636<span class="o">]</span><span class="w"> </span>requestQueryDataCall<span class="w"> </span><span class="nv">err</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">call_state</span><span class="o">=</span><span class="m">2</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:636<span class="o">]</span><span class="w"> </span>ifconfig<span class="w"> </span>usb0<span class="w"> </span>up
<span class="o">[</span><span class="m">10</span>-19_08:39:07:647<span class="o">]</span><span class="w"> </span>busybox<span class="w"> </span>udhcpc<span class="w"> </span>-f<span class="w"> </span>-n<span class="w"> </span>-q<span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-i<span class="w"> </span>usb0
udhcpc:<span class="w"> </span>started,<span class="w"> </span>v1.36.0
<span class="o">[</span><span class="w">   </span><span class="m">40</span>.330672<span class="o">]</span><span class="w"> </span>cdc_ncm<span class="w"> </span><span class="m">6</span>-1:1.0<span class="w"> </span>usb0:<span class="w"> </span><span class="m">3750</span><span class="w"> </span>mbit/s<span class="w"> </span>downlink<span class="w"> </span><span class="m">3750</span><span class="w"> </span>mbit/s<span class="w"> </span>uplink
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span>discover
<span class="o">[</span><span class="w">   </span><span class="m">40</span>.362690<span class="o">]</span><span class="w"> </span>IPv6:<span class="w"> </span>ADDRCONF<span class="o">(</span>NETDEV_CHANGE<span class="o">)</span>:<span class="w"> </span>usb0:<span class="w"> </span>link<span class="w"> </span>becomes<span class="w"> </span>ready
udhcpc:<span class="w"> </span>broadcasting<span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">192</span>.168.42.2,<span class="w"> </span>server<span class="w"> </span><span class="m">192</span>.168.42.1
udhcpc:<span class="w"> </span>lease<span class="w"> </span>of<span class="w"> </span><span class="m">192</span>.168.42.2<span class="w"> </span>obtained<span class="w"> </span>from<span class="w"> </span><span class="m">192</span>.168.42.1,<span class="w"> </span>lease<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">86400</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:927<span class="o">]</span><span class="w"> </span>deleting<span class="w"> </span>routers
<span class="o">[</span><span class="m">10</span>-19_08:39:07:950<span class="o">]</span><span class="w"> </span>adding<span class="w"> </span>dns<span class="w"> </span><span class="m">192</span>.168.42.1
<span class="o">[</span><span class="m">10</span>-19_08:39:07:953<span class="o">]</span><span class="w"> </span>AT&gt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:07:953<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>AT+QNETDEVSTATUS<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="m">10</span>-19_08:39:08:015<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>+QNETDEVSTATUS:<span class="w"> </span><span class="m">10</span>.130.122.198,255.255.255.0,10.130.122.1,,202.99.160.68,202.99.166.4,2408:841e:52f0:a2f4:178f:7578:4e3d:7937,,,,2408:8888:0000:8888:0000:0000:0000:0008,2408:8899:0000:8899:0000:0000:0000:0008
<span class="o">[</span><span class="m">10</span>-19_08:39:08:015<span class="o">]</span><span class="w"> </span>AT&lt;<span class="w"> </span>OK
<span class="o">[</span><span class="m">10</span>-19_08:39:08:015<span class="o">]</span><span class="w"> </span>requestQueryDataCall<span class="w"> </span><span class="nv">err</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">call_state</span><span class="o">=</span><span class="m">2</span>
root@OK3568-buildroot:/#<span class="w"> </span>ifconfig<span class="w">			</span>//View<span class="w"> </span>network<span class="w"> </span>nodes
root@OK3568-buildroot:/#<span class="w"> </span>ifconfig
……
usb0<span class="w">      </span>Link<span class="w"> </span>encap:Ethernet<span class="w">  </span>HWaddr<span class="w"> </span><span class="m">16</span>:3B:47:30:6C:4E<span class="w">  </span>//The<span class="w"> </span>network<span class="w"> </span>port<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>5G<span class="w"> </span>module<span class="w"> </span>is<span class="w"> </span>usb0
<span class="w">          </span>inet<span class="w"> </span>addr:192.168.42.2<span class="w">  </span>Bcast:192.168.42.255<span class="w">  </span>Mask:255.255.255.0
<span class="w">          </span>inet6<span class="w"> </span>addr:<span class="w"> </span>fe80::143b:47ff:fe30:6c4e/64<span class="w"> </span>Scope:Link
<span class="w">          </span>inet6<span class="w"> </span>addr:<span class="w"> </span><span class="m">2408</span>:841e:52f0:a2f4:143b:47ff:fe30:6c4e/64<span class="w"> </span>Scope:Global
<span class="w">          </span>UP<span class="w"> </span>BROADCAST<span class="w"> </span>RUNNING<span class="w"> </span>MULTICAST<span class="w">  </span>MTU:1500<span class="w">  </span>Metric:1
<span class="w">          </span>RX<span class="w"> </span>packets:71<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>frame:0
<span class="w">          </span>TX<span class="w"> </span>packets:78<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>carrier:0
<span class="w">          </span>collisions:0<span class="w"> </span>txqueuelen:1000
<span class="w">          </span>RX<span class="w"> </span>bytes:9388<span class="w"> </span><span class="o">(</span><span class="m">9</span>.1<span class="w"> </span>KiB<span class="o">)</span><span class="w">  </span>TX<span class="w"> </span>bytes:7059<span class="w"> </span><span class="o">(</span><span class="m">6</span>.8<span class="w"> </span>KiB<span class="o">)</span>
</pre></div>
</div>
<p>Ping test</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>ping<span class="w"> </span>www.forlinx.com<span class="w">								</span>
PING<span class="w"> </span>s-526319.gotocdn.com<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">49</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">47</span>.2<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">49</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">60</span>.8<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">49</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">81</span>.4<span class="w"> </span>ms
<span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">211</span>.149.226.120<span class="w"> </span><span class="o">(</span><span class="m">211</span>.149.226.120<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">49</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">59</span>.5<span class="w"> </span>ms
^C<span class="w">									</span>//It<span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>pinged,<span class="w"> </span>and<span class="w"> </span>5G<span class="w"> </span>networking<span class="w"> </span>is<span class="w"> </span>successful.
---<span class="w"> </span>s-526319.gotocdn.com<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">4</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">4</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>3001ms
rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">47</span>.205/62.253/81.403/12.274<span class="w"> </span>ms
</pre></div>
</div>
</section>
<section id="sleep-wake-up-test">
<h4>4.1.22 Sleep Wake-up Test<a class="headerlink" href="#sleep-wake-up-test" title="Link to this heading"></a></h4>
<p>OK3568 Linux platform supports sleep wakeup Currently, Changxin memory products have removed the sleep/wake-up functionality. Please verify and confirm the configuration of the SoM. The test methods for the sleep/wake-up functionality of other SoMs are as follows:</p>
<p>Press the power button for a short time to enter hibernation, and the printed information is as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span><span class="o">[</span><span class="w">  </span><span class="m">146</span>.005510<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span><span class="nb">suspend</span><span class="w"> </span>entry<span class="w"> </span><span class="m">2019</span>-01-01<span class="w"> </span><span class="m">00</span>:02:23.751546568<span class="w"> </span>UTC
<span class="o">[</span><span class="w">  </span><span class="m">146</span>.006082<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span>Syncing<span class="w"> </span>filesystems<span class="w"> </span>...<span class="w"> </span><span class="k">done</span>.
<span class="o">[</span><span class="w">  </span><span class="m">146</span>.010583<span class="o">]</span><span class="w"> </span>Freezing<span class="w"> </span>user<span class="w"> </span>space<span class="w"> </span>processes<span class="w"> </span>...<span class="w"> </span><span class="o">(</span>elapsed<span class="w"> </span><span class="m">0</span>.002<span class="w"> </span>seconds<span class="o">)</span><span class="w"> </span><span class="k">done</span>.
<span class="o">[</span><span class="w">  </span><span class="m">146</span>.014178<span class="o">]</span><span class="w"> </span>Freezing<span class="w"> </span>remaining<span class="w"> </span>freezable<span class="w"> </span>tasks<span class="w"> </span>...<span class="w"> </span><span class="o">(</span>elapsed<span class="w"> </span><span class="m">0</span>.001<span class="w"> </span>seconds<span class="o">)</span><span class="w"> </span><span class="k">done</span>.
<span class="o">[</span><span class="w">  </span><span class="m">146</span>.016954<span class="o">]</span><span class="w"> </span>Suspending<span class="w"> </span>console<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="o">(</span>use<span class="w"> </span>no_console_suspend<span class="w"> </span>to<span class="w"> </span>debug<span class="o">)</span>
INFO:<span class="w">    </span>sleep<span class="w"> </span>mode<span class="w"> </span>config<span class="o">[</span>0xde<span class="o">]</span>:
INFO:<span class="w">           </span>AP_PWROFF
INFO:<span class="w">           </span>SLP_ARMPD
INFO:<span class="w">           </span>SLP_PLLPD
INFO:<span class="w">           </span>DDR_RET
INFO:<span class="w">           </span>SLP_CENTER_PD
INFO:<span class="w">    </span>wakeup<span class="w"> </span><span class="nb">source</span><span class="w"> </span>config<span class="o">[</span>0x804<span class="o">]</span>:
INFO:<span class="w">           </span>GPIO<span class="w"> </span>interrupt<span class="w"> </span>can<span class="w"> </span>wakeup<span class="w"> </span>system
INFO:<span class="w">           </span>PWM<span class="w"> </span>interrupt<span class="w"> </span>can<span class="w"> </span>wakeup<span class="w"> </span>system
INFO:<span class="w">    </span>PWM<span class="w"> </span>CONFIG<span class="o">[</span>0x4<span class="o">]</span>:
INFO:<span class="w">           </span>PWM:<span class="w"> </span>PWM2D_REGULATOR_EN
INFO:<span class="w">    </span>APIOS<span class="w"> </span>info<span class="o">[</span>0x0<span class="o">]</span>:
INFO:<span class="w">           </span>not<span class="w"> </span>config
INFO:<span class="w">    </span>GPIO<span class="w"> </span>POWER<span class="w"> </span>INFO:
INFO:<span class="w">           </span>GPIO1_C1
INFO:<span class="w">           </span>GPIO1_B6
INFO:<span class="w">    </span>PMU_MODE_CONG:<span class="w"> </span>0x1477bf51
Short<span class="w"> </span>press<span class="w"> </span>the<span class="w"> </span>power<span class="w"> </span>button<span class="w"> </span>to<span class="w"> </span>wake<span class="w"> </span>up:
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.308000<span class="o">]</span><span class="w"> </span>bcmsdh_sdmmc_suspend<span class="w"> </span>Enter<span class="w"> </span>func-&gt;num<span class="o">=</span><span class="m">2</span>
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.308006<span class="o">]</span><span class="w"> </span>dhdsdio_suspend<span class="w"> </span>Enter
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.308014<span class="o">]</span><span class="w"> </span>bcmsdh_sdmmc_suspend<span class="w"> </span>Exit
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.308021<span class="o">]</span><span class="w"> </span>bcmsdh_sdmmc_suspend<span class="w"> </span>Enter<span class="w"> </span>func-&gt;num<span class="o">=</span><span class="m">1</span>
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.428104<span class="o">]</span><span class="w"> </span>rtc-rx8010<span class="w"> </span><span class="m">1</span>-0032:<span class="w"> </span>Frequency<span class="w"> </span>stop<span class="w"> </span>detected
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.429361<span class="o">]</span><span class="w"> </span><span class="o">[</span>WLAN_RFKILL<span class="o">]</span>:<span class="w"> </span>Enter<span class="w"> </span>rfkill_wlan_suspend
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.477563<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span><span class="nb">suspend</span><span class="w"> </span>of<span class="w"> </span>devices<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span><span class="m">837</span>.115<span class="w"> </span>msecs
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.481929<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span>late<span class="w"> </span><span class="nb">suspend</span><span class="w"> </span>of<span class="w"> </span>devices<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span><span class="m">3</span>.344<span class="w"> </span>msecs
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.484390<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span>noirq<span class="w"> </span><span class="nb">suspend</span><span class="w"> </span>of<span class="w"> </span>devices<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span><span class="m">2</span>.447<span class="w"> </span>msecs
/********************************此处省略部分打印信息********************************/
<span class="o">[</span><span class="w">   </span><span class="m">23</span>.989994<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span>usb6:<span class="w"> </span>root<span class="w"> </span>hub<span class="w"> </span>lost<span class="w"> </span>power<span class="w"> </span>or<span class="w"> </span>was<span class="w"> </span>reset
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.249974<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">5</span>-1:<span class="w"> </span>reset<span class="w"> </span>high-speed<span class="w"> </span>USB<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">2</span><span class="w"> </span>using<span class="w"> </span>ehci-platform
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.470421<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span>resume<span class="w"> </span>of<span class="w"> </span>devices<span class="w"> </span><span class="nb">complete</span><span class="w"> </span>after<span class="w"> </span><span class="m">839</span>.550<span class="w"> </span>msecs
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.471591<span class="o">]</span><span class="w"> </span><span class="o">[</span>BT_RFKILL<span class="o">]</span>:<span class="w"> </span>**<span class="w"> </span>disable<span class="w"> </span>irq
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.502992<span class="o">]</span><span class="w"> </span>Restarting<span class="w"> </span>tasks<span class="w"> </span>...<span class="w"> </span><span class="k">done</span>.
<span class="o">[</span><span class="w">   </span><span class="m">24</span>.505391<span class="o">]</span><span class="w"> </span>PM:<span class="w"> </span><span class="nb">suspend</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1970</span>-01-01<span class="w"> </span><span class="m">00</span>:00:24.418767219<span class="w"> </span>UTC
<span class="o">[</span><span class="w">   </span><span class="m">26</span>.774360<span class="o">]</span><span class="w"> </span>rk_gmac-dwmac<span class="w"> </span>fe300000.ethernet<span class="w"> </span>eth0:<span class="w"> </span>Link<span class="w"> </span>is<span class="w"> </span>Up<span class="w"> </span>-<span class="w"> </span>1Gbps/Full<span class="w"> </span>-<span class="w"> </span>flow<span class="w"> </span>control<span class="w"> </span>off
</pre></div>
</div>
<p>In addition, the current test found that there is a problem after the Bluetooth sleep wakes up. Before hibernation, the WIFI/Bluetooth module driver can be unloaded, and after awakening, the WIFI/Bluetooth module driver can be loaded.</p>
</section>
<section id="npu-opencv-test">
<h4>4.1.23 NPU OpenCV Test<a class="headerlink" href="#npu-opencv-test" title="Link to this heading"></a></h4>
<p>The OK3568 platform compiles the OpenCV4-4.5.43 library by default, and you can use the following command to test OpenCV.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>rknn_common_test<span class="w">  </span>/usr/share/model/RK3566_RK3568/mobilenet_v1.rknn<span class="w">  </span>/usr/share/model/cat_224x224.jpg
rknn_api/rknnrt<span class="w"> </span>version:<span class="w"> </span><span class="m">1</span>.5.0<span class="w"> </span><span class="o">(</span>e6fe0c678@2023-05-25T08:09:20<span class="o">)</span>,<span class="w"> </span>driver<span class="w"> </span>version:<span class="w"> </span><span class="m">0</span>.9.0
model<span class="w"> </span>input<span class="w"> </span>num:<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>output<span class="w"> </span>num:<span class="w"> </span><span class="m">1</span>
input<span class="w"> </span>tensors:
<span class="w">  </span><span class="nv">index</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">name</span><span class="o">=</span>input,<span class="w"> </span><span class="nv">n_dims</span><span class="o">=</span><span class="m">4</span>,<span class="w"> </span><span class="nv">dims</span><span class="o">=[</span><span class="m">1</span>,<span class="w"> </span><span class="m">224</span>,<span class="w"> </span><span class="m">224</span>,<span class="w"> </span><span class="m">3</span><span class="o">]</span>,<span class="w"> </span><span class="nv">n_elems</span><span class="o">=</span><span class="m">150528</span>,<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">150528</span>,<span class="w"> </span><span class="nv">fmt</span><span class="o">=</span>NHWC,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>INT8,<span class="w"> </span><span class="nv">qnt_type</span><span class="o">=</span>AFFINE,<span class="w"> </span><span class="nv">zp</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">0</span>.007812
output<span class="w"> </span>tensors:
<span class="w">  </span><span class="nv">index</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">name</span><span class="o">=</span>MobilenetV1/Predictions/Reshape_1,<span class="w"> </span><span class="nv">n_dims</span><span class="o">=</span><span class="m">2</span>,<span class="w"> </span><span class="nv">dims</span><span class="o">=[</span><span class="m">1</span>,<span class="w"> </span><span class="m">1001</span>,<span class="w"> </span><span class="m">0</span>,<span class="w"> </span><span class="m">0</span><span class="o">]</span>,<span class="w"> </span><span class="nv">n_elems</span><span class="o">=</span><span class="m">1001</span>,<span class="w"> </span><span class="nv">size</span><span class="o">=</span><span class="m">1001</span>,<span class="w"> </span><span class="nv">fmt</span><span class="o">=</span>UNDEFINED,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>INT8,<span class="w"> </span><span class="nv">qnt_type</span><span class="o">=</span>AFFINE,<span class="w"> </span><span class="nv">zp</span><span class="o">=</span>-128,<span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">0</span>.003906
custom<span class="w"> </span>string:
Begin<span class="w"> </span>perf<span class="w"> </span>...
<span class="w">   </span><span class="m">0</span>:<span class="w"> </span>Elapse<span class="w"> </span><span class="nv">Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>.63ms,<span class="w"> </span><span class="nv">FPS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">177</span>.65
----<span class="w"> </span>Top5<span class="w"> </span>----
<span class="m">0</span>.468750<span class="w"> </span>-<span class="w"> </span><span class="m">283</span>
<span class="m">0</span>.242188<span class="w"> </span>-<span class="w"> </span><span class="m">282</span>
<span class="m">0</span>.105469<span class="w"> </span>-<span class="w"> </span><span class="m">286</span>
<span class="m">0</span>.089844<span class="w"> </span>-<span class="w"> </span><span class="m">464</span>
<span class="m">0</span>.019531<span class="w"> </span>-<span class="w"> </span><span class="m">264</span>
</pre></div>
</div>
<p>Rockchip provides a wide range of test cases. You can refer to the NPU section in the application notes for compilation and testing.</p>
</section>
<section id="can-test">
<h4>4.1.24 CAN Test<a class="headerlink" href="#can-test" title="Link to this heading"></a></h4>
<p>OK3568-C platform has two CAN bus interfaces and connection methods: Connect the H terminal of CAN to the H terminal of other CAN devices; connect the L terminal of CAN to the L terminal of other CAN devices.</p>
<p>Short CAN0 and CAN1, and execute the following command at the development board terminal:</p>
<p>Set CAN0/CAN1 to 500K baud rate.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>ifconfig<span class="w"> </span>can0<span class="w"> </span>down
root@OK3568-buildroot:/#<span class="w"> </span>ifconfig<span class="w"> </span>can1<span class="w"> </span>down
root@OK3568-buildroot:/#<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>can0<span class="w"> </span><span class="nb">type</span><span class="w"> </span>can<span class="w"> </span>bitrate<span class="w"> </span><span class="m">500000</span><span class="w"> </span>
root@OK3568-buildroot:/#<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>can1<span class="w"> </span><span class="nb">type</span><span class="w"> </span>can<span class="w"> </span>bitrate<span class="w"> </span><span class="m">500000</span><span class="w"> </span>
root@OK3568-buildroot:/#<span class="w"> </span>ifconfig<span class="w"> </span>can0<span class="w"> </span>up
root@OK3568-buildroot:/#<span class="w"> </span>ifconfig<span class="w"> </span>can1<span class="w"> </span>up
The<span class="w"> </span>can0<span class="w"> </span>device<span class="w"> </span>acts<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>server<span class="w"> </span><span class="o">(</span>the<span class="w"> </span>server<span class="w"> </span>should<span class="w"> </span>execute<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="nb">command</span><span class="w"> </span>first<span class="o">)</span>.
root@OK3568-buildroot:/#<span class="w">  </span>candump<span class="w"> </span>can0<span class="p">&amp;</span>
The<span class="w"> </span>can1<span class="w"> </span>device<span class="w"> </span>acts<span class="w"> </span>as<span class="w"> </span>the<span class="w"> </span>client<span class="w"> </span><span class="o">(</span>the<span class="w"> </span>client<span class="w"> </span>sends<span class="w"> </span>data<span class="o">)</span>.
root@OK3568-buildroot:/#<span class="w"> </span>cansend<span class="w"> </span>can1<span class="w"> </span><span class="m">123</span><span class="c1">#1122334aabbccd			\\ Send a standard frame</span>
can0<span class="w">  </span><span class="m">123</span><span class="w">   </span><span class="o">[</span><span class="m">7</span><span class="o">]</span><span class="w">  </span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="w"> </span>4A<span class="w"> </span>AB<span class="w"> </span>BC<span class="w"> </span>CD
root@OK3568-buildroot:/#<span class="w"> </span>cansend<span class="w"> </span>can1<span class="w"> </span><span class="m">00895441</span><span class="c1">#1122334aabbccd		\\ Send an extended frame</span>
can0<span class="w">  </span><span class="m">000</span><span class="w">   </span><span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="w">  </span>remote<span class="w"> </span>request
can0<span class="w">  </span><span class="m">00895441</span><span class="w">   </span><span class="o">[</span><span class="m">7</span><span class="o">]</span><span class="w">  </span><span class="m">11</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">33</span><span class="w"> </span>4A<span class="w"> </span>AB<span class="w"> </span>BC<span class="w"> </span>CD
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>When sending extended frames, the driver supplements a standard remote frame to guide the correctness of the extended frame. This operation is designed to avoid a design issue in the IP layer of the CAN controller of the rk3568 chip. There is a 3% chance of losing the extended frame ID when sending a large quantity of extended frames quickly, leading to data loss. To ensure data accuracy, the manufacturer provides two avoidance schemes. Our company defaults to the solution of using a workround frame and an extended frame. The content of the work round frame can be modified. The original solution has the problem of ID and content disorder when sending the extended frame quickly. Our company has optimized the driver and fixed the problem. After testing, it can be used normally. Therefore, in the actual project of the user, it is necessary to specify an invalid frame artificially to ensure normal communication. Theoretically, the CAN bus can tolerate the existence of work round frames. In this scheme, the theoretical limit value within 1 s is 2900 frames when the extended frame is completely sent by 3568 under the CAN bus 500k baud rate. If the product needs to send more frames within 1 s, please use the extended CAN scheme;</strong></p></li>
</ul>
<ul class="simple">
<li><p><strong>For details about the design of the IP layer of the CAN controller, see:</strong></p></li>
<li><p><strong>Original information/Rockchip RK3568&amp;RK3568B2&amp;RK3568J Application Notice-RKAN18055.pdf;</strong></p></li>
<li><p><strong>For more information on the modification and use of workround frames, see: Original information/Rockchip_Develop_Guide_Can_CN.pdf.</strong></p></li>
</ul>
</section>
<section id="led-test">
<h4>4.1.25 LED Test<a class="headerlink" href="#led-test" title="Link to this heading"></a></h4>
<p>The OK3568-C SoM has a controllable blue LED, and the OKT3568 SoM blue LED blinks when the board is powered up and started. The user can turn off the function, Just modify the device tree arch/arm64/boot/dts/rockchip/OK3568-C-common.dtsi to change the LEDs node attribute default-state = “on” to “off”, linux,default-trigger to “none”;</p>
<p><img alt="Image" src="_images/1719278355433_91bd1dd1_566c_4971_bf66_11d6dbe10ee2.png" /></p>
<p>The testing method is as follows:</p>
<p>1. Change the blue LED to normal GPIO LED</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/sys/class/leds/work/
<span class="o">[</span>root@ok3568:/sys/devices/platform/leds/leds/work<span class="o">]</span><span class="c1"># echo gpio &gt; trigger</span>
LED<span class="w"> </span>lighting<span class="w"> </span><span class="nb">test</span>
<span class="o">[</span>root@ok3568:/sys/devices/platform/leds/leds/work<span class="o">]</span><span class="c1"># echo 1 &gt; brightness</span>
LED<span class="w"> </span>extinguishing<span class="w"> </span><span class="nb">test</span>
<span class="o">[</span>root@ok3568:/sys/devices/platform/leds/leds/work<span class="o">]</span><span class="c1"># echo 0 &gt; brightness</span>
</pre></div>
</div>
<p>2. Change the blue LED to heartbeat lights</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>root@ok3568:/sys/devices/platform/leds/leds/work<span class="o">]</span><span class="c1"># echo heartbeat &gt; trigger</span>
</pre></div>
</div>
<p>3. Carrier board USER LED (two green lights operation)</p>
<p>Turn on two green lights</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_userled.sh<span class="w"> </span>GPIO3_A7<span class="w"> </span><span class="m">0</span>
root@OK3568-buildroot:/#<span class="w"> </span>fltest_userled.sh<span class="w"> </span>GPIO3_B0<span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
<p>Turn off two green lights</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>fltest_userled.sh<span class="w"> </span>GPIO3_A7<span class="w"> </span><span class="m">1</span>
root@OK3568-buildroot:/#<span class="w"> </span>fltest_userled.sh<span class="w"> </span>GPIO3_B0<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</section>
<section id="typec-test">
<h4>4.1.26 TYPEC Test<a class="headerlink" href="#typec-test" title="Link to this heading"></a></h4>
<p>The OK3568-C includes a TYPE-C port, which can be used in Device mode for brushing, and Host mode for plugging in regular USB devices. Set the S2 dip switch to OFF when power is off, and configure it to Device mode when connecting the OK3568-C to a PC using a Type-C cable; set the S2 dip switch to ON when power is off, and configure it to Host mode when inserting a device such as a USB flash drive.</p>
<p>USB3.0 and OTG are multiplexed and can be switched using a DIP switch. Please make sure that the DIP switch is set to the ON position when using the USB3.0 interface.</p>
<p><img alt="Image" src="_images/1719278355735_c0770c7c_23e1_412b_ae35_f136feef044c.png" /></p>
<p><strong>Note: The current SDK version does not support the simultaneous use of Host/Device mode. Please do not insert the USB flash disk and Type-C cable into the USB 3.0 OTG at the same time</strong>.</p>
<p>Host Mode:</p>
<p><img alt="Image" src="_images/1719278356066_21e3f70f_3252_4f10_b675_e571515d78f2.png" /></p>
<p>Device Mode:</p>
<p>Insert the TF card with the file system in FAT32 format into the card, and input from the OK3568-C card terminal</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>modprobe<span class="w"> </span>g_mass_storage<span class="w"> </span><span class="nv">file</span><span class="o">=</span>/dev/mmcblk1p1<span class="w"> </span><span class="nv">luns</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">stall</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">removable</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<p><img alt="Image" src="_images/1719278356261_13231759_c2d6_4b52_985f_fcbaeb92f13c.png" /></p>
<p>The drive letter does not appear on this computer in the window. Plug and unplug the Type-C cable again.</p>
</section>
<section id="pcie-test">
<h4>4.1.27 PCIE Test<a class="headerlink" href="#pcie-test" title="Link to this heading"></a></h4>
<p>Insert the minipcie module into the carrier board minipcie card slot before powering up the system. After powering on and starting Linux, you can see that the corresponding device is enumerated successfully through lspci.</p>
<p><img alt="Image" src="_images/1719278356445_44090118_cf1e_4fd3_956c_7e2904bdbda4.png" /></p>
<p>Due to the many types of pcie devices, it may not be supported by the kernel by default, so you need to add the corresponding driver for the compiled device by yourself.</p>
<p>Take the E1000 PCIe card as an example, the Linux kernel already includes this driver by default. After plugging in the NIC, powering up, and booting, we can see the enumeration information with the Ethernet interface.</p>
<p><img alt="Image" src="_images/1719278356661_e14347c6_4d21_4d8a_aca1_bb52a3a00591.png" /></p>
<p><img alt="Image" src="_images/1719278356869_dd454fa2_ee1e_41e7_ad7e_2ef2434c41b1.png" /></p>
</section>
<section id="sqlite3-test">
<h4>4.1.28 SQLite3 Test<a class="headerlink" href="#sqlite3-test" title="Link to this heading"></a></h4>
<p>SQLite3 is a lightweight database that is ACID compliant relational database management system with low resource usage. OK3568-C development board is ported with version 3.21.0 of sqlit3.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#<span class="w"> </span>sqlite3
SQLite<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.21.0<span class="w"> </span><span class="m">2017</span>-10-24<span class="w"> </span><span class="m">18</span>:55:49
Enter<span class="w"> </span><span class="s2">&quot;.help&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>usage<span class="w"> </span>hints.
Connected<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>transient<span class="w"> </span><span class="k">in</span>-memory<span class="w"> </span>database.
Use<span class="w"> </span><span class="s2">&quot;.open FILENAME&quot;</span><span class="w"> </span>to<span class="w"> </span>reopen<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>persistent<span class="w"> </span>database.
sqlite&gt;<span class="w"> </span>create<span class="w"> </span>table<span class="w"> </span>tbl1<span class="w"> </span><span class="o">(</span>one<span class="w"> </span>varchar<span class="o">(</span><span class="m">10</span><span class="o">)</span>,<span class="w"> </span>two<span class="w"> </span>smallint<span class="o">)</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Create<span class="w"> </span>table<span class="w"> </span>tbl1
sqlite&gt;<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>tbl1<span class="w"> </span>values<span class="o">(</span><span class="s1">&#39;hello!&#39;</span>,<span class="w"> </span><span class="m">10</span><span class="o">)</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Insert<span class="w"> </span>data<span class="w"> </span>into<span class="w"> </span>table<span class="w"> </span>tbl1
hello!<span class="p">|</span><span class="m">10</span>
sqlite&gt;<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>tbl1<span class="w"> </span>values<span class="o">(</span><span class="s1">&#39;goodbye&#39;</span>,<span class="w"> </span><span class="m">20</span><span class="o">)</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Insert<span class="w"> </span>data<span class="w"> </span>into<span class="w"> </span>table<span class="w"> </span>tbl1
goodbye<span class="p">|</span><span class="m">20</span>
sqlite&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>*<span class="w"> </span>from<span class="w"> </span>tbl1<span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Query<span class="w"> </span>the<span class="w"> </span>contents<span class="w"> </span>of<span class="w"> </span>table<span class="w"> </span>tbl1
hello!<span class="p">|</span><span class="m">10</span>
goodbye<span class="p">|</span><span class="m">20</span>
sqlite&gt;<span class="w"> </span>delete<span class="w"> </span>from<span class="w"> </span>tbl1<span class="w"> </span>where<span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello!&#39;</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Delete<span class="w"> </span>data
sqlite&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>*<span class="w"> </span>from<span class="w"> </span>tbl1<span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Query<span class="w"> </span>the<span class="w"> </span>contents<span class="w"> </span>of<span class="w"> </span>table<span class="w"> </span>tbl1
goodbye<span class="p">|</span><span class="m">20</span>
sqlite&gt;<span class="w"> </span>.quit<span class="w"> </span>//<span class="w"> </span>Exit<span class="w"> </span>the<span class="w"> </span>database<span class="w"> </span><span class="o">(</span>or<span class="w"> </span>use<span class="w"> </span>the<span class="w"> </span>.exit<span class="w"> </span><span class="nb">command</span><span class="o">)</span>
root@OK3568-buildroot:/#
</pre></div>
</div>
</section>
</section>
</section>
<section id="ok3568-platform-multimedia-test">
<h2>5. OK3568 Platform Multimedia Test<a class="headerlink" href="#ok3568-platform-multimedia-test" title="Link to this heading"></a></h2>
<p>Some application layer software for audio and video on the OK3568 platform uses Gstreamer, which supports hardware codecs. All examples in this section based on the GStreamer command line form. If users need a player with an interface, they can also use qt’s multimedia classes, which also support codecs, see the Qt Tests chapter.</p>
<p>OK3568 platform has an internal video processing unit, the VPU, which supports hard codecs for video in the following formats:</p>
<p>Video Decoding: H264, H265, VP8, VP9, etc., max support 4Kx2K&#64;60fps</p>
<p>Video Encoding: H264, H.265, maximum support 1080p&#64;60fps</p>
<p>Table of hardware codec parameters for the OK3568 platform:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Video Decoder</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Profile</p></th>
<th class="head"><p>Resolution</p></th>
<th class="head"><p>Frame rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p>HEVC</p></td>
<td><p>main 10</p></td>
<td><p>4096x2304</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.265</p></td>
<td><p>main 10</p></td>
<td><p>4096x2304</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>H.264</p></td>
<td><p>main 10</p></td>
<td><p>4096x2304</p></td>
<td><p>30 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>VP9</p></td>
<td><p>Profile 0/2</p></td>
<td><p>4096x2304</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>VP8</p></td>
<td><p>version2</p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>VC1</p></td>
<td><p></p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>MPEG-4</p></td>
<td><p></p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>MPEG-2</p></td>
<td><p></p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>MPEG-1</p></td>
<td><p></p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.263</p></td>
<td><p></p></td>
<td><p>720x576</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-even"><td><p>Video Encoder</p></td>
<td><p>H.264</p></td>
<td><p>BP/MP/HP&#64;level4.2</p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>H.265</p></td>
<td><p>MP&#64;level4.1</p></td>
<td><p>1920x1080</p></td>
<td><p>60 fps</p></td>
</tr>
</tbody>
</table>
<section id="audio-and-video-playback">
<h3>5.1 Audio and Video Playback<a class="headerlink" href="#audio-and-video-playback" title="Link to this heading"></a></h3>
<section id="playing-audio-and-video-with-gst-play">
<h4>5.1.1 Playing Audio and Video with Gst-play<a class="headerlink" href="#playing-audio-and-video-with-gst-play" title="Link to this heading"></a></h4>
<p>Gplay is an audio/video player based on GStreamer that can automatically select the right plugin for audio/video play according to the hardware, and it is easy to run.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-play-1.0 /userdata/media/1080p_30fps_h265.mp4
//Play the video file with sound, and test the sound by the earphone
Press &#39;k&#39; to see a list of keyboard shortcuts.
Now playing /video/1080p_30fps_h265.mp4
mpp[884]: mpp_rt: NOT found ion allocator
mpp[884]: mpp_rt: found drm allocator
mpp[884]: mpp_info: mpp version: unknown mpp version for missing VCS info
mpp[884]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1080
mpp[884]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1080
mpp[884]: H265D_PARSER: extradata is encoded as hvcC format
Redistribute latency...
0:00:14.3 / 0:00:30.6
</pre></div>
</div>
</section>
<section id="playing-video-with-gst-launch">
<h4>5.1.2 Playing Video with gst-launch<a class="headerlink" href="#playing-video-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_h265.mp4 ! qtdemux ! queue ! h265parse ! mppvideodec ! waylandsink
//Play video only
Setting pipeline to PAUSED ...
mpp[921]: mpp_rt: NOT found ion allocator
mpp[921]: mpp_rt: found drm allocator
mpp[921]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[921]: H265D_PARSER: extradata is encoded as hvcC format
mpp[921]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1080
mpp[921]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1080
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:08.747122713
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="playing-audio-with-gst-launch">
<h4>5.1.3 Playing Audio with Gst-launch<a class="headerlink" href="#playing-audio-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/test.mp3 ! id3demux ! mpegaudioparse ! mpg123audiodec ! alsasink
//Play audio only, test by earphone
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.665159268
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="playing-video-and-audio-with-gst-launch">
<h4>5.1.4 Playing Video and Audio with gst-launch<a class="headerlink" href="#playing-video-and-audio-with-gst-launch" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_h265.mp4 ! qtdemux name=dec dec. ! queue ! h265parse ! mppvideodec ! waylandsink dec.! queue ! decodebin ! alsasink
//Play the video file with sound, and test the sound by the earphone
mpp[934]: mpp_rt: NOT found ion allocator
mpp[934]: mpp_rt: found drm allocator
mpp[934]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[934]: H265D_PARSER: extradata is encoded as hvcC format
mpp[934]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1080
mpp[934]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1080
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:05.461079924
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-encoding">
<h3>5.2 Video Hardware Encoding<a class="headerlink" href="#video-hardware-encoding" title="Link to this heading"></a></h3>
<p>OK3568 supports up to 1080p &#64; 60fps H.264/H.265 video encoding, as well as high-quality JPEG encoding and decoding. This section of commands is only suitable for core boards with less than 4G of memory.</p>
<section id="video-hardware-encoding-h-264">
<h4>5.2.1 Video Hardware Encoding H.264<a class="headerlink" href="#video-hardware-encoding-h-264" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 mp4mux name=mux ! filesink location=test.mp4  videotestsrc num-buffers=600 ! video/x-raw,framerate=60/1,width=1920,height=1080,format=NV12 ! mpph264enc ! h264parse !  mux.video_0 -e
Setting pipeline to PAUSED ...
mpp[809]: mpp_rt: NOT found ion allocator
mpp[809]: mpp_rt: found drm allocator
mpp[809]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[809]: mpp_enc: MPP_ENC_SET_RC_CFG bps 7776000 [7290000 : 8262000] fps [30:30] gop 30
mpp[809]: h264e_api_v2: MPP_ENC_SET_PREP_CFG w:h [1920:1080] stride [1920:1088]
mpp[809]: mpp_enc: send header for set cfg change input/format
mpp[809]: mpp_enc: mode cbr bps [7290000:7776000:8262000] fps fix [30/1] -&gt; fix [30/1] gop i [30] v [0]
rga_api version 1.3.0_[12] (RGA is compiling with meson base: $PRODUCT_BASE)
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:20.567864066
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="video-hardware-encoding-h-265">
<h4>5.2.2 Video Hardware Encoding H.265<a class="headerlink" href="#video-hardware-encoding-h-265" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 mp4mux name=mux ! filesink location=test.mp4 videotestsrc num-buffers=600 ! video/x-raw,framerate=60/1,width=1920,height=1080,format=NV12 ! mpph265enc ! h265parse !  mux.video_0 -e 
Setting pipeline to PAUSED ...
mpp[828]: mpp_rt: NOT found ion allocator
mpp[828]: mpp_rt: found drm allocator
mpp[828]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[828]: mpp_enc: MPP_ENC_SET_RC_CFG bps 7776000 [7290000 : 8262000] fps [30:30] gop 30
mpp[828]: h265e_api: h265e_proc_prep_cfg MPP_ENC_SET_PREP_CFG w:h [1920:1080] stride [1920:1088]
mpp[828]: mpp_enc: send header for set cfg change input/format
mpp[828]: mpp_enc: mode cbr bps [7290000:7776000:8262000] fps fix [30/1] -&gt; fix [30/1] gop i [30] v [0]
rga_api version 1.3.0_[12] (RGA is compiling with meson base: $PRODUCT_BASE)
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:20.617396655
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
</section>
<section id="video-hardware-decoding">
<h3>5.3 Video Hardware Decoding<a class="headerlink" href="#video-hardware-decoding" title="Link to this heading"></a></h3>
<p>OK3568 supports hardware decoding for H.264, H.265, VP8, and VP9 video formats. The H.264 decoder supports 4K at 30fps, while the H.265 decoder supports 4K at 60fps.</p>
<p>OK3568 uses the mppvideodec component for video hard decoding, and its output formats are: NV12, I420, YV12.</p>
<section id="decoding-and-playing-h-264-format-video">
<h4>5.3.1 Decoding and Playing H.264 Format Video<a class="headerlink" href="#decoding-and-playing-h-264-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264.mp4 ! qtdemux ! h264parse ! mppvideodec ! waylandsink
Setting pipeline to PAUSED ...
mpp[839]: mpp_rt: NOT found ion allocator
mpp[839]: mpp_rt: found drm allocator
mpp[839]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[839]: hal_h264d_vdpu34x: control info: fmt 7, w 1920, h 1080
mpp[839]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 1920 ver 1088
mpp[839]: mpp_dec: setting default w 1920 h 1080 h_str 1920 v_str 1088
mpp[839]: h264d_api: is_avcC=1
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:04.908912160
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h264-format-video-with-audio">
<h4>5.3.2 Decoding and Playing H264 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-h264-format-video-with-audio" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_60fps_h264.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h264parse ! mppvideodec  ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink
Setting pipeline to PAUSED ...
mpp[862]: mpp_rt: NOT found ion allocator
mpp[862]: mpp_rt: found drm allocator
mpp[862]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[862]: h264d_api: is_avcC=1
mpp[862]: hal_h264d_vdpu34x: control info: fmt 7, w 1920, h 1080
mpp[862]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 1920 ver 1088
mpp[862]: mpp_dec: setting default w 1920 h 1080 h_str 1920 v_str 1088
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:01.815955349
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-h-265-format-video">
<h4>5.3.3 Decoding and Playing H.265 Format Video<a class="headerlink" href="#decoding-and-playing-h-265-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_h265.mp4 ! qtdemux ! h265parse ! mppvideodec ! waylandsink
Setting pipeline to PAUSED ...
mpp[873]: mpp_rt: NOT found ion allocator
mpp[873]: mpp_rt: found drm allocator
mpp[873]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[873]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1080
mpp[873]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1080
mpp[873]: H265D_PARSER: extradata is encoded as hvcC format
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:05.246702194
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-video-audio-in-h265-format">
<h4>5.3.4 Decoding and Playing Video&amp;Audio in H265 format<a class="headerlink" href="#decoding-and-playing-video-audio-in-h265-format" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_h265.mp4 ! qtdemux name=demux demux.video_0 ! queue ! h265parse ! mppvideodec  ! waylandsink demux.audio_0 ! queue ! aacparse ! faad ! alsasink
Setting pipeline to PAUSED ...
mpp[886]: mpp_rt: NOT found ion allocator
mpp[886]: mpp_rt: found drm allocator
mpp[886]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[886]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1080
mpp[886]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1080
mpp[886]: H265D_PARSER: extradata is encoded as hvcC format
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:04.648897092
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp8-format-video">
<h4>5.3.5 Decoding and Playing VP8 Format Video<a class="headerlink" href="#decoding-and-playing-vp8-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_vp8.webm ! matroskademux ! queue ! mppvideodec ! waylandsink
Setting pipeline to PAUSED ...
mpp[896]: mpp_rt: NOT found ion allocator
mpp[896]: mpp_rt: found drm allocator
mpp[896]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[896]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 1920 ver 1088
mpp[896]: mpp_dec: setting default w 1920 h 1080 h_str 1920 v_str 1088
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:03.462436973
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp8-format-video-with-audio">
<h4>5.3.6 Decoding and Playing VP8 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-vp8-format-video-with-audio" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_vp8.webm typefind=true ! video/webm ! matroskademux name=dec dec. ! queue ! mppvideodec ! waylandsink dec. ! queue ! decodebin ! audioconvert ! audioresample ! alsasink
Setting pipeline to PAUSED ...
mpp[985]: mpp_rt: NOT found ion allocator
mpp[985]: mpp_rt: found drm allocator
mpp[985]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[985]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 1920 ver 1088
mpp[985]: mpp_dec: setting default w 1920 h 1080 h_str 1920 v_str 1088
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:01.586168701
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video">
<h4>5.3.7 Decoding and Playing VP9 Format Video<a class="headerlink" href="#decoding-and-playing-vp9-format-video" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_vp9.webm  ! matroskademux ! queue ! mppvideodec ! waylandsink
Setting pipeline to PAUSED ...
mpp[1005]: mpp_rt: NOT found ion allocator
mpp[1005]: mpp_rt: found drm allocator
mpp[1005]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[1005]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1088
mpp[1005]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1088
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:01.026171728
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
mpp[1005]: mpp_buffer: mpp_buffer_ref_dec found non-positive ref_count 0 caller try_proc_dec_task
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
<section id="decoding-and-playing-vp9-format-video-with-audio">
<h4>5.3.8 Decoding and Playing VP9 Format Video with Audio<a class="headerlink" href="#decoding-and-playing-vp9-format-video-with-audio" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_vp9.webm typefind=true ! video/webm ! matroskademux name=dec dec. ! queue ! mppvideodec ! waylandsink dec.! queue ! decodebin ! audioconvert ! audioresample ! alsasink
Setting pipeline to PAUSED ...
mpp[1022]: mpp_rt: NOT found ion allocator
mpp[1022]: mpp_rt: found drm allocator
mpp[1022]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is PREROLLING ...
mpp[1022]: mpp_buf_slot: set frame info: w 1920 h 1080 hor 2304 ver 1088
mpp[1022]: mpp_dec: setting default w 1920 h 1080 h_str 2304 v_str 1088
Redistribute latency...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.826552284
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
mpp[1022]: mpp_buffer: mpp_buffer_ref_dec found non-positive ref_count 0 caller try_proc_dec_task
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
</section>
<section id="id5">
<h3>5.4 Camera Test<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<p>The OK3568 supports the OV13850 MIPI camera as well as the UVC camera. First of all, let’s test the UVC camera. Here we use RMONCAM FHD 1080P to test. Insert the USB camera into the development board, and the UVC driver will be installed automatically.</p>
<section id="uvc-camera-test">
<h4>5.4.1 UVC Camera Test<a class="headerlink" href="#uvc-camera-test" title="Link to this heading"></a></h4>
<section id="camera-recognition-detection-and-format-support-queries">
<h5><strong>5.4.1.1 Camera Recognition Detection and Format Support Queries</strong><a class="headerlink" href="#camera-recognition-detection-and-format-support-queries" title="Link to this heading"></a></h5>
<p>Camera Recognition Detection</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# v4l2-ctl --list-devices		//View the device node, see/dev/video9&amp;10 is USB camera node
rkisp-statistics (platform: rkisp):
        /dev/video7
        /dev/video8
rkisp_mainpath (platform:rkisp-vir0):
        /dev/video0
        /dev/video1
        /dev/video2
        /dev/video3
        /dev/video4
        /dev/video5
        /dev/video6
RMONCAM FHD 1080P: RMONCAM FHD  (usb-fd800000.usb-1):
        /dev/video9
        /dev/video10
</pre></div>
</div>
<p>Format Support Queries</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# v4l2-ctl --list-formats-ext -d /dev/video9		//View formats supported by the camera
ioctl: VIDIOC_ENUM_FMT
        Type: Video Capture
        [0]: &#39;MJPG&#39; (Motion-JPEG, compressed)
                Size: Discrete 1920x1080
                        Interval: Discrete 0.033s (30.000 fps)
                Size: Discrete 160x120
                        Interval: Discrete 0.033s (30.000 fps)
Size: Discrete 320x240
                        Interval: Discrete 0.033s (30.000 fps)
        [1]: &#39;YUYV&#39; (YUYV 4:2:2)
                Size: Discrete 1920x1080
                        Interval: Discrete 0.200s (5.000 fps)
                Size: Discrete 640x480
                        Interval: Discrete 0.033s (30.000 fps)
</pre></div>
</div>
</section>
<section id="camera-capture-format-queries-and-modifications">
<h5><strong>5.4.1.2 Camera Capture Format Queries and Modifications</strong><a class="headerlink" href="#camera-capture-format-queries-and-modifications" title="Link to this heading"></a></h5>
<p>Camera Capture Format Queries</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# v4l2-ctl -V -d /dev/video9
Format Video Capture:
        Width/Height      : 1920/1080
        Pixel Format      : &#39;MJPG&#39; (Motion-JPEG)
        Field             : None
        Bytes per Line    : 0
        Size Image        : 4147200
        Colorspace        : sRGB
        Transfer Function : Default (maps to sRGB)
        YCbCr/HSV Encoding: Default (maps to ITU-R 601)
        Quantization      : Default (maps to Full Range)
</pre></div>
</div>
<p>Camera acquisition format modification</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# v4l2-ctl -v width=640,height=480,pixelformat=YUYV -d /dev/video9 //Modify to YUYV
root@OK3568-buildroot:/# v4l2-ctl -V -d /dev/video9				//Acquisition format query
Format Video Capture:
        Width/Height      : 640/480
        Pixel Format      : &#39;YUYV&#39; (YUYV 4:2:2)
        Field             : None
        Bytes per Line    : 1280
        Size Image        : 614400
        Colorspace        : sRGB
        Transfer Function : Default (maps to sRGB)
        YCbCr/HSV Encoding: Default (maps to ITU-R 601)
        Quantization      : Default (maps to Limited Range)
</pre></div>
</div>
</section>
<section id="camera-image-preview-and-taking-pictures">
<h5><strong>5.4.1.3 Camera Image Preview and Taking Pictures</strong><a class="headerlink" href="#camera-image-preview-and-taking-pictures" title="Link to this heading"></a></h5>
<p>Camera image preview.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 v4l2src device=/dev/video9 ! videoconvert ! waylandsink
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
^[[A^Chandling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:27.663210154
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
[ 8895.040621] uvcvideo: Failed to resubmit video URB (-1).
Freeing pipeline ...
</pre></div>
</div>
<p>Camera to take pictures.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 v4l2src device=/dev/video9 num-buffers=1 ! videoconvert ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=/pic.jpg
Setting pipeline to PAUSED ...
mpp[1141]: mpp_rt: NOT found ion allocator
mpp[1141]: mpp_rt: found drm allocator
mpp[1141]: mpp_info: mpp version: unknown mpp version for missing VCS info
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
mpp[1141]: mpp_enc: MPP_ENC_SET_RC_CFG bps 1152000 [1080000 : 1224000] fps [30:30] gop 30
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.357932744
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
[ 9397.089150] uvcvideo: Failed to resubmit video URB (-1).
Setting pipeline to NULL ...
Freeing pipeline ...
//After the execution, check the pic. jpg file generated under the root directory
</pre></div>
</div>
</section>
</section>
<section id="ov13850-test">
<h4>5.4.2 OV13850 Test<a class="headerlink" href="#ov13850-test" title="Link to this heading"></a></h4>
<p>For raw sensors such as OV13850, each sensor corresponds to 5 device nodes:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# grep &#39;&#39; /sys/class/video4linux/video*/name
/sys/class/video4linux/video0/name:rkisp_mainpath
/sys/class/video4linux/video1/name:rkisp_selfpath
/sys/class/video4linux/video10/name:USB Camera: rmoncam 720P
/sys/class/video4linux/video2/name:rkisp_rawwr0
/sys/class/video4linux/video3/name:rkisp_rawwr2
/sys/class/video4linux/video4/name:rkisp_rawwr3
/sys/class/video4linux/video5/name:rkisp_rawrd0_m
/sys/class/video4linux/video6/name:rkisp_rawrd2_s
/sys/class/video4linux/video7/name:rkisp-statistics
/sys/class/video4linux/video8/name:rkisp-input-params
/sys/class/video4linux/video9/name:USB Camera: rmoncam 720P
</pre></div>
</div>
<p>Main path, refers to an output node of Rockchip ISP, which can output full-resolution images, generally used to take photos and capture Raw images.</p>
<p>Self Path refers to an output node of Rockchip ISP, which can only output up to 1080p resolution and is generally used as a preview.</p>
<p>Statistics for 3A statistics.</p>
<p>Input-params for 3A parameter setting.</p>
<section id="id6">
<h5><strong>5.4.2.1 Camera Recognition Detection and Format Support  Queries</strong><a class="headerlink" href="#id6" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# v4l2-ctl --list-devices
//View device node
rkisp-statistics (platform: rkisp):
        /dev/video7
        /dev/video8

rkisp_mainpath (platform:rkisp-vir0):
        /dev/video0
        /dev/video1
        /dev/video2
        /dev/video3
        /dev/video4
        /dev/video5
        /dev/video6
        /dev/media0
root@OK3568-buildroot:/# v4l2-ctl --list-formats-ext -d /dev/video0
//View the formats and resolutions supported by the camera
ioctl: VIDIOC_ENUM_FMT
        Type: Video Capture Multiplanar

        [0]: &#39;UYVY&#39; (UYVY 4:2:2)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [1]: &#39;422P&#39; (Planar YUV 4:2:2)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [2]: &#39;NV16&#39; (Y/CbCr 4:2:2)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [3]: &#39;NV61&#39; (Y/CrCb 4:2:2)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [4]: &#39;YM16&#39; (Planar YUV 4:2:2 (N-C))
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [5]: &#39;NV21&#39; (Y/CrCb 4:2:0)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [6]: &#39;NV12&#39; (Y/CbCr 4:2:0)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [7]: &#39;NM21&#39; (Y/CrCb 4:2:0 (N-C))
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [8]: &#39;NM12&#39; (Y/CbCr 4:2:0 (N-C))
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [9]: &#39;YU12&#39; (Planar YUV 4:2:0)
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
        [10]: &#39;YM24&#39; (Planar YUV 4:4:4 (N-C))
                Size: Stepwise 32x32 - 2112x1568 with step 8/8
</pre></div>
</div>
</section>
<section id="camera-preview">
<h5><strong>5.4.2.2 Camera Preview</strong><a class="headerlink" href="#camera-preview" title="Link to this heading"></a></h5>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 v4l2src device=/dev/video0 ! video/x-raw, format=NV12, width=640, height=480, framerate=30/1 ! waylandsink	
//Camera preview
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock					//Camera preview can be seen on the screen
^C									    //Ctrl+C  Exit camera preview
handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 0:00:02.667462376
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
<p><strong>5.4.2.3 Camera to Take Pictures</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 v4l2src device=/dev/video0 num-buffers=1 ! video/x-raw,format=NV12,width=640,height=480 ! mppjpegenc ! filesink location=pic.jpg
//Camera to take pictures
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  138.542571] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:00.175951625
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@OK3568-buildroot:/# ls
//Check whether the pic. jpg is generated, which can be copied to PC for viewing
bin             init        misc     rockchip_test  system     
busybox.config  lib         mnt      root           timestamp  var
data            lib64       oem      run            tmp
dev             linuxrc     opt      sbin           udisk
etc             lost+found  pic.jpg  sdcard         userdata
home            media       proc     sys            usr
</pre></div>
</div>
<p><strong>5.4.2.4 Recording H264 Format Video</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 v4l2src device=/dev/video0 num-buffers=100 ! video/x-raw,format=NV12, width=640,height=480 ! tee name=t ! queue ! mpph264enc ! queue ! h264parse ! qtmux ! filesink location=13850_h264.mp4 t. ! queue ! waylandsink
//Encode H264 during camera preview
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  208.941566] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
h264e_api: h264e_config MPP_ENC_SET_RC_CFG bps 1152000 [1080000 : 1224000]
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.504855085
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
root@OK3568-buildroot:/#  ls
//Check to see if an H264 file is generated
13850_h264.mp4  home        media    proc           sys        usr
bin             init        misc     rockchip_test  system     uvc_h264.mp4
busybox.config  lib         mnt      root           timestamp  var
data            lib64       oem      run            tmp
dev             linuxrc     opt      sbin           udisk
etc             lost+found  pic.jpg  sdcard         userdata
</pre></div>
</div>
<p><strong>5.4.2.5 Playing H264 Format Video</strong></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/# gst-launch-1.0 filesrc location=13850_h264.mp4 ! qtdemux ! queue ! h264parse ! mppvideodec ! waylandsink
//Play the H264 video
Setting pipeline to PAUSED ...
mpi: mpp version: Without VCS info
Pipeline is PREROLLING ...
mpp_rt: NOT found ion allocator
mpp_rt: found drm allocator
[  245.867304] rk_vcodec: vpu_service_ioctl:2138: error: unknown vpu service ioctl cmd 40086c01
mpp: deprecated block control, use timeout control instead
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstSystemClock
Got EOS from element &quot;pipeline0&quot;.
Execution ended after 0:00:03.328286793
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
</pre></div>
</div>
</section>
</section>
</section>
<section id="waylandsink-point-test">
<h3>5.5 Waylandsink Point Test<a class="headerlink" href="#waylandsink-point-test" title="Link to this heading"></a></h3>
<p>The test display part of this chapter uses the waylandsink plug-in in gstreamer. By default, the video or Camera window pops up randomly on the desktop. If you need it to display to a specific location, you can specify the coordinate parameters.</p>
<p>Coordinates (0,0), width 320, height 240.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@OK3568-buildroot:/#
gst-launch-1.0 filesrc location=/userdata/media/1080p_30fps_h265.mp4 ! qtdemux ! h265parse ! mppvideodec ! waylandsink  &quot;render-rectangle=&lt;0,0,480,360&gt;&quot;
</pre></div>
</div>
</section>
</section>
<section id="system-flashing">
<h2>6. System Flashing<a class="headerlink" href="#system-flashing" title="Link to this heading"></a></h2>
<section id="otg-system-flashing">
<h3>6.1 OTG System Flashing<a class="headerlink" href="#otg-system-flashing" title="Link to this heading"></a></h3>
<section id="otg-driver-installation">
<h4>6.1.1 OTG Driver Installation<a class="headerlink" href="#otg-driver-installation" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Path: OK3568-C (Linux) User Profile\Linux\Tool\DriverAssitant_v5.12.zip</p></li>
</ul>
<p>Extract the above path file to any directory and run it with administrator privileges</p>
<p>Open DriverInstall.exe</p>
<p><img alt="Image" src="_images/1719278371049_36807242_44b2_4463_b794_e1bc53500a6d.png" /></p>
<p>Click “Driver Installation”</p>
<p><img alt="Image" src="_images/1719278371239_c88b99ca_e7f1_452b_a2e9_5e6bfea8bb73.png" /></p>
</section>
<section id="otg-full-flashing-test">
<h4>6.1.2 OTG Full Flashing Test<a class="headerlink" href="#otg-full-flashing-test" title="Link to this heading"></a></h4>
<section id="rkdevtool-flashing-test">
<h5>6.1.2.1 RKDevTool Flashing Test<a class="headerlink" href="#rkdevtool-flashing-test" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Path: OK3568-C (Linux) User Profile\Linux\Tool\&lt;/&gt; RKDevTool_Release_v3.18.zip</p></li>
</ul>
<p>It is a development tool provided by Rockchip. Before use, please unzip it to a directory with an all-English path. Connect the development board to the host using a Type-C cable. Press and hold the recovery key on the development board without releasing it, then press the reset key to reset the system. Release the recovery key approximately two seconds later. The Rockchip development tool will prompt the discovery of the loader device. There will be prompts on the Rockchip development tool : loader device found.</p>
<p>**Note: **</p>
<p><strong>The condition for recognition is that the development board is powered up and the recover key is in the pressed state. Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn’t match the following figure, please consider unzipping it in an English directory. Pay attention to two points during OTG programming: 1. Link the OTG line. 2. If OTG is multiplexed with the USB 3.0, it is necessary to modify the DIP switch, as shown in the following figure:</strong></p>
<p><img alt="Image" src="_images/1719278371449_903b6c4b_4ee3_41dd_8a02_409291bc87de.png" /></p>
<p><img alt="Image" src="_images/1748310399916_dc0359c2_87ff_4a7b_9700_5c630c9eb91e.png" /></p>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1719278371737_4281eb50_d44c_4429_a0fa_88f574b8da8f.png" /></p>
<p>Click the “Upgrade Firmware” tab, click the “Firmware” button to select the full upgrade image update.img. The program will be parsing the firmware, so wait a while.</p>
<p><img alt="Image" src="_images/1719278371916_79c15f7c_10ef_4aa4_81d7_9ec9e3b01fd5.png" /></p>
<p>Click “Advanced Functions”-&gt; “Erase All” to erase.</p>
<p><img alt="Image" src="_images/1719278372133_1cf4ef2c_8e32_401a_9542_f9cec3cd639b.png" /></p>
<p>Click the “Upgrade Firmware” button-&gt; “Upgrade” to upgrade.</p>
<p><img alt="Image" src="_images/1719278372340_48a49afa_af0a_4e29_8b4b_eadc70da5820.png" /></p>
<p><strong>Note: After the upgrade is completed, the system will automatically restart twice. The first restart updates some information. The operating user is [root &#64; buildroot]. Please wait patiently. The second restart can be used normally. The operating user is [root &#64; OK3568-buildroot:/].</strong></p>
</section>
<section id="factory-tool-flashing-test">
<h5>6.1.2.2 Factory Tool Flashing Test<a class="headerlink" href="#factory-tool-flashing-test" title="Link to this heading"></a></h5>
<p>FactoryTool is a factory batch OTG burning tool. It does not need to read the image and can do batch burning. In addition, it can burn some larger image files. If RKDevTool compatibility is not satisfied, you can try this method. Before using it, unzip it to a full English path, connect the development board and host computer with a Type-C cable, press and hold the recover button of the development board and don’t release it, then press the reset button to reset the system, and release the recover button after about two seconds. There will be prompts on the Rockchip development tool : loader device found</p>
<p><strong>Note: The condition for recognition is that the development board is powered up and the recover key is in the pressed state.</strong></p>
<p><strong>Theoretically, Rockchip development tools have no requirements for the unzip directory. However, some users have feedback that the unzip directory should be in full English. If the tool doesn’t match the following figure, please consider unzipping it in an English directory.</strong></p>
<p>Open the Rockchip development tool:</p>
<p><img alt="Image" src="_images/1719278372564_b2d07d5e_1a3a_489b_833e_a89f8b946368.png" /></p>
<p>Click to select the firmware, and click to start. At this time to recognize the loader device will automatically start flashing.</p>
<p><img alt="Image" src="_images/1719278372817_87ac617a_eae6_4889_bdaa_080eaf0ea09d.png" /></p>
<p>Download firmware:</p>
<p><img alt="Image" src="_images/1719278373048_22012107_58e4_4093_85ac_ca9726722f00.png" /></p>
<p>If the upgrade is successful, the system will restart, and it needs to be powered on again, as shown below:</p>
<p><img alt="Image" src="_images/1719278373317_68796c78_84ac_4218_92c9_0a30ec517c45.png" /></p>
</section>
</section>
<section id="otg-step-by-step-flashing-test">
<h4>6.1.3 OTG Step-by-step Flashing Test<a class="headerlink" href="#otg-step-by-step-flashing-test" title="Link to this heading"></a></h4>
<p>In the development phase, it is very time-consuming to burn all of them every time, so here is the method of using OTG burning tool to burn in separate partitions.</p>
<p><strong>Note: The operation of identifying the device is the state in which the recover button is pressed when the development board is powered up.</strong></p>
<p>First, after OK3568-linux-release is compiled, a separate partition image can be found in the rockdev directory.</p>
<p><img alt="Image" src="_images/1719278373500_27a1231c_b0f0_4bf8_87d9_7276d40b3ce0.png" /></p>
<p>Take the separate flashing of the OEM and userdata partitions as examples to demonstrate the flashing method.</p>
<p>Use the Type-C cable to connect the development board to the host. Press and hold the recover key and do not release it. Then press the reset key to reset the system. Release the recover key after about two seconds. The system will prompt to discover the loader device.</p>
<p><img alt="Image" src="_images/1719278373708_bdf8dc9f_cc02_4fed_b2cf_9591ae9f3c87.png" /></p>
<p>Click the “Device Partition Table” button, and the partition address will be read automatically.</p>
<p><img alt="Image" src="_images/1719278373900_a316251a_0f98_4b69_a2ae_f7eeba24f552.png" /></p>
<p>The prompt asks if you want to update the download address. Clicking “Yes” will result in a successful reading of the partition table.</p>
<p><img alt="Image" src="_images/1719278374098_1e8ed88d_ec1b_4839_9831_a5d20a5f1a8c.png" /></p>
<p>Click the right test area of the partition to select the partition mirror, and check the partition.</p>
<p><img alt="Image" src="_images/1719278374299_664b1139_5d46_477e_8ec7_3640a0573c20.png" /></p>
<p>Click the “Execute” button will automatically burn and restart.</p>
<p><img alt="Image" src="_images/1719278374639_0858efb1_ae3b_4768_af77_983c9286aaff.png" /></p>
<p><strong>Introduction to MASKROM mode</strong></p>
<p>If the loader is damaged and cannot enter the Loader mode, press and hold the red Maskrom key and then press the reset key to enter the maskrom mode for flashing.</p>
<p><img alt="Image" src="_images/1719278374849_c9e0d481_4360_4856_a155_88cd30e07767.png" /></p>
<p>At this time, the system will prompt the discovery of a maskrom device. The flashing process is consistent with the loader mode, so it is best to use an update.img burning.</p>
<p><strong>Note: Don’t click “Device Partition Table” in maskrom mode, it is invalid.</strong></p>
</section>
</section>
<section id="tf-card-flashing">
<h3>6.2 TF Card Flashing<a class="headerlink" href="#tf-card-flashing" title="Link to this heading"></a></h3>
<p>TF Card Creation and Flashing Test</p>
<p><strong>Note: After testing, the maximum capacity of TF card is 16G, and the TF card of 32G and above may fail to be burned.  When flashing the TF card, it will also enter the command line as the root&#64;buildroot user. Please wait patiently for the flashing to complete.</strong></p>
<p>Copy SDDiskTool_v1.69.zip from the user profile tools directory to any directory on windows. Run SD_Firmware_Tool.exe with administrator privileges.</p>
<p><img alt="Image" src="_images/1719278375046_ccb93f8c_d97c_4c76_811c_4f0eda82c2e2.png" /></p>
<p>Select the disk device, check “Firmware Upgrade” and select update.img. Click Start Creating.</p>
<p><img alt="Image" src="_images/1719278375213_b0a0a76e_38c8_46a3_8dee_dbd887313527.png" /></p>
<p><img alt="Image" src="_images/1719278375372_2a2e23f1_1e24_43f9_ba08_803a28b79464.png" /></p>
<p>Insert the TF card into the development board and start, the system will automatically enter the flashing process. When the flashing is complete, both the screen and the serial port will prompt:</p>
<p>Please remove SD CARD!!!, wait for reboot.</p>
<p>At this time, pull out the TF card, the system automatically restarts (please do not power down directly).</p>
<p>During mass production, check the flashing status by SoM heartbeat light.  Heartbeat light modes are as follows:</p>
<ol class="arabic simple">
<li><p>Kernel startup phase: Heartbeat light mode, regular intermittent flashes.</p></li>
<li><p>Flashing preparation phase: EMMC indicator light, off.</p></li>
<li><p>Flashing in progress phase: EMMC indicator light, on.</p></li>
<li><p>Flashing completion phase: Heartbeat light mode, regular intermittent flashes.</p></li>
</ol>
<p>Serial port information during the burning process:</p>
<p><img alt="Image" src="_images/1719278375582_f434b9b5_a919_4466_a07c_492b79b49a23.png" /></p>
<p>If the automatic restart does not occur after removing the TF card, a manual restart can also complete the burning. As shown in the figure above, the burning process takes about 7 minutes. Please wait patiently during the burning process.</p>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>