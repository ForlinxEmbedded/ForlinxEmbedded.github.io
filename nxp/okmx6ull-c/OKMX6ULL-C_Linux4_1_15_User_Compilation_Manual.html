

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux6.1.36_User’s Compilation Manual_V1.0 &mdash; Forlinx Embedded i.MX6ULL Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/theme-switcher.css?v=a3c71d8a" />

  
    <link rel="shortcut icon" href="_static/forlinx.png"/>
    <link rel="canonical" href="https://forlinxembedded.github.io/nxp/okmx6ull-c/OKMX6ULL-C_Linux4_1_15_User_Compilation_Manual.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/theme-switcher.js?v=950663c4"></script>
      <script src="_static/logo-link.js?v=d4af6ba6"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Linux6.1.36_User’s Manual_V1.1" href="OKMX6ULL-C_Linux4_1_15_User_Manual.html" />
   

  <!-- Load Font Awesome from CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8EJPNL8NR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-N8EJPNL8NR');
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/forlinx-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">HARDWARE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OKMX6ULL-C_User_Hardware_Manual.html">OKMX6ULL-C_User’s Hardware Manual_V1.1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SOFTWARE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="OKMX6ULL-C_Linux4_1_15_User_Manual.html">Linux6.1.36_User’s Manual_V1.1</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux6.1.36_User’s Compilation Manual_V1.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-scope">Application Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="#revision-history">Revision History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vmware-virtual-machine-software-installation">1. VMware Virtual Machine Software Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-download-and-purchase">1.1 VMware Software Download and Purchase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmware-software-installation">1.2 VMware Software Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#loading-the-existing-ubuntu-development-environment">2. Loading the Existing Ubuntu Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#new-ubuntu-development-environment-setup">3. New Ubuntu Development Environment Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu-system-setup">3.1 Ubuntu System Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-an-ubuntu-virtual-machine">3.1.1 Creating an Ubuntu Virtual Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-installation">3.1.2 System Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-ubuntu-installation">3.1.3 Basic Ubuntu Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-network-settings">3.1.4 Ubuntu Network Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#u-disk-loading">3.1.5 U Disk Loading</a></li>
<li class="toctree-l4"><a class="reference internal" href="#required-library-installation">3.1.6 Required Library Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-a-cross-compilation-environment">3.2 Setting up A Cross-compilation Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sdk-installation">3.2.1 SDK Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-variables-settings">3.2.2 Environment Variables Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qt-creator-installation">3.3 Qt Creator Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#modifying-the-qt-configuration-file">3.3.1 Modifying the QT Configuration File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">3.3.2 Qt Creator Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-configuration">3.3.3 Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation-issues">3.3.4 Installation Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#related-code-compilation">4. Related Code Compilation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparation-before-compilation">4.1 Preparation Before Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description-of-the-environment">4.1.1 Description of the Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-code-copy">4.1.2 Source Code Copy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">4.1.3 Environment Variables Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-compilation">4.2 Kernel Compilation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#linux-4-1-15-kernel-full-compilation">4.2.1 Linux-4.1.15 Kernel Full Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#separate-zimage-compilation">4.2.2 Separate zImage Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#separate-device-tree-compilation">4.2.3 Separate Device Tree Compilation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#independent-module-compilation">4.2.4 Independent Module Compilation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-file-system">4.3 Creating the File System</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application-compilation-and-operation">4.4 Application Compilation and Operation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-line-application-compilation-and-operation">4.4.1 Command Line Application Compilation and Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#qt-application-compilation-and-running">4.4.2 QT Application Compilation and Running</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Forlinx Embedded i.MX6ULL Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Linux6.1.36_User’s Compilation Manual_V1.0</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux6-1-36-users-compilation-manual-v1-0">
<h1>Linux6.1.36_User’s Compilation Manual_V1.0<a class="headerlink" href="#linux6-1-36-users-compilation-manual-v1-0" title="Link to this heading"></a></h1>
<p>Document classification: □ Top secret □ Secret □ Internal information ■ Open</p>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Link to this heading"></a></h2>
<p>The copyright of this manual belongs to Baoding Folinx Embedded Technology Co., Ltd. Without the written permission of our company, no organizations or individuals have the right to copy, distribute, or reproduce any part of this manual in any form, and violators will be held legally responsible.</p>
<p>Forlinx adheres to copyrights of all graphics and texts used in all publications in original or license-free forms.</p>
<p>The drivers and utilities used for the components are subject to the copyrights of the respective manufacturers. The license conditions of the respective manufacturer are to be adhered to. Related license expenses for the operating system and applications should be calculated/declared separately by the related party or its representatives.</p>
</section>
<section id="application-scope">
<h2>Application Scope<a class="headerlink" href="#application-scope" title="Link to this heading"></a></h2>
<p>This manual is mainly applicable to the Linux4.1.15 operating system on the Forlinx OKMX6ULL platform. Other platforms can also refer to it, but there will be differences between different platforms. Please make modifications according to the actual conditions.</p>
</section>
<section id="revision-history">
<h2>Revision History<a class="headerlink" href="#revision-history" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Date</p></th>
<th class="head text-center"><p>Version</p></th>
<th class="head text-center"><p>Modification</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>20/01/2022</p></td>
<td class="text-center"><p>V1.0</p></td>
<td class="text-center"><p>Initial Version</p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This manual is designed to enable you to quickly understand the compilation process of the products and familiarize yourself with the compilation methods of Forlinx products. The application needs to be cross-compiled on an Ubuntu host before it can run on the development board. By following the methods provided in the compilation manual and performing practical operations, you will be able to successfully compile your own software code.</p>
<p>The manual is mainly divided into four chapters:</p>
<ul class="simple">
<li><p>Chapter 1. is mainly about the installation of VMware, and the version used is VMware® Workstation 15 Pro15.1.0. Users need to install VMware before using the ubuntu development environment;</p></li>
<li><p>Chapter 2. mainly introduces the method of loading the ubuntu development environment provided by Forlinx, and the development environment is 64-bit ubuntu18.04;</p></li>
<li><p>Chapter 3. mainly introduces the method of building a new ubuntu development environment. This section uses the 64-bit Ubuntu 18.04 as an example to describe the process of Ubuntu creation, cross-compiler installation, and QT Creator installation. Due to different computer configurations, unexpected problems may occur in the building process. It is recommended that beginners directly use the environment we have built;</p></li>
<li><p>Chapter 4. mainly describes the compiling method of the source code related to the development board, including the kernel source code compilation and the application program compilation.</p></li>
</ul>
</section>
<section id="vmware-virtual-machine-software-installation">
<h2>1. VMware Virtual Machine Software Installation<a class="headerlink" href="#vmware-virtual-machine-software-installation" title="Link to this heading"></a></h2>
<section id="vmware-software-download-and-purchase">
<h3>1.1 VMware Software Download and Purchase<a class="headerlink" href="#vmware-software-download-and-purchase" title="Link to this heading"></a></h3>
<p>Go to the VMware website https://www.vmware.com/cn.html to download Workstation Pro and get the product key. VMware is a paid software that requires purchasing, or you can choose to use a trial version.</p>
<p><img alt="Image" src="_images/1715130552795_1efff5fc_4341_43b9_aeb1_bd723941779d.png" /></p>
<p>After the download is complete, double-click the installation file to start the installation program.</p>
</section>
<section id="vmware-software-installation">
<h3>1.2 VMware Software Installation<a class="headerlink" href="#vmware-software-installation" title="Link to this heading"></a></h3>
<p>Double-click the startup program to enter the installation wizard.</p>
<p><img alt="Image" src="_images/1715130553055_61c21413_07de_4beb_bed5_891acde85934.png" /></p>
<p>Click on “Next”.</p>
<p><img alt="Image" src="_images/1715130553376_df065571_fcfa_4fde_83f1_e25539acc3b4.png" /></p>
<p>Check the terms in the license agreement that I accept, then click “Next”.</p>
<p><img alt="Image" src="_images/1715130553578_781988f3_7dac_4da4_ab14_4ffc52417275.png" /></p>
<p>Modify the installation location to the partition where you want to install the software on your computer, then click ‘“Next”.</p>
<p><img alt="Image" src="_images/1715130553799_5e6fd4d4_9d73_41e7_b325_2e3b3a3423cf.png" /></p>
<p>Check and click on “Next”.</p>
<p><img alt="Image" src="_images/1715130554136_cf6e6cf5_3ff8_4e60_b72f_7d96205b4ce7.png" /></p>
<p>Check the box to add a shortcut, then click “Next”.</p>
<p><img alt="Image" src="_images/1715130554602_7f51a899_ebcf_4dd9_bad3_1be0b24bd24f.png" /></p>
<p>Click “Installation”.</p>
<p><img alt="Image" src="_images/1715130554863_0a8ad89a_74aa_4fb0_8ed5_e8ae0bfe9798.png" /></p>
<p>Wait for the installation to complete.</p>
<p><img alt="Image" src="_images/1715130555089_e26d12b8_7cc4_4afe_b9e1_3ff3d86cc4ae.png" /></p>
<p>Click “Finish” to try it out. If users need to use it for a long time, they need to buy it from the official and fill in the license.</p>
</section>
</section>
<section id="loading-the-existing-ubuntu-development-environment">
<h2>2. Loading the Existing Ubuntu Development Environment<a class="headerlink" href="#loading-the-existing-ubuntu-development-environment" title="Link to this heading"></a></h2>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>It is recommended for beginners to directly use the pre-built virtual machine environment provided by Forlinx, which already includes installed cross-compiler and Qt environment. After understanding this chapter, you can directly jump to the compilation chapter for further study;</strong></p></li>
<li><p><strong>The development environment provided is: forlinx (username), forlinx (password).</strong></p></li>
</ul>
<p>There are two ways to use a virtual machine environment in VMware: one is to directly load an existing environment, and the other is to create a new environment. Let’s first talk about how to load an existing environment.</p>
<p>First, download the development environment provided by Forlinx. In the development environment documentation, there should be an MD5 checksum file. After downloading the development environment, you should verify the integrity of the compressed package using the MD5 checksum. (You can use an on-line MD5 checksum tool or download a specific MD5 checksum tool for this purpose). To check if the checksum in the verification file matches the checksum of the file itself. If they match, the file download is successful. If they don’t match, it suggests that the file may be corrupt, and you should consider downloading it again.</p>
<p><img alt="Image" src="_images/1715130667841_7dd3f795_e862_4ab5_9123_97a4322a44b8.png" /></p>
<p>Select all the compressed packages and right click to extract them to MX6UL&amp;MX6ULL-linux4.1.15-VM15.1.0-ubuntu18.04:</p>
<p><img alt="Image" src="_images/1715130668092_deb6353e_c58e_47a8_8f2c_0494bcde9373.png" /></p>
<p>After the decompression is completed, as shown in the figure below:</p>
<p><img alt="Image" src="_images/1715130668390_1271091f_6304_4c3e_9d51_b2f46e4384ef.png" /></p>
<p>The file “Ubuntu18.04 64-bit.vmx” in the MX6UL&amp;MX6ULL-linux4.1.15-VM15.1.0-ubuntu18.04 folder is the file that needs to be opened by the virtual machine.</p>
<p>Open the installed virtual machine.</p>
<p><img alt="Image" src="_images/1715130668618_c3be439a_e840_4e42_a78f_1544448e447f.png" /></p>
<p>Navigate to the directory where the recently extracted MX6UL&amp;MX6ULL-linux4.1.15-VM15.1.0-ubuntu18.04 virtual machine file is located, and double-click on the startup file to open it.</p>
<p><img alt="Image" src="_images/1715130668821_8323be81_5bc8_49df_abf1_3bdff8e0afb4.png" /></p>
<p>Turn on this virtual machine after loading is complete to run it and enter the system’s interface.</p>
<p><img alt="Image" src="_images/1715130669055_44003c55_25ea_4813_a29a_21ae2bb43ac1.png" /></p>
<p>The development environment is: forlinx, and the password is: forlinx. After filling in the password, select Sign in to log in.</p>
<p><img alt="Image" src="_images/1715130669360_9f42398a_117a_414d_bb81_dbe1dbfbe120.png" /></p>
<p><img alt="Image" src="_images/1715130669640_b1da4f71_0317_425c_962b_04428e1b57bc.png" /></p>
</section>
<section id="new-ubuntu-development-environment-setup">
<h2>3. New Ubuntu Development Environment Setup<a class="headerlink" href="#new-ubuntu-development-environment-setup" title="Link to this heading"></a></h2>
<p><strong>Note: Beginners are not recommended to set up a system on their own. It is recommended to use an existing virtual machine environment. If you do not need to set up the environment, you can skip this section.</strong></p>
<p>This chapter mainly explains the process of setting up the Ubuntu system, installing the cross-compiler, and installing Qt Creator. If the user is not using Qt, the installation of Qt Creator can be ignored.</p>
<section id="ubuntu-system-setup">
<h3>3.1 Ubuntu System Setup<a class="headerlink" href="#ubuntu-system-setup" title="Link to this heading"></a></h3>
<section id="creating-an-ubuntu-virtual-machine">
<h4>3.1.1 Creating an Ubuntu Virtual Machine<a class="headerlink" href="#creating-an-ubuntu-virtual-machine" title="Link to this heading"></a></h4>
<p>Open the VMware software, click on create a new virtual machine. Enter the following interface</p>
<p><img alt="Image" src="_images/1715130873710_b80a1010_8d6a_4ba1_8849_570651261519.png" /></p>
<p>Choose custom, and click “Next”.</p>
<p><img alt="Image" src="_images/1715130873998_716f2d13_f787_45ab_8034_3684dd19f526.png" /></p>
<p>Select the compatibility with the corresponding version of VMware, which can be found in Help-&gt;About VMware Workstation, and click “Next”.</p>
<p><img alt="Image" src="_images/1715130874359_e15e9c36_4757_4c02_9d31_2b1f6621e444.png" /></p>
<p>Select Install the operating system later and click “Next”.</p>
<p><img alt="Image" src="_images/1715130874643_3c1b5ca9_329e_4aee_bff3_3cbe693f69a2.png" /></p>
<p>Leave the default and click “Next”.</p>
<p><img alt="Image" src="_images/1715130874873_6a547ee4_c88f_4467_aa57_6f62406eef17.png" /></p>
<p>Modify the virtual machine name and installation location, click “Next”.</p>
<p><img alt="Image" src="_images/1715130875136_bf052855_fc99_4273_8e0e_30c7e6de4c5e.png" /></p>
<p><img alt="Image" src="_images/1715130875393_5d7c2ff3_a199_44b9_93cc_384f20420379.png" /></p>
<p>Again, set the memory size as appropriate.</p>
<p><img alt="Image" src="_images/1715130875638_fb0ecd2e_a95f_45cc_95b8_033ac8bed1c4.png" /></p>
<p>Set the network type, the default is NAT mode, click Next. Keep the default values for the remaining steps until you reach the step to specify the disk capacity.</p>
<p><img alt="Image" src="_images/1715130875870_58ea3361_855b_4639_b0f5_923e361758bd.png" /></p>
<p>The default selection for the IO controller type here is LSI.</p>
<p><img alt="Image" src="_images/1715130876113_0bc98951_16b5_4084_90c8_37d896225d4b.png" /></p>
<p>The default selection here is also SCSI.</p>
<p><img alt="Image" src="_images/1715130876355_b630e6a2_e66c_4629_bad9_95a5142f811e.png" /></p>
<p>Choose to create a new virtual disk here.</p>
<p><img alt="Image" src="_images/1715130876565_ef041689_7337_4abc_9d05_63b82dfd2f92.png" /></p>
<p>Set the disk size to 200 gigabytes and select the form in which the disk exists, then click “Next” to finish.</p>
<p><img alt="Image" src="_images/1715130876873_7c0856e0_6814_46f2_b1c3_4777c3f1ba82.png" /></p>
<p>Specify the disk file, the default one here is fine.</p>
<p><img alt="Image" src="_images/1715130877128_50148b1b_37d8_4af0_9227_6bf60c93f956.png" /></p>
<p>Click Finish by default.</p>
<p><img alt="Image" src="_images/1715130877325_cd17f07f_bb68_4ef0_bf8d_bcffdcef5d5e.png" /></p>
<p>The virtual machine creation is now complete.</p>
<p>In the next section, we will introduce the installation of Ubuntu system in the virtual machine, which is similar to the installation method in the real machine. Here we describe the method of installing Ubuntu system in a virtual machine.</p>
</section>
<section id="system-installation">
<h4>3.1.2 System Installation<a class="headerlink" href="#system-installation" title="Link to this heading"></a></h4>
<p>The Ubuntu version chosen to install is 18.04. First, go to the official Ubuntu website to obtain the 64-bit image of Ubuntu 18.04. The download address is: http://releases.ubuntu.com/18.04/. Download the version: “ubuntu-18.04.5-desktop-amd64.iso”.</p>
<p><img alt="Image" src="_images/1715130877616_c0116c9e_13fd_4dca_8aca_cd910dcc7df4.png" /></p>
<p>Right-click on the newly created Ubuntu 64-bit and select Settings from the pop-up menu.</p>
<p><img alt="Image" src="_images/1715130877889_7e5b736b_ed71_4266_9d79_2af0c01d3ea4.png" /></p>
<p>The “Virtual Machine Settings Menu” pops up as shown below:</p>
<p><img alt="Image" src="_images/1715130878173_7f3b9c86_a789_4b74_9139_237498289208.png" /></p>
<p>Click on CD/DVD (SATA), select “Use ISO image file,” browse and choose the previously downloaded Ubuntu image, then click “OK” to confirm.</p>
<p><img alt="Image" src="_images/1715130878386_465f332a_846b_4654_9492_c7b334ae6452.png" /></p>
<p>After setting up the image, ensure that the network is available. Then, start the virtual machine and proceed with the installation of the Ubuntu image.</p>
<p><img alt="Image" src="_images/1715130878629_7b9c4978_111f_4d6a_87c8_d74e18db979f.png" /></p>
<p>After starting the virtual machine, wait for the installation interface to appear as shown below.</p>
<p><img alt="Image" src="_images/1715130878872_dfd1e144_c565_4bf5_ae65_96165fdfd0ee.png" /></p>
<p>After selecting the language on the left side as shown in the image, click “Install Ubuntu”, and the language selection interface will pop up. Ubuntu default language is English, of course, you can also choose others, the default choice of language in the later stage can also be reset,after selection then click continue.</p>
<p><img alt="Image" src="_images/1715130879162_c887a891_5473_4470_8744_ea601caa884c.png" /></p>
<p>Next, by default, select continue to finish the installation, the installation process will be very slow, then click “continue”:</p>
<p><img alt="Image" src="_images/1715130879424_f22b6351_4139_46ed_a5ae_9f07a0395579.png" /></p>
<p>Next, select continue by default to continue the installation, the installation process will be very slow, and then click “continue”:</p>
<p><img alt="Image" src="_images/1715130879621_48c81c07_77b7_42ba_9252_bf0b57d67089.png" /></p>
<p><img alt="Image" src="_images/1715130879995_f2e16814_cf7c_4fc5_9bab_7c617fadd3e2.png" /></p>
<p>Next, select the timezone. You can either click on the Shanghai timezone or enter “Shanghai” (or choose the appropriate timezone based on your location). Then, click “Continue” to proceed. Finally, set your username and password and click “continue” to automatically install the program:</p>
<p><img alt="Image" src="_images/1715130880313_7ce73410_2829_4742_b833_8116daec3469.png" /></p>
<p>The installation process is shown in the figure below, you can skip it if the network is bad, it will not affect the installation.</p>
<p><img alt="Image" src="_images/1715130880702_8f6f15db_0b72_41bb_baf3_8223b6f98062.png" /></p>
<p>After the installation is completed, as shown in the following figure, click “Restart Now” (or click” Restart Client “):</p>
<p><img alt="Image" src="_images/1715130880992_5934d52d_df50_4438_812a_6ae5fb555a22.png" /></p>
<p><img alt="Image" src="_images/1715130881280_a25cd0ea_662d_4a5e_804d_c3409035be54.png" /></p>
<p>After the reboot, you need to log in with your username and password, and the system interface is shown below after logging in:</p>
<p><img alt="Image" src="_images/1715130881517_50069bf3_e74b_42b5_902c_37145d6f82d0.png" /></p>
<p><img alt="Image" src="_images/1715130881840_80f09913_0c90_45a6_8bcc_f8bf91fa6d34.png" /></p>
<p>Above, the Ubuntu system installation is completed by the following figure configuration, click “OK”, and then re-open the virtual machine to see if you can start Ubuntu normally.</p>
<p><img alt="Image" src="_images/1715130882093_342df8a6_a76b_4820_8df6_adae03cb2607.png" /></p>
</section>
<section id="basic-ubuntu-installation">
<h4>3.1.3 Basic Ubuntu Installation<a class="headerlink" href="#basic-ubuntu-installation" title="Link to this heading"></a></h4>
<p>After installing the Ubuntu 18.04 operating system, there are a few configurations to make.</p>
<ul class="simple">
<li><p><strong>VMware Tools Installation:</strong></p></li>
</ul>
<p>Next, install VMware Tools. Without installing this tool, you won’t be able to copy and paste and drag file between the Windows host and the virtual machine. First click on “Virtual Machines” on the VMware navigation bar, then click “Install VMware Tools” in the drop-down box.</p>
<p><img alt="Image" src="_images/1715130882334_203d6ed3_4c69_471f_a20f_24af1b7ad171.png" /></p>
<p>Once done, enter Ubuntu and the VMware Tools CD icon will appear on your desktop, click into it:</p>
<p><img alt="Image" src="_images/1715130882614_15de9f87_5997_40c0_b7a7_9e650e40ef7d.png" /></p>
<p>Double-click on the VMwareTools icon, go to it and see a zip file VMwareTools-10.3.10-12406962.tar.gz (it may be different for different VM versions).</p>
<p><img alt="Image" src="_images/1715130882882_b3eed435_b12d_4198_8a78_38d7a42a441e.png" /></p>
<p>Copy the file under the home directory (i.e., the directory of the home personal username):</p>
<p><img alt="Image" src="_images/1715130883102_6095e86b_ed29_4116_9acd_043e3dc27af8.png" /></p>
<p><img alt="Image" src="_images/1715130883509_768a0307_4af6_4ee0_88af_6715ef57e4b2.png" /></p>
<p>Press [Ctrl+Alt+T] to bring up the terminal command interface, and use the tar command to decompress the VMware tools installation package (using the sudo command will prompt for the password, according to the prompts directly enter the password enter can be used, Linux system password input does not show):</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo tar xvf VMwareTools-10.3.10-12406962.tar.gz 
[sudo] password for forlinx:
</pre></div>
</div>
<p>After executing the extract command, use ls to view the file directory vmware-tools-distrib, and go to the directory</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ ls
Desktop   examples.desktop   nfs   snap   tftp   VMwareTools-10.3.10-12406962.tar.gz  vmware-tools-distrib   work
forlinx@ubuntu:~$ cd vmware-tools-distrib/	                      //Use the CD command to enter the directory
forlinx@ubuntu:~/vmware-tools-distrib$ ls                         //View the files in this directory
bin   caf   doc   etc   FILES   INSTALL   installer   lib   vgauth   vmware-install.pl
</pre></div>
</div>
<p>In the current directory, enter sudo ./vmware-install.pl to install, enter the password after pressing Enter, and then start the installation. When you encounter yes, enter yes, and press Enter for the rest to install by default.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/vmware-tools-distrib$ sudo ./vmware-install.pl
[sudo] password for forlinx: 		     //Enter the password of the forlinx account, no display, cannot see the input content.
</pre></div>
</div>
<p>The installation process information is long, here omitted.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>open-vm-tools packages are available from the OS vendor and VMware recommends 
using open-vm-tools packages. See http://kb.vmware.com/kb/2073803 for more 
information.
Do you still want to proceed with this installation? [no] yes			//Enter yes
... ...		
</pre></div>
</div>
<p>After completing the VMware tools tool, you can achieve file copy and paste, virtual machine adaptive full display and other functions between Windows and Ubuntu. If the virtual machine cannot be displayed in full screen, you can click View, select Auto Resize, and click Auto Adapt to Client to display the virtual machine in full screen. VMware tools is installed successfully.</p>
<p><img alt="Image" src="_images/1715130883706_0b9259e7_9335_4895_9e6a_47c8b270fd70.png" /></p>
<ul class="simple">
<li><p><strong>Basic Settings:</strong></p></li>
</ul>
<p>Make most of the system settings in the location shown below. A lot of the setup requirements on Ubuntu can be done here.</p>
<p><img alt="Image" src="_images/1715130884066_fcfdc4c4_9b74_4e9a_ae37_bb38cddbc0a7.png" /></p>
</section>
<section id="ubuntu-network-settings">
<h4>3.1.4 Ubuntu Network Settings<a class="headerlink" href="#ubuntu-network-settings" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>NAT Mode</strong></p></li>
</ul>
<p>Before using the network, make sure that our virtual machine can connect to the Internet, open the virtual machine settings, and change the network bridge mode in the network adapter to “NAT mode”:</p>
<p><img alt="Image" src="_images/1715130884252_18d04452_e6c6_4ac7_a7be_b8243e124e2a.png" /></p>
<p>When the VMware virtual NIC is set to NAT mode in a virtual machine, the network in the Ubuntu environment can be set to dynamic IP. The virtual NAT device and the host NIC are connected to communicate for Internet access in this mode. This is the most common way for our VM to get on the extranet.</p>
<p><img alt="Image" src="_images/1715130884514_a79f3fb8_e9a6_4c0e_aaeb_e84b5e134598.png" /></p>
<p><img alt="Image" src="_images/1715130884669_ee6af497_3c2b_4699_b5fa_aa7473a56744.png" /></p>
<p>The network is set to dynamic ip.</p>
<p><img alt="Image" src="_images/1715130884910_31b3ff36_944c_4dcd_803b_61d261fc56a2.png" /></p>
<ul class="simple">
<li><p><strong>Bridge Mode:</strong></p></li>
</ul>
<p>If TFTP, SFTP and other servers are used, it is necessary to set the network connection mode of the virtual machine as bridging mode. When the VMware virtual NIC is set to bridge mode, the host NIC and the VM NIC communicate via a virtual bridge, which requires the Ubuntu IP to be set to the same network segment as the host IP.</p>
<p><img alt="Image" src="_images/1715130885296_2e06ca75_268a_48ca_b8d8_d3e0df3cf340.png" /></p>
<p><img alt="Image" src="_images/1715130885782_8a8f38ca_28f0_4339_ad00_929b39697312.png" /></p>
<p><img alt="Image" src="_images/1715130885969_280935cf_acc5_4e8e_a155_b8ef4ea3c9ce.png" /></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>设置静态ip，此时Ubuntu的IP与主机IP需设置在同一个网段。
</pre></div>
</div>
<p><img alt="Image" src="_images/1715130886234_d7029515_ec37_4f72_b240_d70dd584f554.png" /></p>
<p><strong>Note: The IP and DNS involved in the network settings section should be set according to the user’s own actual environment, the manual is an example.</strong></p>
</section>
<section id="u-disk-loading">
<h4>3.1.5 U Disk Loading<a class="headerlink" href="#u-disk-loading" title="Link to this heading"></a></h4>
<p>Open VM Settings, USB Controller, select USB 3.0 in Compatibility and “OK”. As shown in the picture below, since most computers nowadays support USB3.0 ports, if we don’t set it up, when we plug in the USB3.0 port, we can’t connect to the virtual machine. The principle is as follows:</p>
<p><img alt="Image" src="_images/1715130886408_8d3ca670_ba9e_4095_8922_fa0612b8ebbb.png" /></p>
<p>After the virtual machine boot, insert the U disk, the virtual machine will be more in the lower right corner of the icon similar to the “U disk”, right-click –&gt; connect, and then you can see in the file system to see more than a directory, that the U disk loaded successfully, as shown in the figure:</p>
<p><img alt="Image" src="_images/1715130886606_5c2f1d8f_b5b5_41b9_9380_b4658f50c8ae.png" /></p>
<p><img alt="Image" src="_images/1715130886802_39cd79c3_8476_4aee_840b_4909dfce8097.png" /></p>
</section>
<section id="required-library-installation">
<h4>3.1.6 Required Library Installation<a class="headerlink" href="#required-library-installation" title="Link to this heading"></a></h4>
<p>Before development, there are some other necessary libraries, we use the following commands to install them one by one, before installation, you need to ensure that the network can be used normally, you can get on the extranet:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo apt-get update                        // Update the information of download sources
forlinx@ubuntu:~$ sudo apt-get install build-essential            // Provide the list information of software packages necessary for compiling programs
forlinx@ubuntu:~$ sudo apt-get install libncurses*               // Used to generate text-based user interfaces
forlinx@ubuntu:~$ sudo apt-get install lzop                     // Compression and decompression tool based on the Lzo library
forlinx@ubuntu:~$ sudo apt-get install net-tools                 // Network configuration tools
</pre></div>
</div>
</section>
</section>
<section id="setting-up-a-cross-compilation-environment">
<h3>3.2 Setting up A Cross-compilation Environment<a class="headerlink" href="#setting-up-a-cross-compilation-environment" title="Link to this heading"></a></h3>
<p>The cross-compilation environment can be subdivided into installing the SDK (which contains the cross-compilation toolchain) and setting cross-compilation environment variables.</p>
<section id="sdk-installation">
<h4>3.2.1 SDK Installation<a class="headerlink" href="#sdk-installation" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Information/tool/fsl-imx-x11-glibc-x86_64-meta-toolchain-qt5-cortexa7hf-neon-toolchain-4.1.15-2.0.0.sh</p></li>
</ul>
<p>Copy the above script to any directory like /home/forlinx/ and execute it there:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ ./fsl-imx-x11-glibc-x86_64-meta-toolchain-qt5-cortexa7hf-neon-toolchain-4.1.15-2.0.0.sh
</pre></div>
</div>
<p>The command line prompts: Enter target directory for SDK (default): /opt/fsl-imx-x11/4.1.15-2.0.0)</p>
<p>Press the Enter key twice in a row, the program will automatically install the cross-compilation toolchain (the cross-compilation toolchain can be installed once, you don’t need to reinstall it when you change terminals or reboot the system). Make sure that the network is open during the installation process and that the Ubuntu system has access to an extranet.</p>
<p><img alt="Image" src="_images/1715130887061_4376335c_6c90_4aad_9262_a497d7a8515b.png" /></p>
<p>You can determine whether the installation was successful by outputting the printed information.</p>
</section>
<section id="environment-variables-settings">
<h4>3.2.2 Environment Variables Settings<a class="headerlink" href="#environment-variables-settings" title="Link to this heading"></a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>After setting the environment variables, you don’t need to reset them the next time you compile as long as you don’t change terminals;</strong></p></li>
<li><p><strong>If you reopen a new terminal or switch accounts, you need to reset the environment variables before compiling.</strong></p></li>
</ul>
<p>The main purpose of setting up the compilation environment is to specify the target architecture and cross-compilation toolchain, as well as the paths of some libraries used in the compilation process, etc. Use the following commands to configure the compilation environment (<strong>.followed by a space</strong>):</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>. /opt/fsl-imx-x11/4.1.15-2.0.0/environment-setup-cortexa7hf-neon-poky-linux-gnueabi
</pre></div>
</div>
<p><img alt="Image" src="_images/1715130887289_6e9810ff_f2ba_441c_8935_c2f4ea2ccd2e.png" /></p>
<p>Then use the command arm-poky-linux-gnueabi-gcc -v to determine if the setup was successful (note: -v is preceded by a space):</p>
<p>Normally the gcc version information is printed, gcc version 5.3.0 (GCC):</p>
<p><img alt="Image" src="_images/1715130887554_e8c33fab_d0c2_4eb8_90aa_a6d4ed1279c9.png" /></p>
</section>
</section>
<section id="qt-creator-installation">
<h3>3.3 Qt Creator Installation<a class="headerlink" href="#qt-creator-installation" title="Link to this heading"></a></h3>
<p>Qt Creator is a cross-platform QT integrated development environment (IDE) that includes advanced C + + code editors, project and build management tools for QT application framework design and application development. Qt Creator 3.2.1 installation package selected for this installation:<a class="reference external" href="https://download.qt.io/archive/qtcreator/3.2/3.2.1/qt-creator-opensource-linux-x86_64-3.2.1.run">qt-creator-opensource-linux-x86_64-3.2.1.run</a>. Copy the installation package to the path /home/forlinx/work/. Installation package acquisition site:<a class="reference external" href="https://download.qt.io/archive/qtcreator/3.2/3.2.1/">https://download.qt.io/archive/qtcreator/3.2/3.2.1/</a></p>
<section id="modifying-the-qt-configuration-file">
<h4>3.3.1 Modifying the QT Configuration File<a class="headerlink" href="#modifying-the-qt-configuration-file" title="Link to this heading"></a></h4>
<p>After installing the SDK, modify the QT profile qmake. Conf.</p>
<p>Open the configuration file to be modified, the path of the file in the development environment is: /opt/fsl-imx-x11/4.1.15-2.0.0/sysroots/cortexa7hf-neon-poky-linux-gnueabi/usr/lib/qt5/mkspe</p>
<p>cs/linux-oe-g++/qmake.conf</p>
<p>Remove the line include(…) from the file qmake.conf. /oe-device-extra.pri) line in the qmake.conf file.</p>
<p><img alt="Image" src="_images/1715130887910_04ba5e0d_3874_4ee5_9d51_5c49feb0ffc8.png" /></p>
<p>Save and exit after making changes</p>
</section>
<section id="id1">
<h4>3.3.2 Qt Creator Installation<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p>Execute the following command in the/home/forlinx/work/path to install Qt Creator:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ chmod u+x qt-creator-opensource-linux-x86_64-3.2.1.run 
forlinx@ubuntu:~/work$ ./qt-creator-opensource-linux-x86_64-3.2.1.run
</pre></div>
</div>
<p>Then the installation window of the graphical interface will pop up, and install according to the instructions:</p>
<p><img alt="Image" src="_images/1715130888223_7286e0f2_c770_4453_b3ca_ea4551750c0b.png" /></p>
<p><img alt="Image" src="_images/1715130888466_f4e7734a_41e3_4822_b570_e3363bdf6067.png" /></p>
<p>Users can set the installation path according to their own habits.</p>
<p>Execute the following command to open Qt Creator in the background, and users should follow their actual installation path when opening it:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ /home/forlinx/qtcreator-3.2.1/bin/ qtcreator.sh &amp;
</pre></div>
</div>
<p><img alt="Image" src="_images/1715130888709_cd7f89bb_5f27_400b_aaca_60fe98366722.png" /></p>
<p>The Qt Creator tool screen appears. Qt Creator is installed.</p>
</section>
<section id="environment-configuration">
<h4>3.3.3 Environment Configuration<a class="headerlink" href="#environment-configuration" title="Link to this heading"></a></h4>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Be sure to configure the environment variables first (see “3.2.2 Environment Variables Setting”), then open the Qt Creator with the command;</strong></p></li>
<li><p><strong>Open Qt Creator according to your actual installation path.</strong></p></li>
</ul>
<p>Qt is a cross-platform graphics development library, which supports many operating systems. Before compiling, you need to configure the compiling environment of Qt Creator.</p>
<section id="configuration-of-the-cross-compiler">
<h5><strong>3.3.3.1 Configuration of the Cross-compiler</strong><a class="headerlink" href="#configuration-of-the-cross-compiler" title="Link to this heading"></a></h5>
<p>1. Click Qt Creator Tools -&gt;Options-&gt;Build &amp; Run-&gt;Compilers， and then click Add -&gt;GCC;</p>
<p>2. Name enters GCC;</p>
<p>3. Compiler Path Click Browse to select the path of the cross-compiler as: /opt/fsl-imx-x11/4.1.15-2.0.0/sysroots/x86_64-pokysdk-linux/usr/bin/arm-poky-linux-gnueabi/arm-poky-linux-gnueabi-g++ As shown in the following figure:</p>
<p><img alt="Image" src="_images/1715130889406_5c81a0f9_9e69_47ba_8799_704f8bc84dbe.png" /></p>
<p>4. Then click Apply and OK</p>
</section>
<section id="qt-versions-configuration">
<h5><strong>3.3.3.2 Qt Versions Configuration</strong><a class="headerlink" href="#qt-versions-configuration" title="Link to this heading"></a></h5>
<p>1. Click Qt Creator Tools -&gt;Options-&gt;Build &amp; Run-&gt;Qt Versions;</p>
<p>2. Then click Add, a pop-up dialog box to select the/opt/fsl-imx-x11/4.1.15-2.1.0/sysroots/x86_64-pokysdk-linux/usr/bin/qt5/qmake;</p>
<p>3. Click open to add.</p>
<p><img alt="Image" src="_images/1715130889611_4726e704_8541_4f90_8ce1_73cc86ddb01b.png" /></p>
<p>4. It will then return to the Qt Version configuration box, and the Version name will be entered in the Qt 5.6.2.</p>
<p><img alt="Image" src="_images/1715130889900_7c9610ab_ef88_4567_a6b1_4f4e6667766b.png" /></p>
<p>5. Then click “Apply and OK”.</p>
</section>
<section id="kits-configuration">
<h5><strong>3.3.3.3 Kits Configuration</strong><a class="headerlink" href="#kits-configuration" title="Link to this heading"></a></h5>
<p>Kits is a build kit for building and selecting development build environments useful for projects with multiple QT libraries. Add the previously added cross-compiler and QT Version to Kits to build a compilation environment suitable for the development board.</p>
<p>1. Click Qt Creator 的Tools -&gt;Options-&gt;Build &amp; Run-&gt;Kits，and then click Add; the configuration section appears;</p>
<p>2. Name input qt5.6.2;</p>
<p>3. Compiler selects GCC;</p>
<p>4. Qt Version Qt 5.6.2;</p>
<p>5. Qt mkspec write linux-oe-g++.</p>
<p><img alt="Image" src="_images/1715130890194_90666ddb_0adf_48a6_a4fd_3cb5316845c5.png" /></p>
<p>6. Then click “Apply and OK”.</p>
</section>
</section>
</section>
<section id="installation-issues">
<h3>3.3.4 Installation Issues<a class="headerlink" href="#installation-issues" title="Link to this heading"></a></h3>
<p><strong>Note: The following presents some problems and solutions encountered during the installation of Qt Creator 3.2.1. The issues may differ depending on the Ubuntu and Qt Creator version used. The example below details one specific installation case, and serves only as a reference. Users should focus on their own actual situation and resolve any issues accordingly.</strong></p>
<p>1. Opening Qt Creator appears qtcreator-3.2.1/lib/qtcreator/plugins/libHelp.so: Cannot load library /home/forlinx/qt; You cannot use help to report an error. You need to modify the software source and download and install some installation packages;</p>
<p>Method:</p>
<p>1) Add mirror sources to sources.list in etc/apt, use sudo vi /etc/apt/sources.list to open the file and add them at the end: deb http://archive.ubuntu.com/ubuntu/ trusty main universe restricted multiverse；</p>
<ol class="arabic simple" start="2">
<li><p>Inform Ubuntu to enable the new update source: sudo apt-get update</p></li>
</ol>
<p>3) Install the relevant installation package:</p>
<p>sudo apt-get  install libgstreamer0.10-dev</p>
<p>sudo apt-get  install libgstreamer-plugins-base0.10-dev</p>
<p>2. Open the project file in Qt Creator with an ordinary account, and there is a write permission error;</p>
<p><img alt="Image" src="_images/1715130890507_fa6a691a_3d47_466a_bbb7_84abdbd1f630.png" /></p>
<p>Solutions:</p>
<p>1) Check if the original qt file, under the current account, has executable permissions;</p>
<p>2) Add writable permissions to the user group: sudo chmod -R o+w audio/.</p>
</section>
</section>
<section id="related-code-compilation">
<h2>4. Related Code Compilation<a class="headerlink" href="#related-code-compilation" title="Link to this heading"></a></h2>
<p><strong>Note: This chapter uses the development environment with SDK (including cross-compilation chain) installed by default, and the development environment provided by Forlinx can directly operate this chapter. If users use their own development environment, they need to refer to the previous section to build the environment.</strong></p>
<p>This chapter mainly describes the compilation methods of the development board-related source code, including kernel source code compilation, making file system methods, and application program compilation methods.</p>
<section id="preparation-before-compilation">
<h3>4.1 Preparation Before Compilation<a class="headerlink" href="#preparation-before-compilation" title="Link to this heading"></a></h3>
<section id="description-of-the-environment">
<h4>4.1.1 Description of the Environment<a class="headerlink" href="#description-of-the-environment" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Development environment OS: Ubuntu18.04 64-bit version</p></li>
<li><p>Cross tool chain: arm-poky-linux-gnueabi-gcc 5.3.0</p></li>
<li><p>The board uses the Bootloader version: u-boot-2016.03.</p></li>
<li><p>Development board kernel: Linux -4.1.15</p></li>
<li><p>Development board porting QT version: qt5.6.2</p></li>
</ul>
</section>
<section id="source-code-copy">
<h4>4.1.2 Source Code Copy<a class="headerlink" href="#source-code-copy" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Kernel Source: User Profile \ Linux \ source \ kernel \ linux-4.1.15.tar.bz2</p></li>
<li><p>File system: User Profile \Linux\ mirror \ rootfs-console.tar.bz2 and rootfs-qt.tar.bz2</p></li>
<li><p>Command line test program: User Data\Linux\Test Program\cmd.</p></li>
<li><p>QT test program: User Data\Linux\Test Program\qt5.6.</p></li>
</ul>
<p>There are many kinds of file transfers between ubuntu and Windows hosts. After installing VMware Tools, you can set up a virtual machine shared folder to mount the file directory of the Windows host to ubuntu for file sharing.</p>
<p>Click “Virtual Machine” in the menu bar and select “Settings”.</p>
<p><img alt="Image" src="_images/1715131102725_8c309a2c_faeb_452b_b442_009fea435688.png" /></p>
<p>Click “Options”, enable “Shared Folders”, set the shared directory on the Windows host, and click “OK”.</p>
<p><img alt="Image" src="_images/1715131102937_07075d0b_532f_48f2_947d_8aaa50a98e27.png" /></p>
<p>After the virtual machine’s file sharing is set up, put the following items for testing: the kernel source code linux-4.1.15.tar.bz2, the file system (rootfs-console.tar.bz2 is used as an example in this section), the command line test program wdttest.c, and the QT test program audio into the shared folder on the Windows host.</p>
<p>The shared folder is in the mount directory /mnt/hgfs/share in ubuntu；view the files in the mount directory</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ ls /mnt/hgfs/share/
audio  linux-4.1.15.tar.bz2  rootfs-console.tar.bz2  wdttest.c
</pre></div>
</div>
<p>Copy the source code from the shared folder to ubuntu/home/forlinx/work.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ sudo cp -r /mnt/hgfs/share/audio /home/forlinx/work/      
[sudo] password for forlinx: 
forlinx@ubuntu:~$ sudo cp /mnt/hgfs/share/linux-4.1.15.tar.bz2 /home/forlinx/work/
forlinx@ubuntu:~$ sudo cp /mnt/hgfs/share/rootfs-console.tar.bz2 /home/forlinx/work/
forlinx@ubuntu:~$ sudo cp /mnt/hgfs/share/wdttest.c /home/forlinx/work/
forlinx@ubuntu:~$ cd /home/forlinx/work/
forlinx@ubuntu:~/work$ ls
audio  linux-4.1.15.tar.bz2  rootfs-console.tar.bz2  wdttest.c        //File copy succeeded
forlinx@ubuntu:~/work$
</pre></div>
</div>
</section>
<section id="id2">
<h4>4.1.3 Environment Variables Settings<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p><strong>Note: After switching accounts, you need to set the environment variables again.</strong></p>
<p>To set environment variables before compiling related source code. When compiling the kernel, it is recommended to use the root account to reduce some permission problems. The following source code compilations default to having environment variables set. Set the environment variable requires the following command:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>. /opt/fsl-imx-x11/4.1.15-2.0.0/environment-setup-cortexa7hf-neon-poky-linux-gnueabi
</pre></div>
</div>
</section>
</section>
<section id="kernel-compilation">
<h3>4.2 Kernel Compilation<a class="headerlink" href="#kernel-compilation" title="Link to this heading"></a></h3>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>After the kernel source code is decompressed for the first time, the source code needs to be compiled as a whole;</strong></p></li>
<li><p><strong>After the overall compilation, it can be compiled separately according to the actual situation.</strong></p></li>
</ul>
<p>Switch to the root account and extract the kernel source code copied to the /home/forlinx/work directory using the tar command to the kernel source path.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ sudo su                       // Switch to the root user identity
[sudo] password for forlinx:                        // Enter the password for the forlinx account as prompted. The input is not echoed.
root@ubuntu:/home/forlinx/work# tar xvf linux-4.1.15.tar.bz2     // Extract the kernel source code
… …The extraction information is omitted here.
root@ubuntu:/home/forlinx/work# cd linux-4.1.15                 // Enter the kernel source code directory
</pre></div>
</div>
<p>Reset the environment variables after switching accounts:</p>
<p>. /opt/fsl-imx-x11/4.1.15-2.0.0/environment-setup-cortexa7hf-neon-poky-linux-gnueabi</p>
<p><img alt="Image" src="_images/1715131103158_a0d86cd0_3f4e_4591_a938_bcac008e5789.png" /></p>
<section id="linux-4-1-15-kernel-full-compilation">
<h4>4.2.1 Linux-4.1.15 Kernel Full Compilation<a class="headerlink" href="#linux-4-1-15-kernel-full-compilation" title="Link to this heading"></a></h4>
<p>In the source code directory, there is a compilation script named “build.sh”. Running this script will compile the entire source code.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ubuntu:/home/forlinx/work# cd linux-4.1.15
</pre></div>
</div>
<p>The following operations need to be done in the source directory to compile the kernel methods:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ubuntu:/home/forlinx/work/linux-4.1.15# ./imx6ull_c_build.sh
</pre></div>
</div>
<p>After executing the compilation, there is a lot of information generated, so only the last part need to be captured.</p>
<p><img alt="Image" src="_images/1715131103434_1d844066_f8c6_4f4b_ad84_6c45d2684478.png" /></p>
<p>After a successful compilation, module files with the extension “.ko” will be generated. In the directory “linux-4.1.15/arch/arm/boot/”, a file named “zImage” will be generated. In the directory “linux-4.1.15/arch/arm/boot/dts/”, related dtb (Device Tree Blob) files will be generated. Please refer to the separate section on compiling Device Trees for detailed information.</p>
<p>Explanation of some of the commands in build.sh:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>File</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>make imx6ull_defconfig</p></td>
<td><p>1. This command loads a configuration file into .config (which is read from .config when menuconfig does graphical configuration);<br />2. inux-4.1.15/arch/arm/configs/imx6ull_defconfig is the kernel configuration file, when you use the source code for the first time, you need to configure the kernel through this step;<br />3. To configure using “menuconfig”, you need to perform this step first.<br />After saving and exiting the graphical interface configuration, the latest configuration will be updated in the “.config” file.<br />At this point, you can copy the configurations from the “.config” file to “imx6ull_defconfig”,<br />which will serve as the new configuration file.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>make zImage</p></td>
<td><p>To compile “zImage”, after a successful compilation, the “zImage” file<br />will be generated in the “linux-4.1.15/arch/arm/boot/” directory.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>make dtbs</p></td>
<td><p>Compile the device tree. Generate the corresponding dtb file under<br />the path inux-4.1.15/arch/arm/boot/dts.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>make modules</p></td>
<td><p>Compile module</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>make distclean</p></td>
<td><p>The latest.config is cleared and the kernel needs to be reconfigured after the operation.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="separate-zimage-compilation">
<h4>4.2.2 Separate zImage Compilation<a class="headerlink" href="#separate-zimage-compilation" title="Link to this heading"></a></h4>
<p>The user operates under the kernel source path, provided that the environment variables are set.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ubuntu:/home/forlinx/work/linux-4.1.15# make imx6ull_defconfig
root@ubuntu:/home/forlinx/work/linux-4.1.15# make zImage
</pre></div>
</div>
<p>Successful compilation will generate zImage in linux-4.1.15/arch/arm/boot/ path.</p>
</section>
<section id="separate-device-tree-compilation">
<h4>4.2.3 Separate Device Tree Compilation<a class="headerlink" href="#separate-device-tree-compilation" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ubuntu:/home/forlinx/work/linux-4.1.15# make dtbs
</pre></div>
</div>
<p>The device tree is under the path in source linux-4.1.15/arch/arm/boot/dts/, and the corresponding dtb file will be generated under that path after successful compilation:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p><strong>Device tree file</strong></p></th>
<th class="head text-center"><p><strong>Generate files</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><font style="color:rgb(0, 0, 0);">okmx6ULL-C-emmc.dts</font></p></td>
<td class="text-center"><p><font style="color:rgb(0, 0, 0);">okmx6ULL-C-emmc.dtb</font></p></td>
<td><p>Applicable for eMMC SoM</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><font style="color:rgb(0, 0, 0);">okmx6ULL-C-nand.dts</font></p></td>
<td class="text-center"><p><font style="color:rgb(0, 0, 0);">okmx6ULL-C-nand.dtb</font></p></td>
<td><p>Applicable for 256M-NAND SoM</p></td>
</tr>
</tbody>
</table>
</section>
<section id="independent-module-compilation">
<h4>4.2.4 Independent Module Compilation<a class="headerlink" href="#independent-module-compilation" title="Link to this heading"></a></h4>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@ubuntu:/home/forlinx/work/linux-4.1.15# make modules
</pre></div>
</div>
<p>After successful compilation, the corresponding .ko file will be generated under the corresponding path of the driver.</p>
<p>Use the command “make modules_install INSTALL_MOD_PATH=/home/forlinx/work/” to export the modules to the specified directory /home/forlinx/work/, and then compress and package the exported modules as modules.tar.bz2, and replace the same file in the burning tool when burning.</p>
<p><img alt="Image" src="_images/1715131103730_2aec4ee9_1abb_4a35_a281_69c556fb0c13.png" /><img alt="Image" src="_images/1715131103941_36e20512_d247_402d_a586_7d259e77385b.png" /></p>
</section>
</section>
<section id="creating-the-file-system">
<h3>4.3 Creating the File System<a class="headerlink" href="#creating-the-file-system" title="Link to this heading"></a></h3>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p><strong>Forlinx provides two types of file systems: the Qt version (rootfs-qt.tar.bz2) and the console version (rootfs-console.tar.bz2);</strong></p></li>
<li><p><strong>The file system used by different SoM varies and is described in the software manual.</strong></p></li>
</ul>
<p>When adding applications or modifying the file system during use, you can refer to the following methods.</p>
<p>Take rootfs-console.tar.bz2 as an example:</p>
<ol class="arabic simple">
<li><p>Create a folder where the target filesystem rootfs is stored, e.g. /home/forlinx/work, and enter that directory.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ sudo mkdir rootfs
[sudo] password for forlinx:
forlinx@ubuntu:~/work$ cd rootfs/
forlinx@ubuntu:~/work/rootfs$ 
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Copy the filesystems in the /home/forlinx/work path to the newly created rootfs directory and unpack it.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/rootfs$ sudo cp ../rootfs-console.tar.bz2 ./
forlinx@ubuntu:~/work/rootfs$ ls
rootfs-console.tar.bz2					//Copy succeeded
forlinx@ubuntu:~/work/rootfs$ sudo tar xvf rootfs-console.tar.bz2 	//Extract file system
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Remove the original filesystem archive with the rm command</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/rootfs$ ls
bin  dev  etc  forlinx  home  lib  media  mnt  proc  rootfs-console.tar.bz2  run  sbin  sys  tmp  usr  var
forlinx@ubuntu:~/work/rootfs$ sudo rm rootfs-console.tar.bz2 
forlinx@ubuntu:~/work/rootfs$ ls
bin  dev  etc  forlinx  home  lib  media  mnt  proc  run  sbin  sys  tmp  usr  var
forlinx@ubuntu:~/work/rootfs$ 
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>After the user has made changes to the file system according to his needs, he can use the tar command to compress the file system again. If you are operating with a regular account, you need to use the fakeroot command emulates root permissions to avoid file permissions changes.</p></li>
</ol>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work/rootfs$ sudo fakeroot tar cvjf rootfs-console.tar.bz2 *      //*There is a space in front of it
forlinx@ubuntu:~/work/rootfs$ ls
bin  dev  etc  forlinx  home  lib  media  mnt  proc  rootfs-console.tar.bz2  run  sbin  sys  tmp  usr  var
</pre></div>
</div>
<p>Using the “ls” command, you can see the generated “rootfs-console.tar.bz2” compressed package, which is the filesystem image that can be flashed to the development board’s flash memory.</p>
</section>
<section id="application-compilation-and-operation">
<h3>4.4 Application Compilation and Operation<a class="headerlink" href="#application-compilation-and-operation" title="Link to this heading"></a></h3>
<section id="command-line-application-compilation-and-operation">
<h4>4.4.1 Command Line Application Compilation and Operation<a class="headerlink" href="#command-line-application-compilation-and-operation" title="Link to this heading"></a></h4>
<p><strong>Note: The cross-compiler is installed and the environment variables are set by default for the following operations.</strong></p>
<p>This subsection uses the watchdog test program, the default program is copied to the /home/forlinx/work directory, refer to “4.1.2 Copying the Source Code”</p>
<p>1. Use the cd command to enter the /home/forlinx/work directory;</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~$ cd /home/forlinx/work/
</pre></div>
</div>
<p>2. Use $CC to cross-compile, after setting environment variables; $CC is the GCC of the cross-compiler; the specific configuration can be found in the script for setting environment variables: environment-setup-cortexa7hf-neon-poky-linux-gnueabi</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ $CC wdttest.c -o wdttest
</pre></div>
</div>
<p>Use the file command to view the generated file information</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ file wdttest
</pre></div>
</div>
<p>Information results:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>wdttest: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter 	/lib/ld-linux-armhf.so.3, for GNU/Linux 2.6.32,
BuildID[sha1]=400fbba6005ea8e7344df7080ab10d9ef54e3a45, not stripped
</pre></div>
</div>
<p>From the result, you can see that the compiled 32-bit ARM file.</p>
<p>3. Copy the compiled wdttest to the board via USB flash drive, for example, under the path /home/root, and run the test.</p>
<p>The default user login path is /home/root.</p>
<p>Copy the compiled wdttest program from the USB drive mount path to the current path.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:~# cp /run/media/sda1/wdttest  ./
</pre></div>
</div>
<p>Give the program executable permission and run it</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:~# chmod 766 wdttest				   //Set executable permissions for the program
root@fl-imx6ull:~#./wdttest	 /dev/watchdog settimeout 60 &amp;           //Run the program
</pre></div>
</div>
<p>4. Refer to the “Watchdog Test” section of the software manual for testing.</p>
</section>
<section id="qt-application-compilation-and-running">
<h4>4.4.2 QT Application Compilation and Running<a class="headerlink" href="#qt-application-compilation-and-running" title="Link to this heading"></a></h4>
<section id="qt-application-compilation">
<h5>4.4.2.1 QT Application Compilation<a class="headerlink" href="#qt-application-compilation" title="Link to this heading"></a></h5>
<p><strong>Note: The cross-compiler is installed and the environment variables are set by default for the following operations.</strong></p>
<ul class="simple">
<li><p>Method 1: Compile with qmake from the command line</p></li>
</ul>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ sudo chmod -R 766 audio/	             // Add permissions to audio application
forlinx@ubuntu:~/work$ qmake
forlinx@ubuntu:~/work$ make
</pre></div>
</div>
<ul class="simple">
<li><p>Method 2: Call qmake to compile through Qt Creator</p></li>
</ul>
<p>Add permissions to the audio application</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ sudo chmod -R 777 audio/
</pre></div>
</div>
<p>Open Qt Creator using the command line method (users open it according to their actual path)</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>forlinx@ubuntu:~/work$ /home/forlinx/qtcreator-3.2.1/bin/qtcreator.sh &amp;
</pre></div>
</div>
<p>Click File-&gt;Open File or Project in Qt Creator, a pop-up window will appear, select /root/Desktop/audio/audio.pro.</p>
<p>The principle is as follows:</p>
<p><img alt="Image" src="_images/1715131104216_6d917100_4bbe_49fc_beb7_c90a784bc990.png" /></p>
<p>Click “Open”.</p>
<p>A pop-up window will appear to indicate whether to keep the original environment settings, select no, as follows:</p>
<p><img alt="Image" src="_images/1715131104467_b45ec108_2b76_45dc_80e3_d137b571fcd6.png" /></p>
<p>The Configure Project window pops up as follows:</p>
<p><img alt="Image" src="_images/1715131104680_ad195f5a_417c_470d_9fcd_8d2e5cc0c619.png" /></p>
<p>Click “Configure Project”.</p>
<p>After opening the project, the interface is as follows:</p>
<p><img alt="Image" src="_images/1715131104939_4923c2ae_79fb_4abf_9fe3_1117eff0da68.png" /></p>
<p>Click Build-&gt;Clean All to clear it. (If the intermediate file is not cleared, it can be deleted manually)</p>
<p>Click Projects to uncheck Shadow build</p>
<p><img alt="Image" src="_images/1715131105189_2a6a8767_a29b_4424_84b8_cb96aa54ef21.png" /></p>
<p>Then click Build-&gt; Build All to compile.</p>
<p><img alt="Image" src="_images/1715131105485_41b7d280_eb3b_4ec7_a439_e84675b3784a.png" /></p>
<p>After the Build progress bar in the lower right corner is finished, you will see the newly generated audio binary file in the /files/audio/ directory as follows:</p>
<p><img alt="Image" src="_images/1715131105880_d25368ef_b526_437d_9b80_9ccfb6ea02c3.png" /></p>
</section>
<section id="qt-application-running">
<h5><strong>4.4.2.2 QT Application Running</strong><a class="headerlink" href="#qt-application-running" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Replace the method of running QT program in the desktop</p></li>
</ul>
<p>1. Flash the development board and boot qt system;</p>
<p>2.Copy the generated audio executable file to the SD card, and then insert the SD card to the development board;</p>
<p>3. Execute the following commands to copy the audio to the appropriate directory, replace the original audio application, set executable permissions for the program, and reboot the board after file synchronization.</p>
<p>Use the cd command to enter the default path to the qt program on the development board’s desktop system:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:~# cd /usr/bin/ 
</pre></div>
</div>
<p>Rename the original audio file for backup with the mv command</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/usr/bin/# mv fltest_qt_audio fltest_qt_audiobak
</pre></div>
</div>
<p>Copy the audio program in the SD card to the current directory.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/usr/bin# cp /run/media/mmcblk1p1/audio ./fltest_qt_audio
</pre></div>
</div>
<p>Give executable permissions and save to reboot the development board:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/usr/bin# chmod a+x fltest_qt_audio                     // Grant executable permissions to all user groups.
root@fl-imx6ull:/usr/bin# sync                                         // Synchronize files.
root@fl-imx6ull:/usr/bin# reboot                                      // Reboot the development board.
</pre></div>
</div>
<p>4. After the board restarts, if the audio test application in the Qt interface is the latest version and you can play audio by clicking on “play,” it indicates that the newly compiled Qt application is functional. This also confirms the successful configuration of the Qt application development environment.</p>
<ul class="simple">
<li><p>Method of testing the QT program individually</p></li>
</ul>
<ol class="arabic simple">
<li><p>Copy the generated audio executable file to the SD card, insert the SD card to the development board, and copy the program to the/home path;</p></li>
<li><p>Set executable permissions to the program;</p></li>
<li><p>You need to use the command export DISPLAY=:0.0 to load the QT environment variables before testing the QT program.</p></li>
</ol>
<p>Copy the audio file from the sd mounted path to the /home path of the development board.</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:~#cp /run/media/mmcblk1p1/audio /home
</pre></div>
</div>
<p>Go into the /home directory with the cd command and give audio executable permissions</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/home# chmod a+x audio
</pre></div>
</div>
<p>Set the environment variable for QT</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/home# export DISPLAY=:0.0
</pre></div>
</div>
<p>Run the audio application</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>root@fl-imx6ull:/home# ./audio
</pre></div>
</div>
</section>
<section id="qt-desktop-emmc-version-only">
<h5><strong>4.4.2.3 QT Desktop (EMMC Version Only)</strong><a class="headerlink" href="#qt-desktop-emmc-version-only" title="Link to this heading"></a></h5>
<p><strong>Startup Applications</strong></p>
<p>After the Qt system boots up, the desktop program starts by default. If you need to automatically start a user program, please modify the following file in the file system: /etc/matchbox/session.</p>
<p>Add your own application after matchbox-desktop &amp;. For example, to add a ping test program: fltest_qt_ping &amp;.</p>
<p>The ping test program will then start automatically when the system boots.</p>
<p>If you comment out the following part:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span># matchbox-desktop &amp;
# matchbox-panel --titlebar --start-applets $START_APPLETS --end-applets $END_APPLETS &amp;
</pre></div>
</div>
<p>The desktop will not run and the title bar will not be displayed.</p>
<p>If you modify the match-panel option, the content of the title bar will be changed. For example, if you remove clock from “END_APPLETS=clock,battery,$KEYBOARD_APPLET,systray,startup-notify,notify”, the time will not be displayed. e.g.:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>START_APPLETS=showdesktop,windowselector
END_APPLETS=battery,$KEYBOARD_APPLET,systray,startup-notify,notify
matchbox-panel --titlebar --start-applets $START_APPLETS --end-applets $END_APPLETS &amp;
</pre></div>
</div>
<p><strong>Add Desktop Application</strong></p>
<p>This section describes how to set up folders such as Forlinx and Application:</p>
<p>1. Folder settings are stored in: /usr/share/matchbox/vfolders </font><font style="color:#000000;">e.g: </font><font style="color:#0000FF;"> Forlinx.directory</font></p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[Desktop Entry]
Name=Forlinx
Name[de]=Einstellungen
Comment=Forlinx test app
Comment[de]=Forlinx test app
Icon=mbfolder.png
Type=Directory
Match=Forlinx
</pre></div>
</div>
<p>The important thing is the Match property, which determines what type of App is displayed in the folder</p>
<p>Folders are displayed in the following order: /usr/share/matchbox/vfolders/Root.order</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>Forlinx
Applications
Utilities
Games
Settings
All
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Application Settings:</strong></p></li>
</ul>
<p>Icon directory: /usr/share/pixmaps</p>
<p>Application Settings: </font><font style="color:#0000FF;">/usr/share/applications</font></p>
<p>Each application corresponds to a.desktop file. Take Ping as an example:</p>
<div class="highlight-plain notranslate"><div class="highlight"><pre><span></span>[Desktop Entry]
Name=Qt5 Ping
Exec=/usr/bin/fltest_qt_ping
Icon=ping-icon
Type=Application
Categories=Forlinx;
</pre></div>
</div>
<p>Each application corresponds to a.desktop file. Take Ping as an example:</p>
<p>It specifies the icon, the location of the executable program, and the folder in which it is displayed on the desktop.</p>
</section>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <div class="forlinx-footer-social" style="margin-top: 15px; padding: 0 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">

    <!-- 左侧版权信息 -->
    <span style="font-size: 14px; color: #444;">
      © <a href="https://www.forlinx.net/" target="_blank" style="color: inherit; text-decoration: none;">Forlinx Embedded</a>
    </span>

    <!-- 右侧社交图标 -->
    <div>
      <a href="https://www.facebook.com/Forlinx-Embedded-177890724336237" target="_blank">
        <i class="fab fa-facebook fa-lg" style="margin: 0 6px; color:#3b5998;"></i>
      </a>
      <a href="https://www.linkedin.com/company/forlinx-embedded-technology-co-ltd/" target="_blank">
        <i class="fab fa-linkedin fa-lg" style="margin: 0 6px; color:#0077b5;"></i>
      </a>
      <a href="https://x.com/ForlinxOfficial" target="_blank">
        <i class="fab fa-x-twitter fa-lg" style="margin: 0 6px; color:#000;"></i>
      </a>
      <a href="https://www.youtube.com/@forlinxembedded" target="_blank">
        <i class="fab fa-youtube fa-lg" style="margin: 0 6px; color:#FF0000;"></i>
      </a>
      <a href="https://github.com/ForlinxEmbedded" target="_blank">
        <i class="fab fa-github fa-lg" style="margin: 0 6px; color:#333;"></i>
      </a>
      <a href="https://www.forlinx.net/" target="_blank">
        <i class="fas fa-globe fa-lg" style="margin: 0 6px; color:#2274A5;"></i>
      </a>
    </div>

  </div>
</div>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>